---
title: 两个 rename
date: 2021-09-19 15:52:51 +0800
description:
author: wKevin
categories:
  - it
tags:
  - rename
---

![](/images/posts/2021-09-19-two.rename/rename.svg){: width="250" }

windows 中有个 rename 命令，linux、macOS 中对应 mv，但其实 linux、macOS 中也有 rename，并且不止一个，语法和入参还不一样，容易让人混淆：

1. perl rename：
2. util-linux rename:

|                     | perl rename                     | util-linux rename                       |
| ------------------- | ------------------------------- | --------------------------------------- |
| 安装 in ubuntu      | 默认都有                        | `apt i util-linux`                      |
| 安装 in macOS       | `brew i rename`                 |
| 安装 in Alpine      |                                 | `apk add util-linux`                    |
| man 手册            | [man1][]                        | [man2][]                                |
| 用法                | `rename perlexpr [ files ]`     | `rename expression replacement file...` |
| foo.md -> bar.md    | `rename 's/foo/bar/' *.md`      | `rename foo bar *.md`                   |
| foo*.md -> foo0*.md | `rename 's/foo/foo0/' foo*.md`  | `rename foo foo0 foo*.md`               |
| _.css -> _.scss     | `rename 's/.css$/.css$/' *.css` | `rename .css .scss *.css`               |

[man1]: https://manpages.debian.org/stretch/rename/file-rename.1p.en.html
[man2]: https://manpages.debian.org/stretch/util-linux/rename.ul.1.en.html

所以，我以前有一个脚本中的命令：

```
rename "s/.html/-${theme}.html/" *.html
```

就可能不在通用，修改为：

```
for old in *.html; do
    new=$(echo $old | sed -e "s/.html/-${theme}.html/")
    mv $old $new
done
```
