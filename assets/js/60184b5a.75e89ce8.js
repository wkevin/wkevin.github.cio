"use strict";(self.webpackChunkdocusaurus_site=self.webpackChunkdocusaurus_site||[]).push([[2898],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=r.createContext({}),u=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},s=function(e){var n=u(e.components);return r.createElement(o.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=u(t),m=a,y=d["".concat(o,".").concat(m)]||d[m]||k[m]||l;return t?r.createElement(y,p(p({ref:n},s),{},{components:t})):r.createElement(y,p({ref:n},s))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,p=new Array(l);p[0]=d;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i.mdxType="string"==typeof e?e:a,p[1]=i;for(var u=2;u<l;u++)p[u]=t[u];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3422:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return k}});var r=t(87462),a=t(63366),l=(t(67294),t(3905)),p=["components"],i={title:"TypeScript \u679c\u7136\u591f Type",description:"awesome.type.in.typescript",authors:"wKevin",tags:["typescript"]},o=void 0,u={permalink:"/blog/2022/04/27/awesome.type.in.typescript",source:"@site/blog/2022-04-27-awesome.type.in.typescript/index.mdx",title:"TypeScript \u679c\u7136\u591f Type",description:"awesome.type.in.typescript",date:"2022-04-27T00:00:00.000Z",formattedDate:"April 27, 2022",tags:[{label:"typescript",permalink:"/blog/tags/typescript"}],truncated:!0,authors:[{name:"wKevin",title:"\u4e00\u9897\u5411\u4e0a\u7684\u6c34\u6ef4",url:"http://weibo.com/wkevin27",imageURL:"/img/avastar/angry.bird-l.jpg",key:"wKevin"}],frontMatter:{title:"TypeScript \u679c\u7136\u591f Type",description:"awesome.type.in.typescript",authors:"wKevin",tags:["typescript"]},prevItem:{title:"Github \u4e0a\u4ece private \u5e93\u5411 public \u5e93\u90e8\u7f72\u5236\u54c1",permalink:"/blog/2022/05/01/deploy.to.another.repo.in.github"},nextItem:{title:"\u664b\u5347\u7b54\u8fa9\u600e\u4e48\u804a",permalink:"/blog/2022/04/24/promote.defence"}},s={authorsImageUrls:[void 0]},k=[{value:"\u7c7b\u578b\u540d\u662f\u5426\u6dfb\u52a0",id:"\u7c7b\u578b\u540d\u662f\u5426\u6dfb\u52a0",level:2},{value:"ts \u4e2d\u7684\u4efb\u610f\u7c7b\u578b\uff1aany\u3001unknown \u53ca\u53d8\u91cf undefined",id:"ts-\u4e2d\u7684\u4efb\u610f\u7c7b\u578banyunknown-\u53ca\u53d8\u91cf-undefined",level:2},{value:"ts \u4e2d\u7684\u7a7a\u865a\u7c7b\u578b\uff1anever\u3001void \u53ca\u53d8\u91cf null",id:"ts-\u4e2d\u7684\u7a7a\u865a\u7c7b\u578bnevervoid-\u53ca\u53d8\u91cf-null",level:2},{value:"ts \u7c7b\u578b\u4e4b\u4e8e\u9632\u5fa1\u578b\u548c\u5951\u7ea6\u578b",id:"ts-\u7c7b\u578b\u4e4b\u4e8e\u9632\u5fa1\u578b\u548c\u5951\u7ea6\u578b",level:2},{value:"\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u57fa\u7840\u6982\u5ff5",id:"\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u57fa\u7840\u6982\u5ff5",level:2},{value:"\u5b57\u9762\u91cf\u7c7b\u578b",id:"\u5b57\u9762\u91cf\u7c7b\u578b",level:3},{value:"\u5b50\u7c7b\u578b(extends)",id:"\u5b50\u7c7b\u578bextends",level:3},{value:"\u6761\u4ef6\u7c7b\u578b",id:"\u6761\u4ef6\u7c7b\u578b",level:3},{value:"ts \u5185\u5efa\u81ea\u5b9a\u4e49\u7c7b\u578b",id:"ts-\u5185\u5efa\u81ea\u5b9a\u4e49\u7c7b\u578b",level:2},{value:"Partial",id:"partial",level:3},{value:"Record",id:"record",level:3},{value:"ReturnType",id:"returntype",level:3},{value:"Lowercase/Uppercase",id:"lowercaseuppercase",level:3},{value:"sindresorhus/type-fest",id:"sindresorhustype-fest",level:2},{value:"Simplify",id:"simplify",level:3},{value:"IsEqual",id:"isequal",level:3},{value:"Filter",id:"filter",level:3},{value:"Except",id:"except",level:3},{value:"SetOptional",id:"setoptional",level:3},{value:"\u6700\u540e",id:"\u6700\u540e",level:2}],d={toc:k};function m(e){var n=e.components,t=(0,a.Z)(e,p);return(0,l.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"\u4ece C\u3001Python \u7b49\u4f20\u7edf\u8bed\u8a00\u8d70\u8fc7\u6765\u7684\u5bf9\u7c7b\u578b\u90fd\u6709\u201c\u6df1\u523b\u201d\u7684\u7406\u89e3\uff0c\u53bb\u6389\u679a\u4e3e\u3001\u5217\u8868\u3001\u5143\u7956\u3001\u96c6\u5408\u7b49\u7ec4\u5408\u578b\u7684\uff0c\u57fa\u7840\u7c7b\u578b\u6211\u6574\u7406\u4e86\u4e0b\u8868\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"C"),(0,l.kt)("th",{parentName:"tr",align:null},"Python"),(0,l.kt)("th",{parentName:"tr",align:null},"Go"),(0,l.kt)("th",{parentName:"tr",align:null},"typescript"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6574\u6570"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"short"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"long")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"long")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int[x]"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"uint[x]"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"rune")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6d6e\u70b9\u6570"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"float"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"double")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"float")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"float32"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"float64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u590d\u6570"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"_complex")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"complex")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"complex64"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"complex128")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5b57\u7b26"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"char")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"byte")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5b57\u7b26\u4e32"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"str"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"unicode")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u5e03\u5c14"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"_bool")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"bool")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u9488"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"*")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"uintptr")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u4efb\u610f\u7c7b\u578b"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"any"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"unknown"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u65e0\u7c7b\u578b"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"void")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"NoneType")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"void"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"never"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u7279\u8272\u7c7b\u578b"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"\u5b57\u9762\u91cf\u7c7b\u578b"))))),(0,l.kt)("p",null,"ts \u6bd4\u5176\u4ed6\u8bed\u8a00\u5728\u67d0\u4e9b\u65b9\u9762\u597d\u50cf\u7b80\u5316\u4e86\uff0c\u6bd4\u5982\u7528 number \u4ee3\u66ff\u5404\u79cd\u6570\u5b57\u578b\uff0c\u4f46\u67d0\u4e9b\u65b9\u9762\u53c8\u597d\u50cf\u590d\u6742\u4e86\u5f88\u591a\uff0c\u4efb\u610f\u7c7b\u578b\u548c\u65e0\u7c7b\u578b\u5c31\u5f04\u51fa\u6765 4 \u79cd\uff0c\u8fd8\u641e\u51fa\u6765 \u5b57\u9762\u91cf\u7c7b\u578b \u2014\u2014 \u8fd9\u4e9b\u53d8\u5316\uff0c\u4f53\u73b0\u4e86 ts \u8bed\u8a00\u8bbe\u8ba1\u8005\u7684\u6743\u8861\u548c\u7528\u5fc3\uff0c\u540c\u65f6\u8bed\u8a00\u8bbe\u8ba1\u8005\u4e5f\u4e3a\u7528\u6237\u6269\u5c55 ts \u7684 type \u7559\u4e0b\u4e86\u4e00\u4e9b\u8bed\u6cd5\uff0c\u66f4\u662f\u5728 type \u81ea\u5b9a\u4e49\u3001\u6269\u5c55\u8fd9\u4e2a\u65b9\u9762\u4e0e\u5176\u4ed6\u8bed\u8a00\u62c9\u5f00\u4e86\u5dee\u5f02\u3002"),(0,l.kt)("p",null,"\u4e0b\u9762\uff0c\u4ece\u6211\u4e00\u4e2a\u521a\u5165\u95e8\u4e0d\u4e45\u7684 ts \u7528\u6237\u7ecf\u5386\u548c\u611f\u53d7\uff0c\u804a\u804a\u6211\u6700\u8fd1\u5bf9 TypeScript \u4e2d Type \u8fd9\u51e0\u4e2a\u5b57\u7684\u7406\u89e3\u3002"),(0,l.kt)("h2",{id:"\u7c7b\u578b\u540d\u662f\u5426\u6dfb\u52a0"},"\u7c7b\u578b\u540d\u662f\u5426\u6dfb\u52a0"),(0,l.kt)("p",null,"python \u548c go \u5728\u4ee3\u7801\u4e2d\u7c7b\u578b\u540d\u662f\u53ef\u52a0\u53ef\u4e0d\u52a0\u7684\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u9700\u8981\u7528\u6237\u81ea\u5df1\u52a0\uff0c\u800c\u662f\u7f16\u8bd1\u5668\u81ea\u5df1\u63a8\u5bfc\uff0c\u800c ts \u8d70\u4e86 C \u7684\u8def\u7ebf\uff0c\u5341\u5206\u751a\u81f3\u5f3a\u5236\u7528\u6237\u6307\u660e\u6240\u6709\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u5b9a\u4e49\u53d8\u91cf\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Python: ",(0,l.kt)("inlineCode",{parentName:"li"},"i = 10")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},"i: int = 10")),(0,l.kt)("li",{parentName:"ul"},"Go: ",(0,l.kt)("inlineCode",{parentName:"li"},"i := 10")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},"i int := 10")),(0,l.kt)("li",{parentName:"ul"},"C \uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"int i = 10")),(0,l.kt)("li",{parentName:"ul"},"ts: ",(0,l.kt)("inlineCode",{parentName:"li"},"const i:number = 10"))),(0,l.kt)("p",null,"\u4ece\u5b9a\u4e49\u65b9\u4fbf\u6027\u4e0a\u770b\uff0cpython \u548c go \u90fd\u66ff\u7528\u6237\u8282\u7701\u4e86\u952e\u76d8\u6572\u51fb\uff0cts \u5b66\u4e60\u4e86\u51e0\u5341\u5e74\u524d\u7684\u8001\u5927\u54e5 C\uff0c\u51b3\u5b9a\u6bc1\u6389\u7528\u6237\u952e\u76d8\u3002"),(0,l.kt)("p",null,"why\uff1f\u2014\u2014 \u4e0d\u662f\u6211\u4eca\u5929\u8be6\u804a\u7684\u5185\u5bb9\uff0c\u7565\u8fc7\u3002"),(0,l.kt)("h2",{id:"ts-\u4e2d\u7684\u4efb\u610f\u7c7b\u578banyunknown-\u53ca\u53d8\u91cf-undefined"},"ts \u4e2d\u7684\u4efb\u610f\u7c7b\u578b\uff1aany\u3001unknown \u53ca\u53d8\u91cf undefined"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"any:\u4efb\u610f\u7c7b\u578b\u7684\u53d8\u91cf"),(0,l.kt)("li",{parentName:"ul"},"unknown: \u8868\u793a\u672a\u77e5\u7c7b\u578b\uff0cunknown \u4e0e any \u7c7b\u4f3c \u4f46\u4f7f\u7528\u524d\u5fc5\u987b\u8fdb\u884c\u65ad\u8a00\u6216\u5b88\u536b"),(0,l.kt)("li",{parentName:"ul"},"undefined: \u662f\u4e2a\u5185\u5efa\u53d8\u91cf\uff0c\u4e0d\u662f\u7c7b\u578b")),(0,l.kt)("p",null,"any \u548c unknown \u7684\u76f8\u540c\u70b9\u662f\uff1a\u53d8\u91cf\u53ef\u4ee5\u88ab\u8d4b\u503c\u4efb\u4f55\u7c7b\u578b\u7684\u503c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'let anyTypeVar: any;\nanyTypeVar = "foobar";\nanyTypeVar = 10;\nanyTypeVar = { foobar: 10 };\n\nlet unknownTypeVar: unknown;\nunknownTypeVar = "foobar";\nunknownTypeVar = 10;\nunknownTypeVar = { foobar: 10 };\n')),(0,l.kt)("p",null,"any \u548c unknown \u7684\u4e0d\u540c\u70b9\u662f\uff1aany \u53d8\u91cf\u53ef\u4ee5\u5411\u5176\u4ed6\u7c7b\u578b\u53d8\u91cf\u8d4b\u503c\uff0cunkonwn \u5374\u53ea\u80fd\u5411 any \u548c unknown \u53d8\u91cf\u8d4b\u503c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"let i: number = 10;\ni = anyTypeVar; // OK\uff0c\u5e76\u4e14 i \u4e0d\u518d\u662f number \u7c7b\u578b\uff0c\u800c\u662f any \u7c7b\u578b\n// i = unknownTypeVar; // Error,\u8bed\u6cd5\u4e0d\u5141\u8bb8\nanyTypeVar = unknownTypeVar; // OK\n")),(0,l.kt)("p",null,"\u6240\u4ee5\uff0cany \u53ef\u4ee5\u7406\u89e3\u6210\u53cc\u5411\u7684\uff0c\u80fd\u8fdb\u80fd\u51fa\uff1bunknown \u662f\u4e2a\u5355\u5411\u7684\uff0c\u51fa\u53e3\u53ea\u80fd\u5185\u5faa\u73af\u3002"),(0,l.kt)("h2",{id:"ts-\u4e2d\u7684\u7a7a\u865a\u7c7b\u578bnevervoid-\u53ca\u53d8\u91cf-null"},"ts \u4e2d\u7684\u7a7a\u865a\u7c7b\u578b\uff1anever\u3001void \u53ca\u53d8\u91cf null"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"never: \u6c38\u4e0d\u5b58\u5728\u7684\u503c\u7684\u7c7b\u578b"),(0,l.kt)("li",{parentName:"ul"},"void: \u65e0\u4efb\u4f55\u7c7b\u578b\uff0c\u6ca1\u6709\u7c7b\u578b\uff0c\u5e38\u7528\u4e8e\u8868\u793a\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c"),(0,l.kt)("li",{parentName:"ul"},"null: \u662f\u4e2a\u5185\u5efa\u53d8\u91cf\uff0c\u4e0d\u662f\u7c7b\u578b")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"never")," \u6bd4\u8f83\u7279\u6b8a\uff0c\u53ef\u4ee5\u505a\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u4f46\u53ea\u80fd\u653e\u5728\u4e0d\u80fd\u6b63\u5e38\u7ed3\u675f\u7684\u51fd\u6570\u91cc\u9762\uff0c\u6bd4\u5982\uff1a\u6b7b\u5faa\u73af\u3001\u629b\u5f02\u5e38\u2026\u2026"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"function loopForever(msg: string): never {\n  while (true) {}\n}\nfunction error(msg: string): never {\n  throw new Error(msg);\n}\n")),(0,l.kt)("p",null,"never \u4e5f\u53ef\u4ee5\u5b9a\u4e49\u53d8\u91cf\uff0c\u4f46\u4efb\u4f55\u7c7b\u578b\u90fd\u4e0d\u80fd\u8d4b\u503c\u7ed9 never \u7c7b\u578b(\u9664\u4e86 never \u672c\u8eab\u4e4b\u5916\uff0cany \u4e5f\u4e0d\u884c)\u3002"),(0,l.kt)("p",null,"void \u5e38\u7528\u4e0e\u51fd\u6570\u8fd4\u56de\u503c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'function foobar(): void {\n  console.log("hello world");\n}\n')),(0,l.kt)("p",null,"\u76f8\u6bd4\u4e0d\u5199 void \u505a\u8fd4\u56de\u503c\uff0c\u597d\u5904\u662f\u4e00\u65e6\u8fd9\u4e2a\u51fd\u6570\u54ea\u5929\u88ab\u67d0\u4e2a\u7a0b\u5e8f\u5458\u4e0d\u5c0f\u5fc3\u5199\u4e86\u4e2a\u8fd4\u56de\u503c\uff0c\u662f\u4f1a\u62a5\u9519\u7684\u3002"),(0,l.kt)("p",null,"void \u7c7b\u578b\u7684\u53d8\u91cf\u53ea\u80fd\u8d4b\u503c undefined\u3001null\u3001\u548c void"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"let v1: void;\n// v1 = 10 // Error\nv1 = null;\nv1 = undefined;\n\nlet v2: void;\nv1 = v2;\n")),(0,l.kt)("h2",{id:"ts-\u7c7b\u578b\u4e4b\u4e8e\u9632\u5fa1\u578b\u548c\u5951\u7ea6\u578b"},"ts \u7c7b\u578b\u4e4b\u4e8e\u9632\u5fa1\u578b\u548c\u5951\u7ea6\u578b"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u9632\u5fa1\u578b"),"\uff1a\u5373\u65e0\u6cd5\u9650\u5236\u63a5\u6536\u7684\u6570\u636e\u7c7b\u578b\u3001\u6570\u636e\u91cf\u65f6\uff0c\u53ea\u80fd\u81ea\u5df1\u5185\u90e8\u505a\u597d\u5404\u7ea7\u9632\u8303\u63aa\u65bd\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u6c42\u4eba\u4e0d\u5982\u6c42\u5df1\u578b\u3002\u2014\u2014 \u5c06\u5165\u53c2\u58f0\u660e\u4e3a any\u3001unknown \u53ef\u4ee5\u505a\u5230\uff0c\u5e76\u4e14\u8282\u7701\u51fd\u6570\u91cd\u8f7d\u7b49\u65b9\u5f0f\u5e26\u6765\u7684\u590d\u6742\u6027\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\uff1a\u4f7f\u7528 typeof\uff08\u7c7b\u578b\u4fdd\u62a4\uff09\u548c as\uff08\u7c7b\u578b\u65ad\u8a00\uff09\u3002"),(0,l.kt)("p",null,"\u4e3e\u4f8b\uff1a\u51fd\u6570\u5165\u53c2\u4e0d\u505a\u9650\u5236\uff0c\u4f46 string\u3001number \u4e0d\u540c\u7c7b\u578b\u505a\u4e0d\u540c\u5904\u7406\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'function foobar(notSure: unknown) {\n  if (typeof notSure === "string") {\n    console.log((notSure as string).toLowerCase());\n  }\n  if (typeof notSure === "number") {\n    console.log(notSure);\n  }\n}\nfoobar("ABC"); // abc\nfoobar(10); // 10\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5951\u7ea6\u578b"),"\uff1a\u5373\u53cc\u65b9\u4e25\u683c\u9075\u5b88 API \u5b9a\u4e49\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u767d\u7eb8\u9ed1\u5b57\u3001\u7b7e\u5b57\u753b\u62bc\u578b\u3002 \u2014\u2014 \u7ec6\u81f4\u3001\u660e\u786e\u7684 API \u624d\u80fd\u652f\u6491\u8fd9\u79cd\u4e1a\u52a1\u573a\u666f\uff0c\u53e3\u5934\u548c\u6587\u6863\u90fd\u7ea6\u675f\u4e0d\u4e86 100% \u7684\uff0c\u53ea\u6709\u8bed\u8a00\u7ea7\u522b\u7684\u624d\u80fd\u5f7b\u5e95\u89e3\u51b3\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u53bb\u6389 unknown\uff0c\u6307\u5b9a\u7684\u66f4\u8be6\u7ec6\u4e9b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"function foobar(notSure: string|number): void {\n  ...\n}\n")),(0,l.kt)("p",null,"\u5982\u679c\u5951\u7ea6\u662f\u8fd9\u4e48\u5236\u5b9a\u7684\uff1afoobar \u7684\u8fd4\u56de\u503c\u4e5f\u8981\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"string | number"),"\uff0c\u53ef\u4ee5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"function foobar(notSure: string|number): string|number {\n  ...\n}\n")),(0,l.kt)("p",null,"\u6216\u8005\u7528\u6cdb\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"function foobar<T>(notSure: T): T {\n  ...\n}\nfoobar<string>('ABC')\nfoobar<number>(10)\nfoobar<boolean>(true) // \u4e5f\u662f\u5141\u8bb8\u7684\uff0c\u600e\u4e48\u907f\u514d\uff1f\n")),(0,l.kt)("p",null,"\u4e0d\u5e0c\u671b\u7684 boolean \u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u600e\u4e48\u907f\u514d\uff1f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"function foobar<T extends string|number>(notSure: T): T {\n  ...\n}\nfoobar<string>('ABC')\nfoobar<number>(10)\n// foobar<boolean>(true) // Error\n")),(0,l.kt)("p",null,"\u5951\u7ea6\u597d\u50cf\u80fd\u591f\u63cf\u8ff0\u7684\u66f4\u6e05\u6670\u548c\u786e\u5b9a\u4e86\uff0c\u4e0d\u9519\u3002C\u3001Python \u5177\u5907\u8fd9\u6837\u7684\u5951\u7ea6\u63cf\u8ff0\u80fd\u529b\u4e48\uff1f\u2014\u2014 \u6211\u89c9\u5f97\u6682\u65f6\u8fd8\u4e0d\u80fd\uff0c\u5c24\u5176\u662f\u6211\u4eec\u7ee7\u7eed\u770b\u4e0b\u9762\u8d8a\u6765\u8d8a\u590d\u6742\u7684\u5951\u7ea6\u3002"),(0,l.kt)("h2",{id:"\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u57fa\u7840\u6982\u5ff5"},"\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u57fa\u7840\u6982\u5ff5"),(0,l.kt)("h3",{id:"\u5b57\u9762\u91cf\u7c7b\u578b"},"\u5b57\u9762\u91cf\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'const a: number = 10;\nconst b: 10 = 10;\nconst c: "foo" = "foo";\nconst d: true = true;\n')),(0,l.kt)("p",null,"\u4e0e\u7b2c 1 \u884c\u76f8\u6bd4\uff0c\u540e\u9762 3 \u884c\u663e\u5f97\u662f\u4e0d\u662f\u6709\u75c5\uff1f10\u3001'foo'\u3001true \u90fd\u662f\u503c\uff0c\u600e\u4e48\u653e\u5728\u7c7b\u578b\u7684\u4f4d\u7f6e\u4e0a\uff1f\u2014\u2014 \u8fd9\u5c31\u662f\u5b57\u9762\u91cf\u7c7b\u578b\uff08Literal Types\uff09\uff0c\u5b98\u65b9\u6587\u6863\u5728",(0,l.kt)("a",{parentName:"p",href:"https://microsoft.github.io/TypeScript-New-Handbook/chapters/everyday-types/#literal-types"},"\u8fd9\u91cc"),"\u3002"),(0,l.kt)("p",null,"\u5b57\u9762\u91cf\u7c7b\u578b\u7684\u53d8\u91cf\u53ea\u80fd\u6709 1 \u4e2a\u503c\uff0c\u5e76\u4e14\u53ea\u80fd\u662f\u5b57\u9762\u91cf\u7c7b\u578b\u76f8\u540c\u7684\u503c\uff0c\u8fd9\u4f3c\u4e4e\u8ba9\u4eba\u611f\u89c9\u5f88\u9e21\u808b\uff0c\u4f46\u770b\u770b\u4e0b\u9762\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'function printText_Literal(s: string, alignment: "left" | "right" | "center") {\n  // ...\n}\n// \u6216\u8005\ntype Align = "left" | "right" | "center";\nfunction printText_Literal(s: string, alignment: Align) {\n  // ...\n}\n')),(0,l.kt)("p",null,"\u4e24\u79cd\u8868\u8fbe\u65b9\u5f0f\u6548\u679c\u76f8\u540c\uff0cAlign \u662f 3 \u4e2a\u5b57\u9762\u91cf\u7c7b\u578b\u7684 Union \u8054\u5408\u7c7b\u578b\uff0c\u5feb\u901f\u8fbe\u5230\u9650\u5236\u5165\u53c2\u7684\u76ee\u7684\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u679a\u4e3e\u8fbe\u5230\u9650\u5236\u4f5c\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"enum Align {\n  left,\n  right,\n  center,\n}\nfunction printText_Enum(s: string, alignment: Align) {\n  // ...\n}\n")),(0,l.kt)("p",null,"\u5b57\u9762\u91cf Union \u548c\u679a\u4e3e\u90fd\u53ef\u4ee5\u8fbe\u5230\u9650\u5236\u5165\u53c2\u7c7b\u578b\uff0c\u89c4\u8303 API \u7684\u4f5c\u7528\uff0c\u4f46\u7ad9\u5728\u4f7f\u7528\u8005\u7684\u89d2\u5ea6\uff1a\u5b57\u9762\u91cf Union \u65b9\u5f0f\uff1a\u7528\u6237\u4e0d\u9700\u8981 import \u66f4\u591a\u7684\u7c7b\u578b\uff0c\u800c\u679a\u4e3e\u65b9\u5f0f\u7528\u6237\u5fc5\u987b import Align \u679a\u4e3e\u624d\u80fd\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'import {printText_Literal} from ...\nprintText_Literal("Hello, world", \'left\');\n\nimport {printText_Enum, Align} from ...\nprintText_Enum("Hello, world", Align.left);\n')),(0,l.kt)("p",null,"\u4f3c\u4e4e\u4ecd\u662f\u96be\u5206\u4f18\u52a3\uff0c\u786e\u5b9e\u5728\u540c\u4e00\u4e2a APP \u4e2d\u51e0\u4e4e\u96be\u5206\u4f2f\u4ef2\uff0c\u4f46\u653e\u5728\u524d\u540e\u7aef\u5f00\u53d1\uff0c\u4f60\u7684 API \u662f\u88ab\u8fdc\u7a0b\u8c03\u7528\u7684\uff0c\u6216\u8005\u4f60\u662f\u901a\u8fc7 RPC \u8fdc\u7a0b\u8c03\u7528\u4ed6\u4eba\u7684 API\uff0c\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'const req = { url: "https://baiu.com", method: "GET" };\nhandleRequest(req.url, req.method); // method \u53ea\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u5e76\u4e14\u6709\u4f20\u9519\uff08\u62fc\u5199\u9519\u8bef\uff09\u5b57\u7b26\u4e32\u7684\u51e0\u7387\n')),(0,l.kt)("p",null,"\u6b64\u65f6\uff0c\u679a\u4e3e\u4e00\u4e0b\u5c31\u65e0\u7528\u6b66\u4e4b\u5730\u4e86\u3002"),(0,l.kt)("h3",{id:"\u5b50\u7c7b\u578bextends"},"\u5b50\u7c7b\u578b(extends)"),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b21\u770b ts \u6587\u6863\u65f6\uff0c\u4e5f\u662f\u60f3\u5f53\u7136\u7684\u4ee5\u4e3a extends \u610f\u4e3a\u7ee7\u627f\uff0c\u4f46\u5176\u5b9e\u5728 ts \u4e2d\uff0c\u5c24\u5176\u662f ts \u7684 type \u5b9a\u4e49\u53ca\u76f8\u5173\u8868\u8fbe\u5f0f\u4e2d\uff0cextends \u662f\u5b50\u7c7b\u578b\uff08subtyping\uff09\u7684\u542b\u4e49\u3002"),(0,l.kt)("p",null,"subtype \u5b50\u7c7b\u578b\u5bf9\u5e94\u800c\u662f supertype \u8d85\u7c7b\u578b\uff0c\u5373\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"subtype extends supertype"),"\uff0c\u901a\u5e38\u4e5f\u5199\u4f5c ",(0,l.kt)("inlineCode",{parentName:"p"},"subtype <: supertype"),"\uff0c\u8fd9\u6837\u4efb\u4f55\u9700\u8981\u4f7f\u7528 supertype \u7c7b\u578b\u5bf9\u8c61\u7684\u73af\u5883\u4e2d\uff0c\u90fd\u53ef\u4ee5\u5b89\u5168\u5730\u4f7f\u7528 subtype \u7c7b\u578b\u7684\u5bf9\u8c61\u3002"),(0,l.kt)("p",null,"\u5b57\u9762\u91cf\u7c7b\u578b\u5206 2 \u79cd\uff1a\u6570\u5b57\u5b57\u9762\u91cf\u3001\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u3001\u5e03\u5c14\u5b57\u9762\u91cf\u7b49\uff0c\u4ed6\u4eec\u5206\u522b\u662f number\u3001string\u3001boolean \u7684 subtype\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'type FOO = "hello";\n// FOO <: string <: unknown\n\ntype BAR = 10;\n// BAR <: number <: unknown\n')),(0,l.kt)("h3",{id:"\u6761\u4ef6\u7c7b\u578b"},"\u6761\u4ef6\u7c7b\u578b"),(0,l.kt)("p",null,"extends + \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08\u4e09\u76ee\u8fd0\u7b97\u7b26\uff09 \u2014\u2014 ts \u4e2d\u79f0\u4e4b\u4e3a\u6761\u4ef6\u7c7b\u578b\uff0c\u5b83\u4e3a\u81ea\u5b9a\u4e49\u7c7b\u578b\u589e\u52a0\u4e86\u7075\u6d3b\u6027\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Exclude<T, U> = T extends U ? never : T;\n")),(0,l.kt)("p",null,"\u5982\u679c T \u662f U \u7684\u5b50\u7c7b\u578b\uff0c\u5219\u4e22\u5f03\uff0c\u5426\u5219\u4fdd\u7559\uff0c\u62ff interface \u505a\u4e2a\u5b9e\u9a8c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"interface IPerson {\n  name: string;\n  age: number;\n  sex: 0 | 1;\n}\n\ninterface IMan {\n  name: string;\n  age: number;\n}\n\ntype Man1 = Exclude<IPerson, IMan>; // Man = never\ntype Man2 = Exclude<IMan, IPerson>; // Man = IMan\n")),(0,l.kt)("p",null,"\u4ece\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5f88\u96be\u7406\u89e3 Exclude \u6392\u9664\u7684\u542b\u4e49\uff0c\u6362\u4e2a union \u7684\u4f8b\u5b50\u5c31\u660e\u767d\u4e86\u2014\u2014 ",(0,l.kt)("strong",{parentName:"p"},"\u4ece T \u4e2d\u53bb\u9664 U \u4e2d\u5b58\u5728\u7684\u5143\u7d20"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'type P = Exclude<"red", "red" | "green" | "blue">; // P = never\ntype Q = Exclude<"red" | "pink", "red" | "green" | "blue">; // Q = "pink"\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"type Exclude<T, U> = T extends U ? never : T;")," \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"T extends U")," \u9488\u5bf9 Union \u4f1a\u81ea\u52a8\u6392\u5217\uff0c\u5206\u522b\u8fdb\u884c\uff0c\u5373\u5206\u522b\u5224\u65ad\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"red")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"red")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"red")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"red")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"green")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"red")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"red")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"blue")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"red")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pink")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"red")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"pink")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pink")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"green")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"pink")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pink")," extends ",(0,l.kt)("inlineCode",{parentName:"li"},"blue")," ? never : ",(0,l.kt)("inlineCode",{parentName:"li"},"pink"))),(0,l.kt)("p",null,"\u6700\u7ec8\u5f97\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},'Q = "pink"'),"\u3002"),(0,l.kt)("h2",{id:"ts-\u5185\u5efa\u81ea\u5b9a\u4e49\u7c7b\u578b"},"ts \u5185\u5efa\u81ea\u5b9a\u4e49\u7c7b\u578b"),(0,l.kt)("p",null,"\u4e0b\u9762\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b ts \u5185\u5efa\u4e86\u54ea\u4e9b type\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"$ ls node_modules/typescript/lib/lib.es*\n")),(0,l.kt)("p",null,"\u5e38\u7528\u7684\u51e0\u7c7b\u57fa\u672c\u90fd\u5728 es5 \u6807\u51c6\u5b9e\u73b0\u7684\u6587\u4ef6\u4e2d\u4e86\uff0ces2015\u3001es2020 \u4e5f\u6709\u4e00\u4e9b\uff0c\u4f46\u6211\u611f\u89c9\u7528\u7684\u4eba\u4e0d\u591a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"$ ls node_modules/typescript/lib/lib.es5.d.ts | xargs -I{} sh -c 'cat {} | grep -e \"^\\ *type\" '\ntype Awaited<T> =\ntype Partial<T> = {\ntype Required<T> = {\ntype Readonly<T> = {\ntype Pick<T, K extends keyof T> = {\ntype Record<K extends keyof any, T> = {\ntype Exclude<T, U> = T extends U ? never : T;\ntype Extract<T, U> = T extends U ? T : never;\ntype Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;\ntype NonNullable<T> = T extends null | undefined ? never : T;\ntype Parameters<T extends (...args: any) => any> = T extends (...args: infer P) => any ? P : never;\ntype ConstructorParameters<T extends abstract new (...args: any) => any> = T extends abstract new (...args: infer P) => any ? P : never;\ntype ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R ? R : any;\ntype InstanceType<T extends abstract new (...args: any) => any> = T extends abstract new (...args: any) => infer R ? R : any;\ntype Uppercase<S extends string> = intrinsic;\ntype Lowercase<S extends string> = intrinsic;\ntype Capitalize<S extends string> = intrinsic;\ntype Uncapitalize<S extends string> = intrinsic;\ntype ArrayBufferLike = ArrayBufferTypes[keyof ArrayBufferTypes];\n")),(0,l.kt)("p",null,"\u6211\u628a\u4ed6\u4eec\u5206\u6210\u51e0\u7c7b"),(0,l.kt)("img",{src:"https://www.plantuml.com/plantuml/svg/bPJFJnD15CVl_Ilcg2asuU05baBIS30OR71xWiOCkmDEkfrTPsUbzKTIIB1WZELGCB6YreXHOmDwm6eb_MTsjkr_uKoxssvhCVGsyzxxVDzxyzxkWiqWPLbCz2oq8X4xWua5ASm2QZf4JvYK80gcRqOYKS2VxVB6xpNYxN_Xtm_N2CjRA18LzjDVqsxzgxoscvLszKMxMVGQ7rlbTzxUWNTq1lp0wBtk2IH5GWmDHOs3EV0Oh2O19Y23ykO6KDFpCq1TJQPdmTCGiO8UE9WYVJnoOy3C3a5GDucH3o3gtqVeS3xGAd-MhVG4-FPhxxZgDivRjKgdiCzBdznw8V26-y5QHb6dm190EOQ8RWVQuMANqkCQkvF5R1mAILx2WV9YJZCS7Ic-heYFnuTRrKogAsDKfiPKCLn2e2rKKp9KxOkam3mWwA6OluH2oB99bXt3WEi6wZtkW2723fu0iJfe0nEaNoQnc6CKQkoIhAe8xs8I0MxZ9IzUU8TdadJhDQzqm4j7RhFgRP-k4Rvtxbwy2QyPw0NmtHDUsf668Abw7zj9kTo88QeAYwW-x9VJ68ePyVVjjZAezrei5eDqqvwHptqTpCMxmmjZ2PFOZ3eQC-bO1RXkTnz3jBpr7pc_hNQpp2jlUU5FECKAOWublPOcgEoMA0mI3Os0Loi8yEVl-SyJNdlL-YQ-Z1_Yq3d-q2cM_A_ddxduILEMXQW6RQJSxMSK-J3Pb8k0YJpQM0jlosrpQr8a0ItCe84VJS2aY7PbQa6u_B_cNm00",alt:null}),(0,l.kt)("p",null,"\u62ff\u5176\u4e2d\u51e0\u4e2a\u4e3e\u4e3e\u4f8b\u3002"),(0,l.kt)("h3",{id:"partial"},"Partial"),(0,l.kt)("p",null,"\u58f0\u660e\u662f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Partial<T> = {[P in keyof T]?: T[P]; };\n")),(0,l.kt)("p",null,"\u731b\u4e00\u770b\u597d\u50cf\u6ca1\u5565\u7528\uff0c\u628a\u4e00\u4e2a\u7c7b\u578b\u7684 key \u53d6\u51fa\u6765\uff0c\u518d\u7ec4\u5408\u6210 {key: value}\uff0c\u6298\u817e\u4e00\u5708\u56de\u539f\u6837\u554a\uff1f"),(0,l.kt)("p",null,"No! \u522b\u6f0f\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"?:"),"\uff0c\u5e76\u4e0d\u662f\u56de\u539f\u6837\uff0c\u800c\u662f\u53d8\u6210\u53ef\u9009\u5c5e\u6027\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Color = {\n  red: number\n  green: number\n  blue: number\n}\ntype PColor = Partial<Color>\n// type PColor = {\n//     red?: number;    // \u5168\u90e8\u53d8\u6210 ?:\n//     green?: number;\n//     blue?: number;\n// }\n")),(0,l.kt)("p",null,"\u5e76\u4e14\u8fd8\u80fd\u5904\u7406 interface\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"interface Color  {\n  red: number\n  green: number\n  blue: number\n}\ntype PColor = Partial<Color> // \u7ed3\u679c\u540c\u4e0a\n")),(0,l.kt)("h3",{id:"record"},"Record"),(0,l.kt)("p",null,"\u58f0\u660e\u662f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Record<K extends keyof any, T> = { [P in K]: T };\n")),(0,l.kt)("p",null,"\u53ef\u4ee5\u7528 K \u505a key type\uff0cT \u505a value type\uff0c\u521b\u5efa\u65b0\u7684 type \u2014\u2014 \u5373\u7ec4\u5408\u51fa\u4e00\u4e2a object \u7684 type\u3002\u4f7f\u7528\u8d77\u6765\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'type R = Record<"red" | "green" | "blue", number>;\nconst r: R = {\n  red: 1,\n  green: 2,\n  blue: 3,\n};\n')),(0,l.kt)("p",null,'\u518d\u6b21\u5f3a\u8c03\uff1a"red" | "green" | "blue" \u662f\u4e2a type\uff0cUnion \u662f\u4e2a type\uff0c\u4e0d\u662f\u503c\u3002'),(0,l.kt)("h3",{id:"returntype"},"ReturnType"),(0,l.kt)("p",null,"\u58f0\u660e\u662f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R ? R : any;\n")),(0,l.kt)("p",null,"T \u662f\u51fd\u6570\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"p"},"(...args: any) => any")," \u7684\u5b50\u7c7b\u578b\uff0c\u5373\u5bf9\u5165\u53c2\u548c\u8fd4\u56de\u503c\u90fd\u6ca1\u6709\u9650\u5236\uff0c\u53cd\u6b63\u5c31\u662f\u4e2a\u51fd\u6570\uff0c\u5165\u53c2\u8fd4\u56de\u503c\u90fd\u53ef\u4ee5\u662f any\uff0c\u5373\u53ef\u4ee5\u6ca1\u6709\u3002"),(0,l.kt)("p",null,"infer \u662f ts \u7684\u5360\u4f4d\u7b26\u8bed\u6cd5\uff0c\u6240\u5360\u4f4d\u7f6e\u8868\u793a\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff0c\u7528 R \u4ee3\u8868\u3002"),(0,l.kt)("p",null,"ReturnType \u88ab\u5b9a\u4e49\u4e3a T \u82e5\u662f\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\uff0cReturnType \u5c31\u662f\u8fd4\u56de\u503c\u7684\u7c7b\u578b\uff0c\u5426\u5219\u662f any\u3002"),(0,l.kt)("p",null,"\u770b\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u6458\u81ea Midway \u6e90\u7801\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'async function createFunctionApp<\n  T extends IMidwayFramework<any, any, any, any, any>,\n  Y = ReturnType<T["getApplication"]>\n>(baseDir: string = process.cwd(), options?): Promise<Y> {\n  // ......\n  return appManager.getApplication(MidwayFrameworkType.SERVERLESS_APP);\n}\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"T \u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"IMidwayFramework<any, any, any, any, any>")," \u7684\u5b50\u7c7b\u578b\uff0c\u8fd9\u662f\u4e2a\u6a21\u5757\uff0c\u5305\u542b\u591a\u4e2a\u51fd\u6570"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'ReturnType<T["getApplication"]>')," \u8bd5\u56fe\u5c06 T \u6a21\u5757\u4e2d\u7684 getApplication \u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u63d0\u53d6\u51fa\u6765\uff0c\u8d4b\u7ed9 Y"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"createFunctionApp")," \u51fd\u6570 2 \u4e2a\u5165\u53c2\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"baseDir"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"options"),"\uff0c1 \u4e2a\u8fd4\u56de\u503c\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"Promise<Y>")),(0,l.kt)("li",{parentName:"ul"},"\u51fd\u6570\u7684\u5b9e\u73b0\u6700\u7ec8\u8fd4\u56de\u7684\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"getApplication()"),"\uff0c\u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"Promise<Y>")," \u547c\u5e94\u3002")),(0,l.kt)("p",null,"\u8fd9\u6837\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"getApplication()")," \u8fd4\u56de\u503c\u4f1a\u53d8\u5316\uff08\u7248\u672c\u5347\u7ea7\u3001API \u53d8\u5316\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u672c\u51fd\u6570\u5c31\u4e0d\u9700\u8981\u53d8\u5316\u4e86\uff0c\u5168\u90e8\u90fd\u6cdb\u578b\u5316\u4e86\u3002"),(0,l.kt)("h3",{id:"lowercaseuppercase"},"Lowercase/Uppercase"),(0,l.kt)("p",null,"\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u548c\u6211\u6709\u7c7b\u4f3c\u7684\u611f\u89c9\uff0c\u603b\u89c9\u5f97\u8fd9\u662f\u4e2a\u51fd\u6570\uff0c\u4f46\u662f\u5b83\u662f\u4e2a\u7c7b\u578b\uff0c\u6709\u5565\u7528\u5462\uff1f\u518d\u4ece Midway \u4e2d\u627e\u4e00\u6bb5\u4ee3\u7801\uff0c\u770b\u770b\u9ad8\u624b\u548b\u7528\u7684\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'interface Convertable {\n  [key: string]: string | number;\n}\n\n// T \u662f Convertable \u63a5\u53e3\u7684\u5b50\u7c7b\u578b\n// Group \u662f string \u5b57\u9762\u91cf\u7c7b\u578b \u2014\u2014 \u518d\u6b21\u63d0\u9192\uff1a\u6cdb\u578b\u91cc\u53ea\u80fd\u662f\u7c7b\u578b\uff0c\u4e0d\u80fd\u662f string \u53d8\u91cf\ntype ConvertString<T extends Convertable, Group extends string> = {\n  [P in keyof T]: P extends string  // \u904d\u5386 T \u7684 key\n    ? T[P] extends number           // \u5982\u679c\u662f\u5b57\u7b26\u4e32\uff0c\u7ee7\u7eed\u5224\u65ad T[P]\uff0cT[P] \u5373 T \u7684 value\n      ? `${Uppercase<Group>}_${T[P]}` // \u5982\u679c value \u662f number \u578b\uff0c\u7528 Uppercase \u548c value \u7ec4\u5408\u51fa\u65b0\u7684\u7c7b\u578b\n      : never                         // \u5982\u679c value \u4e0d\u662f number\uff0c\u65e0\u7c7b\u578b\n    : never;                        // \u5982\u679c key \u4e0d\u662f\u5b57\u7b26\uff0c\u65e0\u7c7b\u578b\n};\n\n// \u5168\u5c40\u53d8\u91cf\nconst codeGroup = new Set();\n\n// \u8fd9\u662f\u4e00\u4e2a\u9519\u8bef\u6ce8\u518c\u51fd\u6570\uff1a\n// \u6ce8\u518c\u9519\u8bef\u7ec4\uff08string\uff09\u548c\u9519\u8bef\u7801\uff08{key:value} \u5bf9\u8c61\uff09\u5230 codeGroup \u53d8\u91cf\u4e2d\uff0c\u7ea6\u675f\u4e3a\uff1a\n// - \u9519\u8bef\u7ec4\u53ea\u80fd\u6ce8\u518c\u4e00\u6b21\uff0c\u4e0d\u80fd\u91cd\u590d\n// - \u8fd4\u56de\u503c\u662f\u201c\u7c7b\u4f3c\u201d\u679a\u4e3e\u7684\u5bf9\u8c61\uff0c\u5bf9\u9519\u8bef\u7801\u7684\u52a0\u5de5\uff1avalue \u8f6c\u6362\u6210 `{key: "\u5927\u5199(\u9519\u8bef\u7ec4_\u9519\u8bef\u7801value)"}`\nfunction registerErrorCode<T extends Convertable, G extends string>(\n  errorGroup: G,\n  errorCodeMapping: T\n): ConvertString<T, G> {  // \u901a\u8fc7 ConvertString \u5bf9\u8fd4\u56de\u503c\u8fdb\u884c\u4e86\u8be6\u7ec6\u3001\u660e\u786e\u7684\u5951\u7ea6\u5b9a\u4e49\n  if (codeGroup.has(errorGroup)) {\n    throw new Error(\n      `Error group ${errorGroup} is duplicated, please check before adding.`\n    );\n  } else {\n    codeGroup.add(errorGroup);\n  }\n  const newCodeEnum = {} as Convertable;\n  for (const errKey in errorCodeMapping) {\n    newCodeEnum[errKey as string] =\n      errorGroup.toUpperCase() +\n      "_" +\n      String(errorCodeMapping[errKey]).toUpperCase();\n  }\n  return newCodeEnum as ConvertString<T, G>;\n}\n')),(0,l.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 ConvertString \u7c7b\u578b\uff0c\u5bf9\u8fd4\u56de\u503c\u8fdb\u884c\u4e86\u7075\u6d3b\u3001\u8be6\u7ec6\u3001\u660e\u786e\u7684\u5951\u7ea6\u5b9a\u4e49\uff0c\u4ece\u800c\u53ef\u4ee5\u6210\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u5b83\u4e0d\u505a\u4efb\u4f55\u4f9d\u8d56\uff0c\u751a\u81f3\u4f60\u53ef\u4ee5\u7528\u5b83\u7533\u8bf7\u4e00\u4e2a npm module\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"const c: Convertable = {\n  foo: \"hello\",\n  bar: \"world\",\n};\nconst convertString = registerErrorCode<Convertable, \"myerror\">(\"myerror\", c);\nconsole.log(convertString); // { foo: 'MYERROR_HELLO', bar: 'MYERROR_WORLD' }\n\nconst convertString2 = registerErrorCode(\"custom\", c); // <T, G> \u4e5f\u662f\u53ef\u4ee5\u4e0d\u5199\u7684\nconsole.log(convertString2); // { foo: 'MYERROR_HELLO', bar: 'MYERROR_WORLD' }\n\nconst FrameworkErrorEnum = registerErrorCode(\"midway\", {\n  UNKNOWN: 10000,\n  COMMON: 10001,\n} as const);\nconsole.log(FrameworkErrorEnum); // { UNKNOWN: 'MIDWAY_10000', COMMON: 'MIDWAY_10001' }\n")),(0,l.kt)("p",null,"\u4f7f\u7528\u8d77\u6765\u4e5f\u633a\u7b80\u5355\u3001\u65b9\u4fbf\uff0c\u53ef\u4ee5\u7075\u6d3b\u7684\u5206\u7ec4\u6ce8\u518c\u81ea\u5df1\u7684\u9519\u8bef\u7801\u3002"),(0,l.kt)("p",null,"\u81ea\u5b9a\u4e49 type \u4eff\u4f5b\u6253\u5f00\u4e86\u4e00\u4e2a\u7f16\u7a0b\u7684\u65b0\u9886\u57df\uff0c\u4ee5\u524d\u5199\u4ee3\u7801\u90fd\u662f\u5b9a\u4e49\u53d8\u91cf\u3001\u5b9e\u73b0\u51fd\u6570\u3001\u7ec4\u5408\u7c7b\u548c\u63a5\u53e3\u2014\u2014\u4e09\u677f\u65a7\uff0c\u4f46 ts \u7a81\u7136\u591a\u51fa\u6765\u4e00\u4e2a\u5de5\u4f5c\uff1a\u7528 type \u5b9a\u4e49 API \u5951\u7ea6\uff0c\u751a\u81f3\u8d77\u5230\u4e86\u90e8\u5206\u53d6\u4ee3\u6587\u6863\u7684\u5730\u6b65\uff0c\u4ee4\u6211\u76f4\u547c\u8fc7\u763e\u3002"),(0,l.kt)("p",null,"\u5927\u795e\u4eec\u80af\u5b9a\u6709\u66f4\u795e\u6765\u4e4b\u7b14\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u5f00\u6e90\u9879\u76ee\u3002"),(0,l.kt)("h2",{id:"sindresorhustype-fest"},"sindresorhus/type-fest"),(0,l.kt)("p",null,"\u524d\u6bb5\u65f6\u95f4\u5076\u7136\u770b\u5230\u4e00\u7bc7\u6398\u91d1\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/post/7062903623470514207#heading-11"},"\u6765\u505a\u505a\u8fd9 48 \u9053 TypeScript \u7ec3\u4e60\u9898\uff0c\u8bd5\u8bd5\u4f60\u7684 TS \u5b66\u5f97\u600e\u4e48\u6837\u4e86\uff01\uff08\u9644\u7b54\u6848\u89e3\u6790\uff09"),"\uff0c\u8d5e\u53f9\u7684\u4e0d\u884c\uff01"),(0,l.kt)("p",null,"\u6df1\u6316\u4e00\u4e0b\uff0c\u6765\u81ea",(0,l.kt)("a",{parentName:"p",href:"https://juejin.cn/user/764915822103079"},"\u963f\u5b9d\u54e5"),"\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/semlinker/awesome-typescript"},"awesome-typescript"),"\uff0c\u4ed6\u521b\u5efa\u4e86 ",(0,l.kt)("a",{parentName:"p",href:"https://hub.fastgit.xyz/semlinker/awesome-typescript/issues"},"40+ \u4e2a issue"),"\uff0c\u8ba8\u8bba\u4e86 40+ \u4e2a\u81ea\u5b9a\u4e49 type\u3002"),(0,l.kt)("p",null,"\u518d\u6df1\u6316\u4e00\u4e0b\uff0c\u8fd9\u4e9b type \u90fd\u6765\u81ea\u4e00\u4e2a 7.5k start \u7684\u5f00\u6e90\u9879\u76ee ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/sindresorhus/type-fest"},"type-fest"),"\u3002"),(0,l.kt)("p",null,"\u7814\u7a76\u8fd9\u4e9b type \u6211\u9002\u5e94\u4e86\u5f88\u4e45\uff0c\u603b\u89c9\u5f97\u8fd9\u4e0d\u662f\u51fd\u6570\u5e94\u8be5\u5e72\u7684\u4e8b\u60c5\u4e48\uff1f\u4e3a\u5565\u4e0d\u653e\u5728\u4e09\u677f\u65a7\u91cc\u5b9e\u73b0\uff1f\u2026\u2026\u4f46\u662f\u4eba\u5bb6\u5c31\u8981\u653e\u5728 type \u91cc\u73a9\uff0c\u6709\u4e9b\u662f\u73a9\u7968\u6027\u8d28\u7684\uff0c\u6709\u4e9b\u4e5f\u662f\u633a\u6709\u7528\u7684\uff0c\u4e0b\u9762\u6211\u5217\u51e0\u4e2a\u70b9\u8bc4\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u4e5f\u60f3\u7814\u7a76\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"$ yarn add type-fest\n$ code node_modules/type-fest\n")),(0,l.kt)("h3",{id:"simplify"},"Simplify"),(0,l.kt)("p",null,"\u58f0\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"export type Simplify<T> = { [KeyType in keyof T]: T[KeyType] };\n")),(0,l.kt)("p",null,"\u8fd9\u4e0d\u662f\u548c\u5185\u5efa\u7684 Partial \u4e00\u4e2a\u610f\u601d\u4e48\uff1f\u53ea\u4e0d\u8fc7\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"?:")," \u2014\u2014 Yeah\uff0c\u5c31\u662f\u8fd9\u4e48\u7b80\u5355\uff0c\u4f5c\u8005\u9ad8\u5174\u4f60\u548b\u5730\u3002\u4f5c\u8005\u8fd8\u7ed9\u4e86 2 \u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u611f\u53d7\u4e00\u4e0b\uff1a"),(0,l.kt)("p",null,"\u4f5c\u7528 1\uff1a\u591a\u4e2a type \u53d6\u5e76\u96c6\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'import { Simplify } from "type-fest";\n\ntype PositionProps = {\n  top: number;\n  left: number;\n};\n\ntype SizeProps = {\n  width: number;\n  height: number;\n};\n\ntype Props = Simplify<PositionProps & SizeProps>;\n//\u5f97\u5230\uff1a\n// type Props = {\n//     top: number;\n//     left: number;\n//     width: number;\n//     height: number;\n// }\n')),(0,l.kt)("p",null,"\u4f5c\u7528 2\uff1a\u5c06 interface \u6539\u6210 type\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"interface SomeInterface {\n  foo: number;\n  bar?: string;\n  baz: number | undefined;\n}\n\nfunction fn(object: Record<string, unknown>): void {}\n\nconst someInterface: SomeInterface = { foo: 123, bar: \"hello\", baz: 456 };\nfn(someInterface); // Error\uff1aIndex signature is missing in type 'SomeInterface'.\uff0c\u56e0\u4e3a interface \u53ef\u4ee5 re-open\u3002\nfn(someInterface as Simplify<SomeInterface>); // OK\uff0cinterface \u5f3a\u5236\u8f6c\u6362\u6210 type\n")),(0,l.kt)("p",null,"\u5f53\u4f60\u60f3\u8c03\u7528\u4e00\u4e2a type \u7c7b\u578b\u7684 API \u51fd\u6570\u65f6\uff0c\u4f46\u5165\u53c2\u662f\u4e2a interface \u7c7b\u578b\u7684\u53d8\u91cf\u65f6\uff0c\u5c31\u53ef\u4ee5\u7528 Simplify \u8bd5\u8bd5\u4e86\uff01"),(0,l.kt)("h3",{id:"isequal"},"IsEqual"),(0,l.kt)("p",null,"\u58f0\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"export type IsEqual<T, U> =\n    (<G>() => G extends T ? 1 : 2) extends\n    (<G>() => G extends U ? 1 : 2)\n        ? true\n        : false;\n")),(0,l.kt)("p",null,"\u8bf4\u5b9e\u8bdd\uff0c\u6ca1\u770b\u61c2\uff0c\u4e24\u4e2a type \u53c8\u4e0d\u662f\u53d8\u91cf\uff0ctype \u7684\u76f8\u7b49\u5982\u4f55\u7406\u89e3\u5462\uff1f"),(0,l.kt)("h3",{id:"filter"},"Filter"),(0,l.kt)("p",null,"\u58f0\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Filter<KeyType, ExcludeType> = IsEqual<KeyType, ExcludeType> extends true ? never : (KeyType extends ExcludeType ? never : KeyType);\n                                    -------------------------------------------  -----   -----------------------------------------------\n                                                                                         ----------------------------   -----   --------\n")),(0,l.kt)("p",null,"\u5982\u679c KeyType \u4e0e ExcludeType \u76f8\u7b49\u6216\u662f\u5176\u5b50\u7c7b\u578b\uff0c\u5219\u8fd4\u56de never\uff0c\u5426\u5219\u8fd4\u56de KeyType\u3002\u5373 ExcludeType \u50cf\u662f\u4e00\u4e2a mask\uff08\u63a9\u7801\uff09\u6216 Filter\uff08\u8fc7\u6ee4\u5668\uff09\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type A = Filter<string, string>                     // A = never\ntype B = Filter<string, number>                     // B = string\ntype C = Filter<string|number, number>              // C = string\ntype D = Filter<string|number, string|number>       // D = never\ntype E = Filter<'red', 'red'|'green'|'blue'>        // E = never\ntype F = Filter<'red'|'pink', 'red'|'green'|'blue'> // F = 'pink'\n")),(0,l.kt)("h3",{id:"except"},"Except"),(0,l.kt)("p",null,"\u58f0\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"export type Except<ObjectType, KeysType extends keyof ObjectType> = {\n    [KeyType in keyof ObjectType as Filter<KeyType, KeysType>]: ObjectType[KeyType];\n};\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"2 \u4e2a\u8f93\u5165\u6cdb\u578b\uff1aObjectType\u3001KeysType"),(0,l.kt)("li",{parentName:"ul"},"KeysType \u662f keyof ObjectType \u7684\u5b50\u7c7b\u578b\uff0cunion \u7684 subtype \u6bd4 supertype \u8981\u5c11\u7684\uff0c\u6bd4\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"'a'|'b'")," \u662f ",(0,l.kt)("inlineCode",{parentName:"li"},'"a"|"b"|"c"')," \u7684\u5b50\u7c7b\u578b\u3002\u8fd9\u4e00\u70b9\u4e0d\u50cf interface\uff0c\u8d8a\u662f subtype \u5143\u7d20\u6570\u91cf\u8d8a\u591a\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Filter<KeyType, KeysType>]")," \u53ef\u4ee5\u8fc7\u6ee4\u6389 ObjectType\u3001KeysType \u90fd\u5b58\u5728\u7684 key"),(0,l.kt)("li",{parentName:"ul"},"\u5269\u4e0b\u591a\u51fa\u6765\u7684 key\uff0c\u7ec4\u5408\u51fa\u65b0\u7684 type")),(0,l.kt)("p",null,"\u6240\u4ee5\u6700\u7ec8\u7ed3\u679c\u662f\u7528 KeysType \u505a mask\uff08\u63a9\u7801\uff09\u6216 Filter\uff08\u8fc7\u6ee4\u5668\uff09\uff0c\u7b5b\u6389 ObjectType \u4e2d\u7684\u67d0\u4e9b\u5c5e\u6027\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Foo = {\n    a: number;\n    b: string;\n    c: boolean;\n};\n\ntype FooWithoutA = Except<Foo, 'a' | 'c'>; // {b: string};\n")),(0,l.kt)("p",null,"Except \u4e0e Filter \u7684\u533a\u522b\u662f\uff1aFilter \u63a5\u6536\u7684\u662f\u72ec\u7acb\u7c7b\u578b\u6216 Union\uff0cExcept \u63a5\u6536\u7684\u662f Object \u5bf9\u8c61\u7c7b\u578b\u3002"),(0,l.kt)("h3",{id:"setoptional"},"SetOptional"),(0,l.kt)("p",null,"\u58f0\u660e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"export type SetOptional<T, Keys extends keyof T> = Simplify< Except<T, Keys> &  Partial<Pick<T, Keys>>  >;\n")),(0,l.kt)("p",null,"\u54ce\u5440\uff0c\u8d8a\u6765\u8d8a\u590d\u6742\u4e86\uff01"),(0,l.kt)("p",null,"Pick\u3001Partial \u662f ts \u5185\u5efa type\uff0cExcept\u3001Simplify \u662f\u672c\u5f00\u6e90\u9879\u76ee\u65b0\u589e\u7684\uff0c\u7ec4\u5408\u5728\u4e00\u8d77\u770b\u80fd\u4e0d\u80fd\u8ba4\u51fa\u6765\u3002"),(0,l.kt)("p",null,"\u6211\u6765\u62c6\u89e3\u4e00\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"Simplify<  Except<T, Keys>             &   Partial<Pick<T, Keys>>                    >\n           ---\u5bf9\u8c61 T \u8fc7\u6ee4\u6307\u5b9a Keys---      ---\u9009\u51fa T \u4e2d keys \u5c5e\u6027\uff0c\u5e76\u4fee\u6539\u6210\u53ef\u9009\u7684---\n")),(0,l.kt)("p",null,"\u7136\u540e\u5728\u901a\u8fc7 Simplify \u5c06\u7b5b\u6389 Keys \u7684\u90e8\u5206\u548c\u4fdd\u7559 Keys \u5e76\u4fee\u6539\u6210\u53ef\u9009\u5c5e\u6027\u7684\u90e8\u5206\u7ed3\u5408\u5230\u4e00\u5757\uff0c\u6700\u540e\u5373\uff1a\u628a keys \u6307\u5b9a\u7684\u90e8\u5206\u4fee\u6539\u6210\u53ef\u9009\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type Foo = {\n  a: number;\n  b?: string;\n  c: boolean;\n}\n\ntype SomeOptional = SetOptional<Foo, 'b' | 'c'>;  // \u5c06 b\u3001c \u53d8\u6210\u53ef\u9009\u5c5e\u6027\n// type SomeOptional = {\n//  a: number;\n//  b?: string;  // b \u672c\u6765\u5c31\u662f\u53ef\u9009\u5c5e\u6027\uff0c\u4fdd\u6301\n//  c?: boolean; // c \u7531\u975e\u53ef\u9009\uff0c\u53d8\u6210\u53ef\u9009\u5c5e\u6027\n// }\n")),(0,l.kt)("p",null,"\u4f5c\u8005\u5927\u6982\u5b9a\u4e49\u4e86 60+ \u8fd9\u6837\u7684 type\uff0c\u4f9d\u7136\u53ef\u4ee5\u5206\u6210\u8fd9\u4e48\u51e0\u7c7b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bf9 type/interface \u8fdb\u884c\u7b5b\u9009\u548c\u52a0\u5de5"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9 object \u8fdb\u884c\u7b5b\u9009\u548c\u52a0\u5de5"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9 string \u5b57\u9762\u91cf type \u8fdb\u884c\u5b57\u7b26\u4e32\u5904\u7406"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9 function \u800c\u5165\u53c2\u3001\u8fd4\u56de\u503c\u7b49\u52a0\u5de5\u6216\u63d0\u53d6"),(0,l.kt)("li",{parentName:"ul"},"\u9650\u5236\u53d8\u91cf\u8d4b\u503c\u7684\u8303\u56f4\uff08\u5982\u4ec5\u80fd\uff1a\u7a7a\u5bf9\u8c61{}\u3001\u6216\u6307\u5b9a\u5bf9\u8c61\uff09")),(0,l.kt)("h2",{id:"\u6700\u540e"},"\u6700\u540e"),(0,l.kt)("p",null,"ts \u5c06\u81ea\u5b9a\u4e49 type \u50cf\u51fd\u6570\u4e00\u6837\u73a9\uff0c\u76f8\u6bd4 C\u3001Python\u3001Go\u2026\u2026\u653e\u4f5b\u591a\u51fa\u6765\u4e00\u5757\u6218\u573a\uff0c\u8ba9 TypeScript \u4e2d\u7684 Type \u663e\u7684\u542b\u4e49\u4e30\u5bcc\u3001\u71a0\u71a0\u751f\u8f89\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e00\u5207\uff0c\u9664\u4e86\u8ba9\u5f00\u53d1\u8005\u5199\u4ee3\u7801\u65f6\u5b9e\u65f6\u63a2\u6d4b\u7c7b\u578b\u6b63\u786e\u6027\u3001\u5b8c\u6574\u6027\uff0c\u8fd8\u80fd\u591f\u8ba9 TypeScript \u7684 API \u8d77\u5230\u6587\u6863\u4e00\u6837\u7684\u5b58\u5728\uff0c\u8ba9 TDD \u6a21\u5f0f\u66f4\u4fbf\u6377\uff0c\u8ba9 API \u7684\u4f7f\u7528\u8005\u548c\u5f00\u53d1\u8005\u66f4\u89e3\u8026\uff0cAPI \u5236\u5b9a\u597d\uff0c\u5404\u81ea\u5206\u5934\u505a\u5c31\u662f\u4e86\uff0c\u6ca1\u6709\u6a21\u68f1\u4e24\u53ef\u7684\u5730\u65b9\u7ed9\u4f60\u5c06\u6765\u4e92\u76f8\u626f\u76ae\u3002"),(0,l.kt)("p",null,"\u5951\u7ea6\u578b\u7f16\u7a0b\u6ca1\u6709\u8fd9\u79cd\u8bed\u8a00\u7ea7\u522b\u7684\u652f\u6491\uff0c\u771f\u7684\u53ef\u80fd\u843d\u5165\u53e3\u5934\u548c\u7a7a\u8c08\u3002"))}m.isMDXComponent=!0}}]);