"use strict";(self.webpackChunkdocusaurus_site=self.webpackChunkdocusaurus_site||[]).push([[48417],{53952:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>r,metadata:()=>d,toc:()=>o});var l=i(74848),s=i(28453);const r={title:"\u7f51\u7edc\u5b89\u88c5 Ubuntu",date:"2019-11-04 11:03:36 +0800",description:" ",authors:"wKevin",categories:["it"],tags:["ubuntu","pxe"]},t=void 0,d={permalink:"/blog/2019/11/04/ubuntu.net.stall",source:"@site/blog/2019-11-04-ubuntu.net.stall/index.md",title:"\u7f51\u7edc\u5b89\u88c5 Ubuntu",description:" ",date:"2019-11-04T11:03:36.000Z",formattedDate:"November 4, 2019",tags:[{label:"ubuntu",permalink:"/blog/tags/ubuntu"},{label:"pxe",permalink:"/blog/tags/pxe"}],hasTruncateMarker:!0,authors:[{name:"wKevin",title:"\u4e00\u9897\u5411\u4e0a\u7684\u6c34\u6ef4",url:"http://weibo.com/wkevin27",imageURL:"/img/avastar/angry.bird-l.jpg",key:"wKevin"}],frontMatter:{title:"\u7f51\u7edc\u5b89\u88c5 Ubuntu",date:"2019-11-04 11:03:36 +0800",description:" ",authors:"wKevin",categories:["it"],tags:["ubuntu","pxe"]},unlisted:!1,prevItem:{title:"\u300a\u4f01\u4e1a IT \u67b6\u6784\u8f6c\u578b\u4e4b\u9053\u300b\u8bfb\u4e66\u7b14\u8bb0",permalink:"/blog/2019/11/10/book-ali.it.art"},nextItem:{title:"\u654f\u6377\u4e66\u8c31",permalink:"/blog/2019/09/20/agile.book.map"}},c={authorsImageUrls:[void 0]},o=[{value:"DHCP",id:"dhcp",level:2},{value:"tftp",id:"tftp",level:2},{value:"\u7f51\u7edc\u542f\u52a8\u6587\u4ef6\uff08 pxelinux.0 )",id:"\u7f51\u7edc\u542f\u52a8\u6587\u4ef6-pxelinux0-",level:2},{value:"\u51c6\u5907 Ubuntu",id:"\u51c6\u5907-ubuntu",level:2},{value:"kernel &amp; initrd",id:"kernel--initrd",level:2},{value:"Ubuntu live images",id:"ubuntu-live-images",level:2},{value:"NFS",id:"nfs",level:3},{value:"Apache",id:"apache",level:3},{value:"Client \u914d\u7f6e",id:"client-\u914d\u7f6e",level:2}];function u(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"\u6458\u8981\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u901a\u8fc7 pxe \u6a21\u5f0f\uff0c\u7f51\u7edc\u5b89\u88c5 Ubuntu\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u591a\u4e2a Ubuntu \u7248\u672c\u53ef\u9009\u6027\u5b89\u88c5\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u7528\u4e8e\u65e0\u6cd5\u5f00\u673a\u7bb1\u8fdb\u884c\u5149\u9a71\u5b89\u88c5\u3001\u6216\u4e0d\u60f3\u6298\u817e\u641e\u786c\u76d8\u5b89\u88c5\u3001\u6216 USB \u88ab\u516c\u53f8\u5c01\u95ed\u65e0\u6cd5 U \u76d8\u5b89\u88c5\u7684\u670b\u53cb\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u8003\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.maketecheasier.com/configure-pxe-server-ubuntu/",children:"Configure PXE Server In Ubuntu 16.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.cnblogs.com/zhangqunshi/p/6729823.html",children:"\u7f51\u7edc\u5b89\u88c5 Ubuntu16.04"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u57fa\u672c\u6b65\u9aa4\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Client BISO \u914d\u7f6e\uff1a1\u3001\u7f51\u5361\u542f\u52a8\uff1b2\u3001\u7f51\u5361\u652f\u6301 pxe \u6a21\u5f0f"}),"\n",(0,l.jsx)(e.li,{children:"Client \u5728 BIOS \u9636\u6bb5\u901a\u8fc7 DHCP \u627e Server \u8981\u5230 IP \u5730\u5740"}),"\n",(0,l.jsx)(e.li,{children:"Server \u5206\u914d IP\uff0c\u540c\u65f6\u6307\u5b9a pxe \u7684\u542f\u52a8\u6587\u4ef6 pxelinux"}),"\n",(0,l.jsx)(e.li,{children:"Client \u901a\u8fc7 tftp \u534f\u8bae\u4e0b\u8f7d pxelinux \u6587\u4ef6"}),"\n",(0,l.jsx)(e.li,{children:"Client \u901a\u8fc7 pxelinux \u7684\u914d\u7f6e\u4fe1\u606f\uff08kernel ... initrd=...\uff09\uff0c\u901a\u8fc7 tftp \u4e0b\u8f7d kernel & initrd"}),"\n",(0,l.jsx)(e.li,{children:"Client \u901a\u8fc7 pxelinux \u7684\u914d\u7f6e\u4fe1\u606f\uff08nfsroot=...)\uff0c\u901a\u8fc7 http \u6216 nfs \u4e0b\u8f7d ubuntu \u7684 live images"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u5e72\u8d27\u5982\u4e0b\uff1a"}),"\n",(0,l.jsx)(e.h2,{id:"dhcp",children:"DHCP"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo apt-get install isc-dhcp-server"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /etc/default/isc-dhcp-server"})," \u9650\u5b9a\u7f51\u5361\u5f00\u542f dhcp"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo vi /etc/dhcp/dhcpd.conf"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"example1: server(192.168.1.100)"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'option domain-name "localhost";  # \u5fc5\u987b\u8981\u6539\uff0c\u5426\u5219syslog\u62a5\u5f02\u5e38\uff0cpxe client IP\u65e0\u6cd5\u83b7\u53d6\noption domain-name-servers \u672c\u673aIP\u5730\u5740;  # \u5fc5\u987b\u8981\u6539\uff0c\u672c\u673aIP\u5730\u5740\u5fc5\u987b\u4e5f\u8981\u5728192.168.1.0/24\u7f51\u6bb5\u4e2d\n\nallow booting;\nallow bootp;\n\nsubnet 192.168.1.0 netmask 255.255.255.0 {\n    range 192.168.1.10 192.168.1.30;\n    option subnet-mask 255.255.255.0;\n    option routers \u672c\u673aIP\u5730\u5740;\n    option broadcast-address 192.168.1.255;\n    next-server \u672c\u673aIP\u5730\u5740;\n    filename "pxelinux.0";\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"example2: server(192.168.1.2)"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'subnet 192.168.1.0 netmask 255.255.255.0 {\n   range 192.168.1.3 192.168.1.11;\n   option routers 192.168.1.2;\n   option subnet-mask 255.255.255.0;\n   option broadcast-address 192.168.1.255;\n   option domain-name-servers 192.168.1.2;\n   next-server 192.168.1.2;\n   filename "pxelinux.0";\n}\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo /etc/init.d/isc-dhcp-server start"})," \u2014\u2014 \u53ef\u4ee5\u52a0\u5165 ",(0,l.jsx)(e.code,{children:"/etc/rc.local"})]}),"\n",(0,l.jsxs)(e.li,{children:["Test:","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"service isc-dhcp-server status"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"tftp",children:"tftp"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo apt install tftpd-hpa tftp-hpa inetutils-inetd"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo service tftpd-hpa start"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo vi /etc/inetd.conf"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"tftp dgram udp wait root /usr/sbin/in.tftpd /usr/sbin/in.tftpd -s /var/lib/tftpboot\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo vi /etc/default/tftpd-hpa"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'TFTP_USERNAME="tftp"\nTFTP_DIRECTORY="/var/lib/tftpboot"\nTFTP_ADDRESS=":69"\nTFTP_OPTIONS="--secure"\nRUN_DAEMON="yes"\nOPTIONS="-l -s /var/lib/tftpboot"\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo update-inetd --enable BOOT"})," \u91cd\u542f\u65f6\u81ea\u542f\u52a8"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo service tftpd-hpa start"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"netstat -lu | grep tftp"})," check"]}),"\n",(0,l.jsxs)(e.li,{children:["test","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"tftp localhost"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"get ..."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u7f51\u7edc\u542f\u52a8\u6587\u4ef6-pxelinux0-",children:"\u7f51\u7edc\u542f\u52a8\u6587\u4ef6\uff08 pxelinux.0 )"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mkdir /var/lib/tftpboot"})}),"\n",(0,l.jsxs)(e.li,{children:["3 \u79cd\u83b7\u53d6\u65b9\u5f0f","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u65b9\u5f0f 1\uff1a\u4ece ",(0,l.jsx)(e.strong,{children:"syslinux"})," \u62f7\u8d1d \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u6ca1\u6709\u9ed8\u8ba4\u914d\u7f6e"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo apt install syslinux"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mkdir /var/lib/tftpboot/pxelinux.cfg"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp /usr/lib/syslinux/vesamenu.c32 /var/lib/tftpboot/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp /usr/lib/syslinux/pxelinux.0 /var/lib/tftpboot/"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u65b9\u5f0f 2\uff1a\u4ece ISO \u4e2d\u83b7\u53d6 \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u540e\u6765\u5f88\u591a ISO \u90fd\u6ca1\u6709\u4e86"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u65b9\u5f0f 3\uff1a\u7f51\u4e0a\u4e0b\u8f7d ",(0,l.jsx)(e.strong,{children:"netboot"})," \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u63a8\u8350"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"wget http://archive.ubuntu.com/ubuntu/dists/[precise|xenial]/main/installer-[amd64|i386]/current/images/netboot/netboot.tar.gz"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u53ef\u4ee5\u5728 mirrors.xxx \u4e2d\u627e\u5230"}),"\n",(0,l.jsx)(e.li,{children:"precise: 12.04; xenial: 16.04"}),"\n",(0,l.jsxs)(e.li,{children:["eg: ",(0,l.jsx)(e.code,{children:"wget https://mirrors.zte.com.cn/ubuntu/dists/bionic/main/installer-amd64/current/images/netboot/netboot.tar.gz"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"mv netboot.tar.gz /var/lib/tftpboot"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"cd /var/lib/tftpboot && sudo tar -xzvf netboot.tar.gz"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u914d\u7f6e pxe \u83b7\u53d6 kernel \u548c initrd \u7684\u65b9\u5f0f\u548c\u8def\u5f84 \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u6b64\u5904\u914d\u7f6e\u8981\u548c\u540e\u9762 nfs\u3001apache \u4e2d\u914d\u7f6e\u4e00\u81f4"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /var/lib/tftpboot/ubuntu-installer/[amd64|i386]/boot-screens/txt.cfg"})," \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u65b0\u7248"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /var/lib/tftpboot/pxelinux.cfg/default"})," \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u65e7\u7248"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u91cd\u70b9\u914d\u7f6e\u4e0b\u9762 2 \u884c","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"kernel ......"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"append initrd=...... ks=......"})}),"\n",(0,l.jsx)(e.li,{children:"\u5177\u4f53\u600e\u4e48\u914d\u7f6e\u4e0b\u6587\u5206\u65b9\u5f0f\u63cf\u8ff0"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u51c6\u5907-ubuntu",children:"\u51c6\u5907 Ubuntu"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4e0b\u8f7d ubuntu iso","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"https://mirrors.zte.com.cn/ubuntu-releases"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u8def\u5f84\u8bbe\u8ba1","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u591a\u4e2a\u7248\u672c Ubuntu \u540c\u65f6\u5b89\u88c5"}),"\n",(0,l.jsxs)(e.li,{children:["Ubuntu \u91ca\u653e\u6587\u4ef6\u5230\uff1a",(0,l.jsx)(e.code,{children:"/var/lib/tftpboot/ubuntu/xx.xx"})," xx.xx \u4e3a ubuntu \u7684\u7248\u672c\u53f7\uff0c\u6839\u636e\u9700\u6c42\u53ef\u4ee5\u8bbe\u8ba1\u66f4\u590d\u6742\u8def\u5f84"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u51c6\u5907 16.04","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mount -o loop ubuntu-16.04.3-desktop-amd64.iso /media/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mkdir -p /var/lib/tftpboot/ubuntu/16.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp -r /media/* /var/lib/tftpboot/ubuntu/16.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp -r /media/.disk /var/lib/tftpboot/ubuntu/16.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo unmout /media"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u51c6\u5907 18.04","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mount -o loop ubuntu-18.04.3-desktop-amd64.iso /media/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo mkdir -p /var/lib/tftpboot/ubuntu/18.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp -r /media/* /var/lib/tftpboot/ubuntu/18.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo cp -r /media/.disk /var/lib/tftpboot/ubuntu/18.04"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo umount /media"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"kernel--initrd",children:"kernel & initrd"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo vi /var/lib/tftpboot/ubuntu-installer/[amd64|i386]/boot-screens/txt.cfg"})}),"\n",(0,l.jsxs)(e.li,{children:["\u65b9\u5f0f 1\uff1a\u4f7f\u7528 ISO \u4e2d casper \u7684 initrd.lz \u548c kernel(vmlinuz.efi) \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u652f\u6301 nfs"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["pxe \u914d\u7f6e","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["16.04","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"kernel ubuntu/16.04/casper/vmlinuz.efi"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"append vga=788 boot=casper netboot=nfs nfsroot=<\u672c\u673aIP>:/var/lib/tftpboot/ubuntu/16.04 initrd=ubuntu/16.04/casper/initrd.lz --- quiet"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"splash\uff1a\u8868\u793a loading \u5c4f\u5e55\u662f\u5426\u663e\u793a\uff0c\u7981\u7528\u7684\u8bdd loading \u65f6\u4e00\u7247\u7a7a\u767d"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["18.04","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"kernel ubuntu/18.04/casper/vmlinuz"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"append vga=788 boot=casper netboot=nfs nfsroot=<\u672c\u673aIP>:/var/lib/tftpboot/ubuntu/18.04 initrd=ubuntu/18.04/casper/initrd --- quiet"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u65b9\u5f0f 2\uff1a\u4f7f\u7528 netboot \u5305\u542b\u7684 initrd.gz \u548c kernel(linux) \u2014\u2014 ",(0,l.jsx)(e.strong,{children:"\u4e0d\u652f\u6301 nfs\uff0c\u4e14 client \u59cb\u7ec8\u9ed8\u8ba4 http \u8bbf\u95ee server\uff0c\u8981\u6c42 server \u5fc5\u987b\u4f7f\u7528 apache"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u524d\u9762 netboot \u5df2\u7ecf\u91ca\u653e\u5230 ",(0,l.jsx)(e.code,{children:"/var/lib/tftpboot"})," \u76ee\u5f55\u4e0b"]}),"\n",(0,l.jsxs)(e.li,{children:["pxe \u914d\u7f6e","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"kernel ubuntu-installer/amd64/linux"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"append vga=788 netboot=nfs nfsroot=192.168.1.10:/var/lib/tftpboot/ubuntu initrd=ubuntu-installer/amd64/initrd.gz quiet splash"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"ubuntu-live-images",children:"Ubuntu live images"}),"\n",(0,l.jsx)(e.h3,{id:"nfs",children:"NFS"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo apt install nfs-kernel-server"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /etc/exports"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"/var/lib/tftpboot/ubuntu *(ro,async,no_root_squash,no_subtree_check)"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo exportfs -a"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo /etc/init.d/nfs-kernel-server start"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"apache",children:"Apache"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo apt-get install apache2"})}),"\n",(0,l.jsxs)(e.li,{children:["\u914d\u7f6e\uff1a","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u2026\u2026"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"client-\u914d\u7f6e",children:"Client \u914d\u7f6e"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["BIOS","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"net interface pxe mode\uff1a enable"}),"\n",(0,l.jsx)(e.li,{children:"security boot\uff1adisable"}),"\n",(0,l.jsx)(e.li,{children:"\u4e0d\u80fd\u7528 UEFI,\u8981\u5207\u6362\u5230 legace only"}),"\n",(0,l.jsx)(e.li,{children:"boot sequence\uff1anet first"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u63a8\u8350","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4f7f\u7528\u96c6\u6210\u663e\u5361\uff0cpxelinux \u5bf9\u6269\u5c55\u663e\u5361\u652f\u6301\u4e0d\u5b8c\u5907\uff08\u5f02\u5e38\u9ed1\u5c4f\u3001\u84dd\u5c4f\u3001\u7c89\u5c4f\u2026\u2026\uff09","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"BIOS \u4e2d\u5207\u6362\u5230 IDG\uff08\u96c6\u6210\u663e\u5361\uff09\uff0c\u800c\u4e0d\u662f Auto\uff08\u4f1a\u81ea\u52a8\u5230 PEG-PCI-E \u663e\u5361\uff09"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u4f7f\u7528\u5c0f\u5c3a\u5bf8\u7684\u663e\u793a\u5668\uff0cpxelinux \u5927\u663e\u793a\u5668\u652f\u6301\u4e0d\u5b8c\u5907\uff08\u5b57\u4f53\u3001\u56fe\u6807\u8fc7\u5927\u2026\u2026\uff09"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u7f51\u5361\u4e0d\u80fd\u4f7f\u7528","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["NetworkManager \u4e2d\u627e\u4e0d\u5230\u7f51\u5361","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u539f\u56e0 1\uff1aNetworkManager \u6ca1\u6709\u4f7f\u80fd"}),"\n",(0,l.jsxs)(e.li,{children:["\u89e3\u51b3","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /etc/NetworkManager/NetworkManager.conf"})," \u589e\u52a0 ",(0,l.jsx)(e.code,{children:"managed=true"})," \u2014\u2014 \u4f7f\u80fd NM"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo service NetworkManager stop"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo rm /var/lib/NetworkManager/NetworkManager.state"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"sudo service NetworkManager start"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u539f\u56e0 2\uff1a\u5e95\u5c42\u4e0d\u8ba9 NetworkManager \u8d77\u6548"}),"\n",(0,l.jsxs)(e.li,{children:["\u89e3\u51b3\uff1a","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"sudo vi /etc/network/interfaces"})," \u8fd9\u662f\u5e95\u5c42\u7ba1\u7406\u7f51\u5361\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6709\u5220\u6389\u8fd9\u91cc\u7ba1\u7406 eth0 \u7b49\u884c\uff0c\u653e\u6743\u7ed9 NetworkManager \u7ba1\u7406"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(u,{...n})}):u(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>d});var l=i(96540);const s={},r=l.createContext(s);function t(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);