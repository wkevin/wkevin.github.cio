{
    "version": "https://jsonfeed.org/version/1",
    "title": "wkevin Blog",
    "home_page_url": "https://wkevin.github.io/blog",
    "description": "wkevin Blog",
    "items": [
        {
            "id": "/2022/04/21/docusaurus.deploy.github",
            "content_html": "<p>今天把 Blog 从 Jekyll 转到 Docusaurus 了，仍是部署到 github，部署过程记录一下。</p><p>部署大体可以有这么几种方案：</p><div></div><p>方案 1：本地编译 gh-pages 分支，并上传，Github Pages 配置到 gh-pages 分支的 <code>build/</code> 目录上。</p><p>方案 2：使用 <code>yarn deploy</code> 整合命令，自动上传到 gh-pages 分支上，该分支仅包含 build 下内容，所以 Github Pages 配置到 gh-pages 分支的 <code>/</code> 根目录。</p><p>方案 3：使用 Github Actions（或类似 Travis CI 竞品），需要写 Actions 的 workflow 和 job，Docusaurus 已经<a href=\"https://docusaurus.io/docs/deployment#triggering-deployment-with-github-actions\" target=\"_blank\" rel=\"noopener noreferrer\">写好了一份</a>，复制到 <code>.github/workflows/</code> 即可。</p><p>官方写了 2 个 workflow 的例子：</p><ul><li><code>.github/workflows/test-deploy.yml</code>：指定分支有 PR 时触发，仅测试能否 build 成功。</li><li><code>.github/workflows/deploy.yml</code>：指定分支 push 时触发，表示 PR 已经被 review 通过，执行 build、和另一个 Github Action，用通用账号部署到个人的 repo 中的指定分支（一般就是 gh-pages）中。</li></ul><p>方案 1 全手工没必要，方案 2 要废自己电脑的算力来 build，推荐方案 3，免费撸 MS 的羊毛，如果每次 pull 的时候只拉取 main 分支 <code>git pull origin main</code>，不拉取 gh-pages 分支，那样连本机磁盘都不占用了。</p>",
            "url": "https://wkevin.github.io/blog/2022/04/21/docusaurus.deploy.github",
            "title": "github pages 部署 docusaurus",
            "summary": "今天把 Blog 从 Jekyll 转到 Docusaurus 了，仍是部署到 github，部署过程记录一下。",
            "date_modified": "2022-04-21T00:00:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "docusaurus",
                "deploy",
                "github"
            ]
        },
        {
            "id": "/2022/04/15/docusaurus",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/docusaurus_keytar-749fc0e4c827a781c5d4c8b10d40b033.svg#size20\" width=\"200\" height=\"200\" class=\"img_E7b_\"></p><p>最近学习使用 <a href=\"http://midwayjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Midway</a> 和 <a href=\"https://tauri.studio/\" target=\"_blank\" rel=\"noopener noreferrer\">Tauri</a>，忽然对网站是怎么做出来的来了兴趣，尤其是“侧边栏和 ToC 分列左右”特别喜欢，我多年来一直使用的 <a href=\"https://docsify.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Docsify</a> 总是 ToC 混入侧边栏，让我总有些别扭。</p><p>把 Midway 和 Tauri 的网站源码下载下来，发现都是基于同一个框架：<a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Docusaurus</a>，就花了一些时间研究，并且把公司团队的技术积累平台修改成此框架，感觉一下高大上起来了。</p><p>官方文档已经很详细了，我这里只能做一些小提示吧。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"3-类内容\">3 类内容<a class=\"hash-link\" href=\"#3-类内容\" title=\"Direct link to heading\">​</a></h2><p>用户可以在 Docusaurus 中写 3 类内容：</p><ol><li>Page：<code>src/pages/</code> 路径下内容，支持 js、md 文件。</li><li>doc：<code>docs/</code> 路径下内容，支持 md、mdx 文件。</li><li>blog：<code>blog/</code> 路径下内容，支持 md、mdx 文件。</li></ol><p>Page、Blog 内容不同路径下的文件生成的路由（url 路径）不同，比如：</p><table><thead><tr><th>文件路径</th><th>URL 路径</th></tr></thead><tbody><tr><td><code>src/pages/index.js</code></td><td><code>[baseUrl]/</code></td></tr><tr><td><code>src/pages/foo.js</code></td><td><code>[baseUrl]/foo</code></td></tr><tr><td><code>src/pages/foo.md</code></td><td><code>[baseUrl]/foo</code></td></tr><tr><td><code>src/pages/foo/index.js</code></td><td><code>[baseUrl]/foo/</code></td></tr><tr><td><code>src/pages/foo/bar.js</code></td><td><code>[baseUrl]/foo/bar</code></td></tr><tr><td><code>blog/YYYY-MM-DD-foo.bar/index.md</code></td><td><code>blog/YYYY/MM/DD/foo.bar</code></td></tr><tr><td><code>blog/YYYY-MM-DD-foo.bar.md</code></td><td><code>blog/YYYY/MM/DD/foo.bar</code></td></tr><tr><td><code>blog/YYYY-MM-DD-foo.bar/foobar.md</code></td><td><code>blog/YYYY/MM/DD/foo.bar/foobar</code></td></tr><tr><td><code>blog/YYYY-MM-DD_foo.bar/index.md</code></td><td><code>blog/YYYY/MM/DD/_foo.bar</code></td></tr></tbody></table><p>docs 的路由和 blog 类似，但还和 md 文件中 yaml 头中的 <code>id</code> 字段有关。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"markdown-front-matter\">Markdown front matter<a class=\"hash-link\" href=\"#markdown-front-matter\" title=\"Direct link to heading\">​</a></h2><p>根据惯例，md 文件可以写个 yaml 格式的头，称为 Markdown front matter，比如：</p><div class=\"codeBlockContainer_I0IT language-xml theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">---</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">title: Docusaurus Tips</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">date: 2022-04-15 14:03:13 +0800</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">description: \" \"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">---</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>Yaml 是 <code>key: value</code> 形式的写法，value 支持数组。常用的 key 有：</p><table><thead><tr><th>key</th><th>key 说明</th><th>value 类型</th><th><code>blog/</code></th><th><code>docs/</code></th></tr></thead><tbody><tr><td><strong>title</strong></td><td>左侧边栏的文章标题（注 1）</td><td>string</td><td>有效</td><td>有效</td></tr><tr><td><strong>hide_table_of_contents</strong></td><td>隐藏右侧 TOC</td><td>true/false</td><td>有效</td><td>有效</td></tr><tr><td><strong>authors</strong></td><td>作者，搜索 <code>blog/authors.yml</code> 文件中的用户</td><td>string/string[]</td><td>有效</td><td>无效</td></tr><tr><td><strong>date</strong></td><td>手工指定文章展示给用户的日期 (注 2)</td><td>string</td><td>有效</td><td>无效</td></tr><tr><td><strong>tags</strong></td><td></td><td>string/string[]</td><td>有效</td><td>无效</td></tr><tr><td><strong>sidebar_position</strong></td><td>左侧边栏的顺序</td><td>数字</td><td>无效</td><td>有效</td></tr></tbody></table><blockquote><p>注 1：\n左侧边栏显示的标题抓取顺序按优先级为：</p><ol><li>yaml 中的 title key</li><li>提取 markdown 文章中一级目录，但一级目录前不能有除 yaml 之外的其他行</li><li>从文件夹中提取（会自动去掉日期）</li></ol></blockquote><blockquote><p>注 2：\nblog 中个人技术积累文章在标题下展示出的日期依次从 3 个地方获取：</p><ol><li>从 markdown 文件中的 <code>date</code> key 字段</li><li>从文件夹或文件名称中自动提取，比如： 2022-04-05（不带中划线无法提取）</li><li>从 git log 的时间中提取 —— 这个可能是大家不愿看到的</li></ol></blockquote><ul><li><code>blog/</code> 目录 md 文件可用的头部 key 完整定义参考 <a href=\"https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog#markdown-front-matter\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>。</li><li><code>docs/</code> 目录 md 文件可用的头部 key 完整定义参考 <a href=\"https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs#markdown-front-matter\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>。</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"摘要显示\">摘要显示<a class=\"hash-link\" href=\"#摘要显示\" title=\"Direct link to heading\">​</a></h2><p>默认情况下 blog 全文会显示在 blog 首页，如果全文太长，会造成加载耗时和阅读困难，在 blog 中添加如下行可以在首页中截断，点击进入文章后才显示全文。</p><div class=\"codeBlockContainer_I0IT language-html theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-html codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token comment\" style=\"color:#999988;font-style:italic\">&lt;!--truncate--&gt;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"mdx\">MDX<a class=\"hash-link\" href=\"#mdx\" title=\"Direct link to heading\">​</a></h2><p>最后来聊聊 docusaurus 使用的编译器。</p><p>我也算是 Markdown “资深”玩家了，今天竟然第一次听说 MDX，资深一下没了底气。应该是普通的 Markdown 已经无法满足程序员们日益增长的写文档热情，MDX 就被创造出来了，有人说 <code>MDX = MD - HTML + JSX</code>，即：Markdown 中不再能写传统的 html 语法，而是用 JSX 语法。</p><p>JSX 是 Facebook 为 React 创造的语言，是 <code>JavaScript + XML</code> 的缩写，让你用类似 HTML（HTML 就是一种 XML 标记型语言）的语法写文件，然后通过编译器（常用的是 babel）编译成 JavaScript，对应的 VUE 好像还没有类似产品。</p><p>JSX 从 JavaScript 而来，又向 HTML 做了靠拢，但毕竟不是 HTML，所以初写起来我还是挺难受的，比如直接在 md 文件中写：</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword module\" style=\"color:#00009f\">import</span><span class=\"token plain\"> </span><span class=\"token imports maybe-class-name\">Tabs</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#00009f\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"@theme/Tabs\"</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:#00009f\">import</span><span class=\"token plain\"> </span><span class=\"token imports maybe-class-name\">TabItem</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#00009f\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"@theme/TabItem\"</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">**</span><span class=\"token plain\">多 </span><span class=\"token maybe-class-name\">Tab</span><span class=\"token plain\"> 演示</span><span class=\"token operator\" style=\"color:#393A34\">**</span><span class=\"token plain\">：</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token maybe-class-name\">Tabs</span><span class=\"token plain\"> groupId</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token string\" style=\"color:#e3116c\">\"operating-systems\"</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token maybe-class-name\">TabItem</span><span class=\"token plain\"> value</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token string\" style=\"color:#e3116c\">\"win\"</span><span class=\"token plain\"> label</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token string\" style=\"color:#e3116c\">\"Windows\"</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token maybe-class-name\">Use</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">Ctrl</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">+</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:#36acaa\">C</span><span class=\"token plain\"> to copy</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token operator\" style=\"color:#393A34\">/</span><span class=\"token maybe-class-name\">TabItem</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token maybe-class-name\">TabItem</span><span class=\"token plain\"> value</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token string\" style=\"color:#e3116c\">\"mac\"</span><span class=\"token plain\"> label</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token string\" style=\"color:#e3116c\">\"macOS\"</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token maybe-class-name\">Use</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">Command</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">+</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:#36acaa\">C</span><span class=\"token plain\"> to copy</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token operator\" style=\"color:#393A34\">/</span><span class=\"token maybe-class-name\">TabItem</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token operator\" style=\"color:#393A34\">/</span><span class=\"token maybe-class-name\">Tabs</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>总感觉不伦不类，markdown 中嵌入既不是 js，也不是 html 的文字……OMG，说不定过段时间我自己就看不懂了。</p><p>但是添加了 JSX 的 MDX 给了程序员做出更复杂、炫酷网页的能力，各种 React 的动画、翻页、数据处理、数据可视化……React 组件加持，瞬间提升逼格，与普通 Markdown 用户拉开了距离……这应该是 md 平民化后小众彰显个性的一个机会。</p><p>怎么写 MDX，还是看 <a href=\"https://mdxjs.com\" target=\"_blank\" rel=\"noopener noreferrer\">MDX 官网</a>、<a href=\"https://reactjs.org/docs/introducing-jsx.html\" target=\"_blank\" rel=\"noopener noreferrer\">JSX 官网</a>吧。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"解析器\">解析器<a class=\"hash-link\" href=\"#解析器\" title=\"Direct link to heading\">​</a></h2><p>得到最终的编译结果，MDX 需要经过多次编译：</p><p><code>[MDX] --(@mdx-js/mdx)--&gt; [MD] --(remark)--&gt; [HTML] --(rehype)--&gt; [HTML]</code></p><ul><li><a href=\"https://www.mdxjs.cn/\" target=\"_blank\" rel=\"noopener noreferrer\"><code>@mdx-js/mdx</code></a> 能够处理 mdx 语法，将 md 编译成 md + js/html</li><li><a href=\"https://remark.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\"><code>remark</code></a> 是一个 markdonw 生态，能够接入多个插件，实现 md 的各种类型输出</li><li><a href=\"https://github.com/rehypejs/rehype\" target=\"_blank\" rel=\"noopener noreferrer\"><code>rehype</code></a> 直接操作和修改 html DOM，比如数学公式的渲染，则可以在 rehype 阶段插入</li></ul><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm list -a | grep remark</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">├─┬ @akebifiky/remark-simple-plantuml@1.0.2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ │ ├── remark-footnotes@2.0.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ │ ├─┬ remark-mdx@1.6.22</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ │ │ ├── remark-parse@8.0.3 deduped</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ │ ├─┬ remark-parse@8.0.3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ │ ├─┬ remark-squeeze-paragraphs@4.0.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ ├─┬ remark-emoji@2.2.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ ├─┬ remark-admonitions@1.2.1</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ ├── remark-admonitions@1.2.1 deduped</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ ├── remark-admonitions@1.2.1 deduped</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│ │ ├── remark-admonitions@1.2.1 deduped</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">└── remark-math@3.0.1</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>Docusaurus 组合了 babel、 mdx、remark、rehype 等成熟工具，打造了一个功能完整、插件灵活的网站生成框架。</p><p>比如下面几个功能的扩展都是借助 remark、rehype 进行的。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"plantuml-画图\">PlantUML 画图<a class=\"hash-link\" href=\"#plantuml-画图\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm i --save @akebifiky/remark-simple-plantuml</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>修改 docusaurus.config.js</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token literal-property property\" style=\"color:#36acaa\">presets</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token string\" style=\"color:#e3116c\">\"classic\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">/** @type {import('@docusaurus/preset-classic').Options} */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token literal-property property\" style=\"color:#36acaa\">docs</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token literal-property property\" style=\"color:#36acaa\">remarkPlugins</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">              </span><span class=\"token spread operator\" style=\"color:#393A34\">...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">              </span><span class=\"token method function property-access\" style=\"color:#d73a49\">require</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"@akebifiky/remark-simple-plantuml\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">                </span><span class=\"token literal-property property\" style=\"color:#36acaa\">baseUrl</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"http://10.7.225.106:8088/svg/\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token spread operator\" style=\"color:#393A34\">...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token spread operator\" style=\"color:#393A34\">...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token literal-property property\" style=\"color:#36acaa\">blog</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">// 同理添加</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"mermaid-画图\">Mermaid 画图<a class=\"hash-link\" href=\"#mermaid-画图\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm i --save mdx-mermaid</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>修改 docusaurus.config.js</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token literal-property property\" style=\"color:#36acaa\">presets</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token string\" style=\"color:#e3116c\">\"classic\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">/** @type {import('@docusaurus/preset-classic').Options} */</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token literal-property property\" style=\"color:#36acaa\">docs</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token literal-property property\" style=\"color:#36acaa\">remarkPlugins</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token function\" style=\"color:#d73a49\">require</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"mdx-mermaid\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token spread operator\" style=\"color:#393A34\">...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token spread operator\" style=\"color:#393A34\">...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token literal-property property\" style=\"color:#36acaa\">blog</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">// 同理添加</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"katex-数学公式\">Katex 数学公式<a class=\"hash-link\" href=\"#katex-数学公式\" title=\"Direct link to heading\">​</a></h3><p><a href=\"https://docusaurus.io/docs/markdown-features/math-equations\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a>给出来的命令是：</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm install --save remark-math@3 rehype-katex@5 hast-util-is-element@1.1.0</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>然后修改 docusaurus.config.js，注册插件分别到 remark 和 rehype，并且添加 katex 的 CSS（如果不正确添加 CSS，firefox 可以正确显示，但 Chrome 上不行——这是我第一次看到 Chrome 比 ff 弱的）。</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">const</span><span class=\"token plain\"> math </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">require</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"remark-math\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">const</span><span class=\"token plain\"> katex </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">require</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"rehype-katex\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token literal-property property\" style=\"color:#36acaa\">title</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"Docusaurus\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token literal-property property\" style=\"color:#36acaa\">tagline</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"Build optimized websites quickly, focus on your content\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token literal-property property\" style=\"color:#36acaa\">presets</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token string\" style=\"color:#e3116c\">\"@docusaurus/preset-classic\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token literal-property property\" style=\"color:#36acaa\">docs</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token literal-property property\" style=\"color:#36acaa\">path</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"docs\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token literal-property property\" style=\"color:#36acaa\">remarkPlugins</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">math</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          </span><span class=\"token literal-property property\" style=\"color:#36acaa\">rehypePlugins</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">katex</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token literal-property property\" style=\"color:#36acaa\">stylesheets</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token literal-property property\" style=\"color:#36acaa\">href</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token literal-property property\" style=\"color:#36acaa\">type</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"text/css\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token literal-property property\" style=\"color:#36acaa\">integrity</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token string\" style=\"color:#e3116c\">\"sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token literal-property property\" style=\"color:#36acaa\">crossorigin</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"anonymous\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>但其实 Docusaurus 自己并不是这种方式，而是安装的最新版 <code>rehype-katex@6</code>，并且这样修改 docusaurus.config.js：</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">function</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">createConfig</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:#00009f\">const</span><span class=\"token plain\"> katex </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token keyword control-flow\" style=\"color:#00009f\">await</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#00009f\">import</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"rehype-katex\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token keyword module\" style=\"color:#00009f\">default</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  config</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">presets</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">0</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">docs</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">rehypePlugins</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token method function property-access\" style=\"color:#d73a49\">push</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">katex</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  config</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">presets</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">0</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">blog</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">rehypePlugins</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token method function property-access\" style=\"color:#d73a49\">push</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">katex</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token keyword control-flow\" style=\"color:#00009f\">return</span><span class=\"token plain\"> config</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> createConfig</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>自己试一下就明了其中原因了。</p><p>另外，还可以给 rehype-katex 送参数：</p><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token literal-property property\" style=\"color:#36acaa\">rehypePlugins</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    katex</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token literal-property property\" style=\"color:#36acaa\">output</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"mathml\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>rehype-katex 有 3 种 output：</p><ul><li>'html' :可 copy 的网页显示</li><li>'mathml' : 我们通常理解的很有科学范儿的显示</li><li>'htmlAndMathml'(默认) ：两种都显示</li></ul><p>更多的参数打开 rehype-katex 源码看一眼就是了。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"remark-的检查功能\">remark 的检查功能<a class=\"hash-link\" href=\"#remark-的检查功能\" title=\"Direct link to heading\">​</a></h3><p>remark 除了编译，还能够像高级语言一样对 markdown 文本进行源代码静态检查，有点向高级语言走的内味儿了，所以如果 md 写的不专业，被 remark 告警，也是挺尴尬的。</p><p>列几个我被告警的项目：</p><table><thead><tr><th>告警项</th><th>错误写法</th><th>正确写法</th></tr></thead><tbody><tr><td>换行</td><td><code>&lt;br/&gt;</code></td><td><code>&lt;br/&gt;</code></td></tr><tr><td>路径</td><td><code>foo\\bar</code></td><td><code>foo/bar</code></td></tr><tr><td>空或无效链接</td><td><code>[foobar]()</code></td><td>--</td></tr><tr><td>找不到图片</td><td><code>![](foobar.png)</code></td><td>怎么找到图片官网有<a href=\"https://docusaurus.io/docs/markdown-features/assets\" target=\"_blank\" rel=\"noopener noreferrer\">说明</a></td></tr><tr><td>使用 js 关键字</td><td></td><td><code>import</code>、<code>export</code> 在行首时只能用于 jsx 语法能</td></tr></tbody></table><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"其他一些零碎-tips\">其他一些零碎 Tips<a class=\"hash-link\" href=\"#其他一些零碎-tips\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"展开组件\">展开组件<a class=\"hash-link\" href=\"#展开组件\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT language-js theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token plain\">details</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token plain\">summary</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token maybe-class-name\">Hello</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">World</span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token operator\" style=\"color:#393A34\">/</span><span class=\"token plain\">summary</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token constant\" style=\"color:#36acaa\">I</span><span class=\"token plain\"> like docusaurus</span><span class=\"token operator\" style=\"color:#393A34\">!</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">&lt;</span><span class=\"token operator\" style=\"color:#393A34\">/</span><span class=\"token plain\">details</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>在 md 文件中直接写上面的 js，可以得到一个默认收缩，点击展开的效果。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"为代码段添加标题\">为代码段添加标题<a class=\"hash-link\" href=\"#为代码段添加标题\" title=\"Direct link to heading\">​</a></h3><pre tabindex=\"0\" class=\"prism-code language-text codeBlockStandalone_csWH thin-scrollbar codeBlockContainer_I0IT theme-code-block\" style=\"color:#393A34;background-color:#f6f8fa\"><code class=\"codeBlockLines_mRuA\">```js title=\"docusaurus.config.js\"<br>const math = require(\"remark-math\");<br>const katex = require(\"rehype-katex\");<br>```</code></pre><p>这样写可以得到一个带标题的代码块。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"不想让代码段被-prettier-修改\">不想让代码段被 Prettier 修改<a class=\"hash-link\" href=\"#不想让代码段被-prettier-修改\" title=\"Direct link to heading\">​</a></h3><p>整篇文章默认当然是 Prettier 做 formatter，但有些段落临时不想让 Prettier 生效，怎么办？</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&lt;!-- prettier-ignore --&gt;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">// 自己的代码段</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>这是配置 Prettier 了，本质上和 Docusaurus 无关。</p><p>OK！哪天有空把我当前这个 blog 也改用 Docusaurus，或者 VUEPress。</p>",
            "url": "https://wkevin.github.io/blog/2022/04/15/docusaurus",
            "title": "Docusaurus Tips",
            "summary": "最近学习使用 Midway 和 Tauri，忽然对网站是怎么做出来的来了兴趣，尤其是“侧边栏和 ToC 分列左右”特别喜欢，我多年来一直使用的 Docsify 总是 ToC 混入侧边栏，让我总有些别扭。",
            "date_modified": "2022-04-15T00:00:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "docusaurus",
                "mdx",
                "jsx"
            ]
        },
        {
            "id": "/2022/01/22/create-tauri-app",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/icon-ea1758656ef114d264ae3b6bdd11ed63.png#size20\" width=\"512\" height=\"512\" class=\"img_E7b_\"></p><p>一直想用前后端技术栈做个跨平台（Win/Linux/macOS）的 APP，前几年了解过 Electron，到后来始终没有应用场景，就放下了，最近又掌握了一下最新情况：</p><table><thead><tr><th>框架</th><th>前端</th><th>后端</th></tr></thead><tbody><tr><td>Electron</td><td>Angular/VUE/React</td><td>typescript</td></tr><tr><td>Wails</td><td>VUE/React</td><td>go</td></tr><tr><td>Goxygen</td><td>Angular/VUE/React</td><td>go</td></tr><tr><td>Tauri</td><td>Angular/VUE/React/Vite/...</td><td>rust</td></tr></tbody></table><p>前几天恰逢有个场景，就试了一下 <a href=\"https://tauri.studio/\" target=\"_blank\" rel=\"noopener noreferrer\">Tauri</a>，相比 Electron, Tauri 不会把 node 和 chromium 打包到最终 APP，所以最终构建出的版本会小很多，运行速度也快很多。</p><p>用了 2 天跑起来了一个基本的 APP，前端 <code>Vite + VUE4 + Element-plus + TypeScript</code>，后端 Rust，过程记录如下。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"脚手架创建项目\">脚手架创建项目<a class=\"hash-link\" href=\"#脚手架创建项目\" title=\"Direct link to heading\">​</a></h3><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"npmyarn-准备\">npm/yarn 准备<a class=\"hash-link\" href=\"#npmyarn-准备\" title=\"Direct link to heading\">​</a></h4><p>如果不是在公司 Proxy 之后，则忽略本段，设置好淘宝的 npm 镜像即可，我是在公司 Proxy 之后折腾的，并且 yarn 与 npm 还有一些差异，所以特别记录一下。</p><p>因为早期(<code>&lt;1.0.0-beta8</code>)的 tauri 在运行脚手架时需要从 github 上下载东西，所以我需要处理同时：“通过 proxy 访问 github” + “公司内包服务器下载 npm 包”的情形。</p><blockquote><p>注：1.0.0-rc 后就不需要从 github 上下载了，一下轻松很多。</p></blockquote><table><thead><tr><th>npm 配置项</th><th>npm</th><th>yarn</th></tr></thead><tbody><tr><td><code>registry</code></td><td><code>npm config set registry &lt;包服务器&gt;</code></td><td>使用 npm 的</td></tr><tr><td><code>proxy</code></td><td><code>npm config set proxy &lt;代理服务器&gt;</code></td><td>使用 npm 的</td></tr><tr><td><code>noproxy</code></td><td><code>npm config set noproxy &lt;包服务器&gt;</code></td><td><strong>不使用 npm 此配置</strong></td></tr></tbody></table><p><a href=\"https://docs.npmjs.com/cli/v8/using-npm/config\" target=\"_blank\" rel=\"noopener noreferrer\">npm 的 config 详细文档</a> 中有 registry、proxy、noproxy 等所有配置项的说明。</p><p>另外，对于 shell 环境变量，npm 和 yarn 也不同处理</p><table><thead><tr><th>shell 变量</th><th>npm</th><th>yarn</th></tr></thead><tbody><tr><td><code>http-proxy</code><br><code>https-proxy</code></td><td>不使用</td><td>使用</td></tr><tr><td><code>no_proxy</code></td><td>不使用</td><td>不使用</td></tr><tr><td><code>npm_config_xxx</code></td><td>接受</td><td>不接受</td></tr></tbody></table><p>因此，总结一下在公司内网安装的最佳方案：</p><table><thead><tr><th>目的</th><th><code>proxy</code></th><th><code>noproxy</code></th></tr></thead><tbody><tr><td>内网包服务器 + npm</td><td>可以配，别配错就行</td><td>可以配，别配错就行</td></tr><tr><td>内网包服务器 + yarn</td><td><code>npm config delete proxy</code></td><td>无效</td></tr><tr><td>外网包服务器 + npm</td><td>必须正确配置</td><td>必须正确配置</td></tr><tr><td>外网包服务器 + yarn</td><td>使用 npm 配置</td><td>无效</td></tr></tbody></table><p>配置好后检查一下</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm update</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm config list</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ yarn config list</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"create\">Create<a class=\"hash-link\" href=\"#create\" title=\"Direct link to heading\">​</a></h4><p>下面是 yarn 和 npx 两种用脚手架的方式对比，运行阶段是相同的，整体来说 yarn 的成功率会高一些，反复安装的速度也大幅提升。所以直连外网的话必须首选 yarn，内网安装的话就是面对上面 3 号环境，用 npm 更合适些。</p><ul><li>yarn: <code>yarn create tauri-app</code></li><li>npm: <code>npx create-tauri-app</code></li></ul><table><thead><tr><th>阶段</th><th>说明</th><th>yarn</th><th>npm</th></tr></thead><tbody><tr><td>准备脚手架</td><td>Install <a href=\"mailto:create-tauri-app@1.0.0-beta.4\" target=\"_blank\" rel=\"noopener noreferrer\">create-tauri-app@1.0.0-beta.4</a></td><td>正常</td><td>正常</td></tr><tr><td>交互式配置</td><td>app name/title/UI reciped 等</td><td>正常</td><td>正常</td></tr><tr><td><code>&gt;&gt;Running initial command(s)</code></td><td>安装 create-vite</td><td>正常</td><td>正常</td></tr><tr><td><code>&gt;&gt; Installing any additional</code><br><code>needed dependencies</code></td><td>安装 vue,vite,ts,tauri-apps/cli 直接包及其 370+ 依赖包</td><td>优秀<br>[注 1]</td><td>偶发失败<br>[注 2]</td></tr><tr><td><code>&gt;&gt; Updating \"package.json\"</code></td><td>将项目配置写入 package.json</td><td>正常</td><td>正常</td></tr><tr><td><code>&gt;&gt; Running \"tauri init\"</code></td><td>先 Download Rust CLI <!-- -->[注 3]<!-- -->，然后执行初始化<!-- -->[注 4]</td><td>一次下载</td><td>反复下载</td></tr><tr><td><code>&gt;&gt; Updating \"tauri.conf.json\"</code></td><td></td><td></td><td></td></tr><tr><td><code>&gt;&gt; Running final command(s)</code></td><td><code>vue-tsc --noEmit &amp;&amp; vite build</code></td><td></td><td></td></tr></tbody></table><p>注：</p><ol><li>yarn 下载的包会缓存在 <code>yarn cache dir</code> 目录下面，然后在项目目录下的 node_modules 下创建软连接，所以重复安装时会非常快速，并节省硬盘空间。</li><li>多次出现安装不完整的情况，以至于后面使用 esbuild 包总是找不到，其实 esbuild 是 vite 所依赖的，安装 vite 时应该装上。</li><li>Downloading Rust CLI 下载的是 rust 版本的 tauri-cli，会把这个命令放在 <code>node_modules/@tauri-apps/cli/bin/</code> 下面，是从 github 上下载的，准备好科学上网，一旦成功最好保存好。但 yarn 就放心吧，以后用的都是软连接，不会再重复下载了。</li><li><code>$ tauri init --app-name demo --window-title demo --dist-dir ../dist --dev-path http://localhost:3000 --ci</code> 会创建 src-tauri 文件夹。</li></ol><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"项目运行\">项目运行<a class=\"hash-link\" href=\"#项目运行\" title=\"Direct link to heading\">​</a></h3><p>项目创建成功后，就可以直接运行，顺利的话就直接看到 VUE 的界面了：</p><ul><li>yarn: <code>yarn tauri dev</code></li><li>npm: <code>npm run tauri dev</code></li></ul><p>过程有这么几步：</p><ol><li><code>tauri-cli tauri dev</code>: 执行 rust 命令 tauri-cli</li><li>使用 vite 编译和打包 vue 前端，server：http://localhost:3000/</li><li>下载必要的 rust 依赖包，并编译，这个规模还挺大，截图看一下：</li></ol><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  ......</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">       Fetch [=================&gt;       ]  73.50%, (65264/114324) resolving deltas</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  ......</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded cfg_aliases v0.1.1 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded chrono v0.4.19 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded cocoa v0.24.0 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded cocoa-foundation v0.1.0 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded bstr v0.2.17 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded constant_time_eq v0.1.5 (registry `sjtu`)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  Downloaded 213 crates (9.8 MB) in 16.11s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   Compiling libc v0.2.113</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   Compiling cfg-if v1.0.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   Compiling proc-macro2 v1.0.36</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   Compiling unicode-xid v0.2.2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   Compiling syn v1.0.86</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>一切顺利的话，就能看到封装成 APP 的 VUE 了：</p><p><img loading=\"lazy\" src=\"/assets/images/app-b83a44e6125bcad53f4a5af2bb9d0efc.png\" width=\"1824\" height=\"1468\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"补充\">补充<a class=\"hash-link\" href=\"#补充\" title=\"Direct link to heading\">​</a></h3><p>顺利运行了 1 天，突然在 <code>npm run tauri dev</code> 的第 1 步报错：</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Error: failed to get project out directory</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Caused by:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">0: failed to parse cargo config file</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1: newline in string found at line 12 column 33</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>我以为是 <code>src-tauri/</code> 下的 Cargo.toml 或 tauri.conf.json 被我修改坏了，反复修改也不行，后来琢磨出来可能不是，去看了一眼 <code>~/.cargo/config</code>，原来被我改坏了，哎！</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"补充-2\">补充 2<a class=\"hash-link\" href=\"#补充-2\" title=\"Direct link to heading\">​</a></h3><p>2022 年 2 月，tauri 从 beta 升级到 1.0.0-rc.1，Download Rust CLI 步骤不再从 github 上下载二进制版本，所以不需要连外网了，进而都首选 yarn 了。</p>",
            "url": "https://wkevin.github.io/blog/2022/01/22/create-tauri-app",
            "title": "对比 yarn 和 npm 创建 Tauri 项目",
            "summary": " ",
            "date_modified": "2022-01-22T19:21:43.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "tauri"
            ]
        },
        {
            "id": "/2022/01/15/github.insteadof",
            "content_html": "<p>国内经常无法顺畅的连接 github，各类 git 操作都无法进行，但其实已经有团队做了 github 镜像站，比如下面要介绍的 2 个。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"1-httpshubfastgitorg\">1. <a href=\"https://hub.fastgit.org\" target=\"_blank\" rel=\"noopener noreferrer\">https://hub.fastgit.org</a><a class=\"hash-link\" href=\"#1-httpshubfastgitorg\" title=\"Direct link to heading\">​</a></h2><p>这个<a href=\"https://fastgit.org/\" target=\"_blank\" rel=\"noopener noreferrer\">团队</a>应该是国内的小伙伴，但把网站建在了 UK，肉身不知道在哪，反正当前能用。</p><p>登录 <a href=\"https://hub.fastgit.org\" target=\"_blank\" rel=\"noopener noreferrer\">网站</a> 就可以看到 github 上同步镜像过来的内容，偶尔 404，过几分钟刷新一下网页即可。</p><p>拉取代码操作 <code>git clone https://github.com/xxx/yyy</code> 就可以用 <code>git clone https://hub.fastgit.org/xxx/yyy</code> 代替。</p><p>如果你觉得这样让本地库的 git remote 变成了 fastgit，总觉得有点别扭，还想继续使用 github.com 做 remote 的话，可以使用 <a href=\"https://git-scm.com/docs/git-push/2.6.7#_git_urls\" target=\"_blank\" rel=\"noopener noreferrer\">git 的 insteadOf 功能</a>，即：</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">git config --global url.\"https://hub.fastgit.org/\".insteadOf \"https://github.com/\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">git config protocol.https.allow always</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>这样，就可以继续使用 <code>git clone https://github.com/xxx/yyy</code> 来拉取项目，并且后面的 push、pull 操作都会被自动替换网址。</p><p>问题也是有几个的：</p><ul><li>失败的话需要重来，跟网页 404 多次刷新一样，fastgit 做了防滥用阻止 IP 的设置。</li><li>不支持 ssh，这样的话只能在网页输入 name 和 password 了，是否能够保障密码安全，参考 <a href=\"https://doc.fastgit.org/zh-cn/privacy.html\" target=\"_blank\" rel=\"noopener noreferrer\">他们团队的隐私说明</a>。</li></ul><p>该团队还做了一些工具，油猴脚本，帮助在浏览器上完成无感替换。</p><p>该团队还对 github 的 raw、download、archive 都做了镜像，具体代理列表<a href=\"https://doc.fastgit.org/zh-cn/node.html\" target=\"_blank\" rel=\"noopener noreferrer\">在这里</a>。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"2-httpsgithubcomcnpmjsorg\">2. <a href=\"https://github.com.cnpmjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com.cnpmjs.org</a><a class=\"hash-link\" href=\"#2-httpsgithubcomcnpmjsorg\" title=\"Direct link to heading\">​</a></h2><p>阿里的中国 NPM 镜像 <a href=\"https://npmmirror.com/\" target=\"_blank\" rel=\"noopener noreferrer\">cnpm</a> 也做了同样的事情，只是在官网上没有列出来，比较低调，原理同上，简单列举：</p><ul><li>网址镜像：<a href=\"https://github.com.cnpmjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com.cnpmjs.org</a></li><li>拉取替换：<code>git clone https://github.com.cnpmjs.org/xxx/yyy</code></li><li>默认替换：<code>git config --global url.\"https://github.com.cnpmjs.org/\".insteadOf \"https://github.com/\"</code></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"浏览器替换插件\">浏览器替换插件<a class=\"hash-link\" href=\"#浏览器替换插件\" title=\"Direct link to heading\">​</a></h2><p>再配合浏览器网址替换插件，如 Gooreplacer（<a href=\"https://addons.mozilla.org/en-US/firefox/addon/gooreplacer/\" target=\"_blank\" rel=\"noopener noreferrer\">firefox</a>、<a href=\"https://chrome.google.com/webstore/detail/gooreplacer/jnlkjeecojckkigmchmfoigphmgkgbip\" target=\"_blank\" rel=\"noopener noreferrer\">chrome</a>），做一个网址替换，还可以更方便一些，如下图：</p><p><img loading=\"lazy\" src=\"/assets/images/gooreplacer-9822f854724ef855f0579dd3049de786.png\" width=\"1179\" height=\"445\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2022/01/15/github.insteadof",
            "title": "github 无奈之举",
            "summary": "通过镜像访问 github",
            "date_modified": "2022-01-15T10:35:55.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "github"
            ]
        },
        {
            "id": "/2022/01/14/debug.ts.in.vscode",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/0fcca426bcc7467a5dcf922fad827a66-29f456f35824d2783db0b6c3a938195d.jpeg\" width=\"1200\" height=\"675\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"搭建基础环境--运行-tsjs\">搭建基础环境 &amp; 运行 ts/js<a class=\"hash-link\" href=\"#搭建基础环境--运行-tsjs\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">mkdir ts-demo</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd ts-demo</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">npm init -y</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>创建 package.json，其中的 name = 文件夹名(ts-demo)，所以文件夹名称不能是 typescript，否则下面没法安装。</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">npm i typescript</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">./node_modules/.bin/tsc -V # tsc: typescript compiler 编译器</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">./node_modules/.bin/tsc -init # 创建 tsconfig.json</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>利用 tsc 编译器创建一个默认的 tsconfig.json，里面的配置基本不用动，但如果想单步 debug，则需要适当修改<code>\"sourceMap\": true</code>（具体看下文）。</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo 'console.log(\"hello world\")' &gt; foobar.ts # 创建并编辑 ts 文件</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">./node_modules/.bin/tsc foobar.ts # 生成 js</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>有 2 种运行方式：</p><ol><li>浏览器上执行（浏览器打开后 F12 -- console）</li></ol><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo '&lt;script src=\"foobar.js\"&gt;&lt;/script&gt;' &gt; index.html</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">firefox index.html</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ol start=\"2\"><li>node 本地执行</li></ol><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">node foobar.js</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"vscode-调试\">VSCode 调试<a class=\"hash-link\" href=\"#vscode-调试\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"tsconfigjson-设置-sourcemap\">tsconfig.json 设置 sourceMap<a class=\"hash-link\" href=\"#tsconfigjson-设置-sourcemap\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\"sourceMap\": true</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">\"outDir\": \"./_dist\"</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>sourceMap：这样才能 debug 映射代码到 ts 的行。</li><li>outDir：可选，可配置成任意喜欢的样子，但下面 program 要对应配置。</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"buildctrl-shift-b-tasksjson\">Build（Ctrl-Shift-B）&amp; tasks.json<a class=\"hash-link\" href=\"#buildctrl-shift-b-tasksjson\" title=\"Direct link to heading\">​</a></h3><ul><li><a href=\"https://go.microsoft.com/fwlink/?LinkId=733558\" target=\"_blank\" rel=\"noopener noreferrer\">下载</a> tasks.json 模板，如下，基本不用修改直接就能用。</li></ul><div class=\"codeBlockContainer_I0IT language-json theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-json codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">// See https://go.microsoft.com/fwlink/?LinkId=733558</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">// for the documentation about the tasks.json format</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token property\" style=\"color:#36acaa\">\"version\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2.0.0\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token property\" style=\"color:#36acaa\">\"tasks\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token property\" style=\"color:#36acaa\">\"type\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"typescript\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token property\" style=\"color:#36acaa\">\"tsconfig\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"tsconfig.json\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token property\" style=\"color:#36acaa\">\"problemMatcher\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token string\" style=\"color:#e3116c\">\"$tsc\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token property\" style=\"color:#36acaa\">\"group\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token property\" style=\"color:#36acaa\">\"kind\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"build\"</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token property\" style=\"color:#36acaa\">\"isDefault\"</span><span class=\"token operator\" style=\"color:#393A34\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\" style=\"color:#36acaa\">true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>然后从 <code>F1 -- Tasks: Build</code> 或 <code>Ctrl-Shift-B</code> 都可以启动 build，生成 js 文件。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"debugf5-launchjson\">Debug（F5）&amp; launch.json<a class=\"hash-link\" href=\"#debugf5-launchjson\" title=\"Direct link to heading\">​</a></h3><ul><li>创建 <code>.vscode/launch.json</code></li><li><code>Add Configuration</code> 按钮，选中 <code>nodejs: Launch Program</code> 添加模板</li><li>修改或添加一些项目，如：<ul><li><code>\"program\": \"${workspaceFolder}/_dist/${fileBasenameNoExtension}.js\",</code></li><li><code>\"preLaunchTask\": \"${defaultBuildTask}\"</code> —— 这样修改了 ts 后 F5 会自动 build</li><li><code>\"console\": \"integratedTerminal\"</code> —— debug 信息打印到 vscode 集成的终端中。</li></ul></li></ul><p>然后就可以在 ts 中加断点，然后 F5 单步调试了。</p><p><img loading=\"lazy\" src=\"/assets/images/launch.json-04d8a6e33c04b7ab70e6e97d83b7ad25.png\" width=\"1280\" height=\"707\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2022/01/14/debug.ts.in.vscode",
            "title": "5 分钟搭建 TypeScript 的 VSCode 调试环境",
            "summary": "搭建基础环境 & 运行 ts/js",
            "date_modified": "2022-01-14T18:29:59.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "typescript",
                "vscode"
            ]
        },
        {
            "id": "/2021/09/19/two.rename",
            "content_html": "<p><img loading=\"lazy\" src=\"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTE3Mi4wNSAyMTAuMzkyYy04LjI4NSAwLTE1LjAwMiA2LjcxNi0xNS4wMDIgMTV2Mi41MTZjLTEwLjM2Ny02Ljc3Ni0yMi43MzYtMTAuNzMyLTM2LjAxOS0xMC43MzItMzYuNDA1IDAtNjYuMDIzIDI5LjYxNC02Ni4wMjMgNjYuMDE2czI5LjYxOCA2Ni4wMTYgNjYuMDIzIDY2LjAxNmMxMy4yODMgMCAyNS42NTItMy45NTYgMzYuMDE5LTEwLjczMnYyLjUxNWMwIDguMjg0IDYuNzE3IDE1IDE1LjAwMiAxNXMxNS4wMDItNi43MTYgMTUuMDAyLTE1di0xMTUuNTk5YzAtOC4yODUtNi43MTctMTUtMTUuMDAyLTE1em0tNTEuMDIxIDEwOC44MTVjLTE5Ljg2MSAwLTM2LjAyLTE2LjE1Ny0zNi4wMi0zNi4wMTZzMTYuMTU5LTM2LjAxNiAzNi4wMi0zNi4wMTYgMzYuMDE5IDE2LjE1NyAzNi4wMTkgMzYuMDE2LTE2LjE1OCAzNi4wMTYtMzYuMDE5IDM2LjAxNnoiLz48cGF0aCBkPSJtMjg0LjA2IDIxMS45OTdjLTE1LjY2NyAwLTMwLjE3IDUuMDQ0LTQyLjAwMiAxMy41NzN2LTU0LjU2YzAtOC4yODQtNi43MTctMTUtMTUuMDAyLTE1cy0xNS4wMDIgNi43MTYtMTUuMDAyIDE1djE2OS45OGMwIDguMjg0IDYuNzE3IDE1IDE1LjAwMiAxNSA3LjgyIDAgMTQuMjM2LTUuOTg1IDE0LjkzMi0xMy42MjIgMTEuODQ1IDguNTU5IDI2LjM3NCAxMy42MjIgNDIuMDcxIDEzLjYyMiAzOS43MDQgMCA3Mi4wMDQtMzIuMjk3IDcyLjAwNC03MS45OTdzLTMyLjMtNzEuOTk2LTcyLjAwMy03MS45OTZ6bTAgMTEzLjk5M2MtMjMuMTYgMC00Mi4wMDItMTguODM5LTQyLjAwMi00MS45OTdzMTguODQyLTQxLjk5NyA0Mi4wMDItNDEuOTk3YzIzLjE1OSAwIDQyLjAwMSAxOC44MzkgNDIuMDAxIDQxLjk5N3MtMTguODQzIDQxLjk5Ny00Mi4wMDEgNDEuOTk3eiIvPjxwYXRoIGQ9Im00NTguODkzIDEwNi4wMWgtNDcuODIzdi0yMS41NTdjMC0xMi4wNDIgOS43OTgtMjEuODM5IDIxLjg0MS0yMS44MzkgOC4yODUgMCAxNS4wMDItNi43MTYgMTUuMDAyLTE1cy02LjcxNy0xNS0xNS4wMDItMTVjLTE0LjM5OCAwLTI3LjQzOSA1LjkwMy0zNi44NDMgMTUuNDExLTkuNDA0LTkuNTA4LTIyLjQ0NS0xNS40MTEtMzYuODQzLTE1LjQxMS04LjI4NSAwLTE1LjAwMiA2LjcxNi0xNS4wMDIgMTVzNi43MTcgMTUgMTUuMDAyIDE1YzEyLjA0MyAwIDIxLjg0MSA5Ljc5NyAyMS44NDEgMjEuODM5djIxLjU1N2gtMzI3Ljk1OWMtMjkuMjg0IDAtNTMuMTA3IDIzLjgyMS01My4xMDcgNTMuMTAxdjE5My43NzhjMCAyOS4yOCAyMy44MjMgNTMuMTAxIDUzLjEwNyA1My4xMDFoMzI3Ljk2djIxLjU1N2MwIDEyLjA0Mi05Ljc5OCAyMS44MzktMjEuODQxIDIxLjgzOS04LjI4NSAwLTE1LjAwMiA2LjcxNi0xNS4wMDIgMTVzNi43MTcgMTUgMTUuMDAyIDE1YzE0LjM5OCAwIDI3LjQzOS01LjkwMyAzNi44NDMtMTUuNDExIDkuNDA0IDkuNTA4IDIyLjQ0NSAxNS40MTEgMzYuODQzIDE1LjQxMSA4LjI4NSAwIDE1LjAwMi02LjcxNiAxNS4wMDItMTVzLTYuNzE3LTE1LTE1LjAwMi0xNWMtMTIuMDQzIDAtMjEuODQxLTkuNzk3LTIxLjg0MS0yMS44Mzl2LTIxLjU1N2g0Ny44MjNjMjkuMjg0IDAgNTMuMTA3LTIzLjgyMSA1My4xMDctNTMuMTAxdi0xOTMuNzc4Yy0uMDAxLTI5LjI4LTIzLjgyNS01My4xMDEtNTMuMTA4LTUzLjEwMXptLTQwNS43ODYgMjY5Ljk4Yy0xMi43MzkgMC0yMy4xMDMtMTAuMzYzLTIzLjEwMy0yMy4xMDF2LTE5My43NzhjMC0xMi43MzggMTAuMzY0LTIzLjEwMSAyMy4xMDMtMjMuMTAxaDMyNy45NnYyMzkuOTh6bTQyOC44OS0yMy4xMDFjMCAxMi43MzgtMTAuMzY0IDIzLjEwMS0yMy4xMDQgMjMuMTAxaC00Ny44MjN2LTIzOS45OGg0Ny44MjNjMTIuNzQgMCAyMy4xMDQgMTAuMzYzIDIzLjEwNCAyMy4xMDF6Ii8+PC9nPjwvc3ZnPg==#size20\" width=\"512\" height=\"512\" class=\"img_E7b_\"></p><p>windows 中有个 rename 命令，linux、macOS 中对应 mv，但其实 linux、macOS 中也有 rename，并且不止一个，语法和入参还不一样，容易让人混淆：</p><ol><li>perl rename：</li><li>util-linux rename:</li></ol><table><thead><tr><th></th><th>perl rename</th><th>util-linux rename</th></tr></thead><tbody><tr><td>安装 in ubuntu</td><td>默认都有</td><td><code>apt i util-linux</code></td></tr><tr><td>安装 in macOS</td><td><code>brew i rename</code></td><td></td></tr><tr><td>安装 in Alpine</td><td></td><td><code>apk add util-linux</code></td></tr><tr><td>man 手册</td><td><a href=\"https://manpages.debian.org/stretch/rename/file-rename.1p.en.html\" target=\"_blank\" rel=\"noopener noreferrer\">man1</a></td><td><a href=\"https://manpages.debian.org/stretch/util-linux/rename.ul.1.en.html\" target=\"_blank\" rel=\"noopener noreferrer\">man2</a></td></tr><tr><td>用法</td><td><code>rename perlexpr [ files ]</code></td><td><code>rename expression replacement file...</code></td></tr><tr><td>foo.md -&gt; bar.md</td><td><code>rename 's/foo/bar/' *.md</code></td><td><code>rename foo bar *.md</code></td></tr><tr><td>foo<em>.md -&gt; foo0</em>.md</td><td><code>rename 's/foo/foo0/' foo*.md</code></td><td><code>rename foo foo0 foo*.md</code></td></tr><tr><td><em>.css -&gt; </em>.scss</td><td><code>rename 's/.css$/.css$/' *.css</code></td><td><code>rename .css .scss *.css</code></td></tr></tbody></table><p>所以，我以前有一个脚本中的命令：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">rename \"s/.html/-${theme}.html/\" *.html</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>就可能不再通用，修改为：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">for old in *.html; do</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    new=$(echo $old | sed -e \"s/.html/-${theme}.html/\")</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    mv $old $new</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">done</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div>",
            "url": "https://wkevin.github.io/blog/2021/09/19/two.rename",
            "title": "两个 rename",
            "summary": " ",
            "date_modified": "2021-09-19T15:52:51.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "rename"
            ]
        },
        {
            "id": "/2021/09/14/git.rm.cached.submodule",
            "content_html": "<p>发现若干 submodule 处于修改状态，想清理到初始状态。</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git st</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">...</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Changes not staged for commit:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  (use \"git add &lt;file&gt;...\" to update what will be committed)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  (commit or discard the untracked or modified content in submodules)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    modified:   AI/ML-DL/100-Days-Of-ML-Code/100-Days-Of-ML-Code (new commits)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    modified:   AI/ML-DL/Andrew.Ng/machine-learning-yearning (new commits)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    modified:   AI/challenge/kaggle/cifar-10/CIFAR10_mxnet (modified content)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    modified:   AI/challenge/kaggle/cifar-10/cifar10-gluon (modified content)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    modified:   AI/challenge/kaggle/cifar-10/densenet.pytorch (modified content)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>执行下面 4 类操作都都无法清理。</p><ol><li><code>git submodule update</code></li><li><code>git submodule update --init</code></li><li><code>git submodule foreach --recursive git reset --hard HEAD</code></li><li><code>git submodule foreach --recursive git clean -f</code></li></ol><p>执行 <code>git submodule status</code> 时发现某个 submodule 报错：</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule status</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">......</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fatal: no submodule mapping found in .gitmodules for path 'AI/challenge/kaggle/dog-breed-identification/DogBreed_gluon'</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>该 submodule 在 .gitmodules 中找不到了，所以阻塞了前面的 update、foreach 操作。</p><p>大概率是该 submodule 已经 <code>git submodule add</code> 了，但 .gitmodules 文件被异常编辑了，但执行 <code>git submodule add</code> 会直接进入 cache 区，所以普通的删除还不行，只好：</p><div class=\"codeBlockContainer_I0IT language-sh theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-sh codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">git rm --cached 'AI/challenge/kaggle/dog-breed-identification/DogBreed_gluon'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">rm 'AI/challenge/kaggle/dog-breed-identification/DogBreed_gluon'</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>再执行前面的 1~4 步骤，正常清理。</p>",
            "url": "https://wkevin.github.io/blog/2021/09/14/git.rm.cached.submodule",
            "title": "令人头疼的 git submodule",
            "summary": " ",
            "date_modified": "2021-09-14T18:17:10.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "git"
            ]
        },
        {
            "id": "/2021/08/21/ubuntu.uefi.net.install",
            "content_html": "<p>本文描述了如何用一台 Linux 做 Server，通过一根网线为另一台电脑（Client）安装 Linux（Ubunt），时序图可以完整的展示每个步骤操作的环境、顺序、关键点。</p><p><img loading=\"lazy\" src=\"/assets/images/net.install-6cb958f56f5d8d5ff8a1c2abd563c564.svg\" width=\"1217\" height=\"2862\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-0\">注 0<a class=\"hash-link\" href=\"#注-0\" title=\"Direct link to heading\">​</a></h3><p>之所以使用 /srv/tftp，因为 grub 推荐 grub-mknetdir 命令来创建网络启动 grub：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">grub-mknetdir --net-directory=/srv/tftp --subdir=/boot/grub -d /usr/lib/grub/i386-pc</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>参考：<a href=\"https://www.gnu.org/software/grub/manual/grub/grub.html#Network\" target=\"_blank\" rel=\"noopener noreferrer\">8 Booting GRUB from the network</a></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-1\">注 1<a class=\"hash-link\" href=\"#注-1\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">interface=\\* # 有些文档说写网卡名，如 enp4s0，但有些文档说无效，我实测不行</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">bind-interfaces</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dhcp-range=192.168.0.100,192.168.0.200,12h</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># BIOS(Legacy) 方式从 pxelinux.0 开始</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># dhcp-boot=pxelinux.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># UEFI 方式从 bootx64.efi klui</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dhcp-match=set:efi-x86_64,option:client-arch,7</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dhcp-boot=tag:efi-x86_64,bootx64.efi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 使能 tftp，并配置根路径</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">enable-tftp</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">tftp-root=/srv/tftp</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-2\">注 2<a class=\"hash-link\" href=\"#注-2\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dpkg-deb --fsys-tarfile grub-efi-amd64-signed*deb | tar x ./usr/lib/grub/x86_64-efi-signed/grubnetx64.efi.signed -O &gt; grubx64.efi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dpkg-deb --fsys-tarfile shim-signed*deb | tar x ./usr/lib/shim/shimx64.efi.signed -O &gt; bootx64.efi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dpkg-deb --fsys-tarfile grub-common\\*deb | tar x ./usr/share/grub/unicode.pf2 -O &gt; unicode.pf2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo mv grubx64.efi bootx64.efi unicode.pf2 /srv/tftp/</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-3---配置-grub\">注 3 - 配置 grub<a class=\"hash-link\" href=\"#注-3---配置-grub\" title=\"Direct link to heading\">​</a></h3><ul><li><a href=\"https://www.gnu.org/software/grub/manual/grub/\" target=\"_blank\" rel=\"noopener noreferrer\">grub2 doc</a><ul><li>16.3 The list of command-line and menu entry commands 章节有完整的命令列表</li></ul></li></ul><p>配置中最关键的是这几行:</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">menuentry ... {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">gfxpayload=keep</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">linux /vmlinuz</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">initrd /initrd</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>menuentry 是菜单选择</li><li>可以接受的命令有几十个，包括:<ul><li><code>gfxpayload=keep</code> video mode，替代以前 32 位 x86 中的 <code>vga=...</code></li><li><code>linux kernel-image args...</code> load kernel, args 会传递给 kernel</li></ul></li></ul><p><strong>最佳实践：</strong></p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set default=\"0\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set timeout=-1</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if loadfont unicode ; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set gfxmode=auto</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set locale_dir=$prefix/locale</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set lang=en_US</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">terminal_output gfxterm</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set menu_color_normal=white/black</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set menu_color_highlight=black/light-gray</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if background_color 44,0,30; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">clear</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">function gfxmode {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set gfxpayload=\"${1}\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        if [ \"${1}\" = \"keep\" ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set vt_handoff=vt.handoff=7</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">else</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set vt_handoff=</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">set linux_gfx_mode=keep</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">export linux_gfx_mode</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">menuentry 'nfs by iso-casper kernel' {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        gfxmode $linux_gfx_mode</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        linux /ubuntu/20.04/casper/vmlinuz boot=casper only-ubiquity local-zh_CN splash audit=0 ip=dhcp netboot=nfs nfsroot=192.168.0.11:/var/lib/tftp/ubuntu/20.04 rw</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        initrd /ubuntu/20.04/casper/initrd</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">menuentry 'http by netboot kernel' {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        gfxmode $linux_gfx_mode</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        linux /netboot/ubuntu-installer/amd64/linux</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        initrd /netboot/ubuntu-installer/amd64/initrd.gz</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-4\">注 4<a class=\"hash-link\" href=\"#注-4\" title=\"Direct link to heading\">​</a></h3><p>Syslinux 是一个 Project，包含以下 bootloader：</p><ol><li>SYSLINUX, for MS-DOS FAT filesystems</li><li>PXELINUX, for network booting</li><li>ISOLINUX, for bootable \"El Torito\" CD-ROMs</li><li>EXTLINUX, for Linux ext2/ext3/ext4 or btrfs filesystems</li><li>MEMDISK, for legacy operating systems (such as DOS) from nontraditional media</li></ol><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-5---配置-pxelinux0\">注 5 - 配置 pxelinux.0<a class=\"hash-link\" href=\"#注-5---配置-pxelinux0\" title=\"Direct link to heading\">​</a></h3><p>这里可以控制 pxelinux 从多个地方加载安装包。</p><p><strong>最佳实践：</strong></p><ul><li><strong>从网络直接下载 ISO</strong></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">DEFAULT install</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">LABEL install</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">KERNEL vmlinuz</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">INITRD initrd</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">APPEND root=/dev/ram0 ramdisk_size=1500000 ip=dhcp url=http://...iso</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li><strong>从 nfs server 下载</strong></li></ul><ol><li>当 vmlinuz（压缩版）、initrd 从 ISO/casper 中提取时：</li></ol><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kernel ubuntu/18.04/casper/vmlinuz</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">append vga=788 boot=casper netboot=nfs nfsroot=192.168.1.10:/srv/tftp/ubuntu/18.04 initrd=ubuntu/18.04/casper/initrd --- quiet splash</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ol start=\"2\"><li>当 linux（未压缩）、initrd.gz（压缩）从 <a href=\"http://mirrors.zte.com.cn/ubuntu/dists/%5Bxenial%7Cbionic%7Cfocal%5D/main/installer-%5Bamd64%7Ci386%5D/current/images/netboot/netboot.tar.gz\" target=\"_blank\" rel=\"noopener noreferrer\">netboot</a> 中提取：</li></ol><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kernel netboot/ubuntu-installer/amd64/linux</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">append vga=788 netboot=nfs nfsroot=192.168.1.10:/srv/tftp/ubuntu initrd=netboot/ubuntu-installer/amd64/initrd.gz --- quiet</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>其中：</p><ul><li>必要时请执行 <code>sudo ln -s /mnt/ /srv/tftp/ubuntu</code></li><li><strong>splash</strong> ：表示 loading 屏幕是否显示，禁用的话 loading 时一片空白</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-6\">注 6<a class=\"hash-link\" href=\"#注-6\" title=\"Direct link to heading\">​</a></h3><p>由于 pxelinux 对扩展显卡支持不完备：</p><ol><li>使用集成显卡，扩展显卡会异常黑屏、蓝屏、粉屏……</li><li>使用小尺寸的显示器，pxelinux 大显示器支持不完备（字体、图标过大……）</li></ol><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注-7\">注 7<a class=\"hash-link\" href=\"#注-7\" title=\"Direct link to heading\">​</a></h3><ul><li>安装完毕后，网卡不能使用<ul><li>NetworkManager 中找不到网卡<ul><li>原因：NetworkManager 没有使能</li><li>解决<ul><li><code>sudo vi /tc/NetworkManager/NetworkManager.conf</code> 增加 <code>managed=true</code> —— 使能 NM</li><li><code>sudo service NetworkManager stop</code></li><li><code>sudo rm /var/lib/NetworkManager/NetworkManager.state</code></li><li><code>sudo service NetworkManager start</code></li></ul></li></ul></li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2021/08/21/ubuntu.uefi.net.install",
            "title": "更完整的 Ubuntu 网络安装图解版",
            "summary": " ",
            "date_modified": "2021-08-21T16:10:22.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "ubuntu",
                "netboot",
                "uefi",
                "legacy",
                "bios"
            ]
        },
        {
            "id": "/2021/05/19/py.go.js.ruby",
            "content_html": "<p>近些年学习的这几门语言，比早年吃饭的 C 语言多出了很多额外功能，做个表格对比之。</p><table><thead><tr><th>item</th><th>go</th><th>python</th><th>js/ts</th><th>rust</th></tr></thead><tbody><tr><td>version</td><td>go version</td><td>python --version</td><td>node --version</td><td></td></tr><tr><td>build</td><td>go build</td><td>python -m x.py</td><td>npm run ...</td><td></td></tr><tr><td>run</td><td>go run <!-- -->[x.go]</td><td>python x.py</td><td>npm run ... ; node x.js</td><td></td></tr><tr><td>版本管理工具</td><td></td><td>pyenv <!-- -->[shell,local,global]</td><td>n 或 nvm <!-- -->[use]</td><td></td></tr><tr><td>环境隔离</td><td>VenGo</td><td>python -m venv</td><td>npm i -<!-- -->[S,D]</td><td></td></tr><tr><td>第三方包管理</td><td>--</td><td>pip</td><td>npm,yarn</td><td>cargo</td></tr><tr><td>version</td><td></td><td>pip -V</td><td>npm,yarn version</td><td>cargo -V</td></tr><tr><td>子命令</td><td></td><td></td><td></td><td>cargo list, cargo --list</td></tr><tr><td><strong>config</strong></td><td></td><td></td><td></td><td></td></tr><tr><td>查看 all config</td><td>go env</td><td>pip config list</td><td>npm/yarn config list <!-- -->[-a]</td><td><code>vi ~/.cargo/config</code></td></tr><tr><td>查看 one config</td><td>ge env key</td><td>pip config get key</td><td>npm/yarn config get key</td><td></td></tr><tr><td>配置 one config</td><td>go env -w key=value</td><td>pip config set key value</td><td>npm/yarn config set key value</td><td></td></tr><tr><td>prefix(安装路径)：查看/配置</td><td></td><td>pip -V</td><td>npm/yarn config get,set prefix</td><td></td></tr><tr><td>Proxy: shell 环境变量</td><td>Yes（基于 git）</td><td>使用 <code>http[s]_proxy</code>，不使用 <code>no_proxy</code></td><td>使用 <code>http[s]_proxy</code>，不使用 <code>no_proxy</code></td><td>Yes</td></tr><tr><td>Proxy: 自身变量-配置文件</td><td>无</td><td><code>pip config set proxy ...</code></td><td><code>npm config set proxy/noproxy ...</code></td><td></td></tr><tr><td>Proxy: 自身变量-CLI 参数</td><td>无</td><td><code>pip --proxy=... install ...</code></td><td><code>npm i xxx --no-proxy</code></td><td></td></tr><tr><td>registry：查看/配置</td><td>go env <!-- -->[-w]<!-- --> GOPROXY=...</td><td>pip config set global.index-url ...</td><td>npm/yarn config get,set registry ...</td><td></td></tr><tr><td>registry：官方</td><td><code>https://proxy.golang.org</code></td><td>pypi.io</td><td><code>https://registry.npmjs.org</code></td><td><a href=\"https://github.com/rust-lang/crates.io-index\" target=\"_blank\" rel=\"noopener noreferrer\">crates-io</a></td></tr><tr><td>registry：清华(tuna)</td><td></td><td><code>https://pypi.tuna.tsinghua.edu.cn/simple</code></td><td></td><td></td></tr><tr><td>registry：中科大</td><td></td><td></td><td></td><td></td></tr><tr><td>registry：阿里</td><td></td><td><code>https://mirrors.aliyun.com/pypi/simple</code></td><td><code>https://registry.npm.taobao.org</code></td><td></td></tr><tr><td>registry：七牛</td><td><code>https://goproxy.cn</code></td><td></td><td></td><td></td></tr><tr><td><strong>包(pkg) Vs. 模块(mod)</strong></td><td><strong>module 包含多个 package</strong></td><td><strong>package 包含多个 module</strong></td><td></td><td></td></tr><tr><td><strong>模块</strong></td><td>推荐 git 库作为一个 mod</td><td>每个 .py 文件就是一个 module</td><td></td><td></td></tr><tr><td>模块-import</td><td>无</td><td><code>import &lt;module&gt;</code></td><td></td><td></td></tr><tr><td>模块-创建</td><td>go mod init <!-- -->[name]</td><td></td><td></td><td></td></tr><tr><td>模块-描述文件</td><td>go.mod, go.sum</td><td></td><td></td><td></td></tr><tr><td>模块-安装指定模块</td><td>go get <!-- -->[mod@info]</td><td></td><td>npm install <!-- -->[-g][xxx]<!-- -->, yarn add <!-- -->[-g][xxx]</td><td></td></tr><tr><td>模块-从文件安装模块</td><td>go mod download</td><td></td><td>npm install, yarn add</td><td></td></tr><tr><td>模块-查看已安装的依赖模块</td><td>go mod graph</td><td></td><td>npm list <!-- -->[-g -depth]<!-- -->, yarn list</td><td></td></tr><tr><td>模块-安装路径</td><td>go mod vendor #导出到 vendor</td><td></td><td>集中存放在 node-modules 或 <!-- -->[-g]<!-- --> 到全局</td><td></td></tr><tr><td>模块-删除</td><td>go mod tidy</td><td></td><td>npm uninstall xxx, yarn remove xxx</td><td></td></tr><tr><td>模块-更新</td><td></td><td></td><td>npm update, yarn upgrade</td><td></td></tr><tr><td><strong>包</strong></td><td><code>package xxx</code> 相同的组成一个 pkg</td><td>setup.py/cfg 声明一个 pkg</td><td></td><td></td></tr><tr><td>包-import</td><td><code>import &lt;mod&gt;/path/&lt;pkg&gt;</code></td><td><code>import &lt;pkg&gt;</code></td><td></td><td></td></tr><tr><td>包-安装(指定包名)</td><td>go get <!-- -->[pkg@info]</td><td>pip install pkg==ver // sudo 安装到系统</td><td></td><td><code>cargo install &lt;pkg&gt;</code></td></tr><tr><td>包-安装(指定文件)</td><td></td><td>pip install -r requirements.txt</td><td></td><td></td></tr><tr><td>包-安装(从源码)</td><td></td><td>pip install ., python setup.py install</td><td></td><td></td></tr><tr><td>包-安装(开发模式)</td><td></td><td>pip insttall -e</td><td></td><td></td></tr><tr><td>包-查看已安装包</td><td></td><td>pip list</td><td></td><td>cargo tree</td></tr><tr><td>包-导出已安装包</td><td></td><td>pip freeze</td><td></td><td></td></tr><tr><td>包-删除</td><td></td><td>pip uninstall xxx</td><td></td><td></td></tr><tr><td>包-更新</td><td>go get -u</td><td>pip install -U xxx</td><td></td><td></td></tr><tr><td><strong>源码</strong></td><td></td><td></td><td></td><td></td></tr><tr><td>源码-查看源码中定义的包</td><td>go list ./...</td><td></td><td></td><td></td></tr></tbody></table>",
            "url": "https://wkevin.github.io/blog/2021/05/19/py.go.js.ruby",
            "title": "python、go、nodejs、rust 命令对比",
            "summary": " ",
            "date_modified": "2021-05-19T16:35:15.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "python",
                "nodejs",
                "go",
                "rust"
            ]
        },
        {
            "id": "/2021/04/14/git.cmd.history",
            "content_html": "<p>对 git 的源码进行了一些分析，统计 Documentation/ 文件夹下的 git-xxx 命名的文件（即 git 命令的帮助文件）出现的版本号（tag），可以看出其生命周期，有些只出现一个版本就消亡掉了（<code>git upload-tar</code>），有些很晚才出现（<code>git switch</code>）</p><p>其中，由于 v2.6 ～ v2.17 几乎没有变化，省略。</p><p><img loading=\"lazy\" src=\"/assets/images/git-cmd-history-a8009dc9f051a13963dcaee77a628e6e.png\" width=\"1680\" height=\"5026\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2021/04/14/git.cmd.history",
            "title": "git 命令演进历史",
            "summary": " ",
            "date_modified": "2021-04-14T19:18:38.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "git"
            ]
        },
        {
            "id": "/2021/02/10/python.elative.import",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/python.relative.import-d2889657c2314f2e2538ace4f675b07f.svg\" width=\"1091\" height=\"408\" class=\"img_E7b_\"></p><p>一图解释 Python 相对引用的 import</p><p>知识点：</p><ul><li>python 中有包（package）和模块（module）<ul><li>包有 2 种：<ul><li>普通包（一直以来都有的）：即包含 <code>__init__.py</code> 文件的文件夹</li><li>命名空间包（python3.2 才加入的）：不需要 <code>__init__.py</code> 的文件夹</li></ul></li><li>模块：即一个 .py 文件</li></ul></li><li>python 文件有 2 种执行模式：顶层脚本、模块（细分为：顶层模块、非顶层模块）<ul><li><code>python foo/bar.py</code> 方式执行时，bar.py 即顶层脚本。</li><li><code>python -m foo.bar</code> 执行，bar 为顶层模块。</li><li>无论何处被 <code>import</code> 导入并执行的，是非顶层模块运行。</li></ul></li><li><code>__name__</code> 用于区分作用域<ul><li>当以顶层脚本或顶层模块运行时 <code>__name__</code> 的值是 <code>__main__</code></li><li>当以非顶层模块运行时 <code>__name__</code> 是命名空间（namespace）</li><li>所以可以通过检查自己的 <code>__name__</code> 来得知是否运行在 main 作用域中（顶层脚本，或顶层模块）</li></ul></li><li><code>__package__</code> :当以模块运行时，<code>__package__</code> 才会有值<ul><li>当模块是包时，其 <code>__package__</code> 值应该设为其 <code>__name__</code> 值</li><li>当模块不是包时，对于最高层级模块 <code>__package__</code> 应该设为空字符串，对于子模块则应该设为其父包名</li></ul></li></ul><p><strong>import 相对路径是根据 <code>__package__</code> 来计算的：</strong></p><ul><li><code>python main.py</code> 时，<code>__package__</code> 为 None，相对导入失败</li><li><code>python -m main</code> 时，<code>__package__</code> 为空，相对导入失败</li><li><code>python -m foo.main</code> 时，<code>__package__</code> 为 foo，相对导入 <code>.bar</code> 成功，<code>..hello</code> 失败</li><li><code>python -m root.foo.main</code> 时，<code>__package__</code> 为 root.foo，<code>..hello</code> 成功</li></ul>",
            "url": "https://wkevin.github.io/blog/2021/02/10/python.elative.import",
            "title": "Python 相对引用导入",
            "summary": " ",
            "date_modified": "2021-02-10T15:17:16.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "python",
                "import"
            ]
        },
        {
            "id": "/2021/01/17/python.asyncio",
            "content_html": "<p>asyncio 是 python 力推多年的携程库，与其 线程库 相得益彰，更轻量，并且协程可以访问同一进程中的变量，不需要进程间通信来传递数据，所以使用起来非常顺手。</p><p>asyncio 官方文档写的非常简练和有效，半小时内可以学习和测试完，下面为我的一段 HelloWrold，感觉可以更快速的帮你认识 <strong>协程</strong>。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"定义协程\">定义协程<a class=\"hash-link\" href=\"#定义协程\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT language-python theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">import</span><span class=\"token plain\"> asyncio</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">import</span><span class=\"token plain\"> time</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">delay</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> what</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">sleep</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">delay</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">what</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>async 关键字用来声明一个协程函数，这种函数不能直接调用，会抛出异常。正确的调用姿势有：</p><ol><li><code>await 协程()</code></li><li><code>await asyncio.gather(协程1()， 协程2())</code></li><li><code>await asyncio.waite([协程1()， 协程2()])</code></li><li><code>asyncio.create_task(协程())</code></li></ol><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"await-阻塞式调用协程\">await 阻塞式调用协程<a class=\"hash-link\" href=\"#await-阻塞式调用协程\" title=\"Direct link to heading\">​</a></h2><p>先来测试前 3 种 await 的方式：</p><div class=\"codeBlockContainer_I0IT language-python theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main1</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 直接 await，顺序执行</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"1s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main2</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 使用 gather，并发执行</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">gather</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"1s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main3</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 使用 wait，简单等待</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 3.8 版后已废弃: 如果 aws 中的某个可等待对象为协程，它将自动作为任务加入日程。直接向 wait() 传入协程对象已弃用，因为这会导致 令人迷惑的行为。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 3.10 版后移除</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">wait</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"1s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>python 规定： 调用协程可以用 await，但 await 必须在另一个协程中 —— 这不死循环了？不会的，asyncio 提供了多个能够最初调用协程的入口：</p><ol><li><code>asyncio.get_event_loop().run_until_complete(协程)</code> ： 这种方式背后使用了 asyncio 底层的对象：线程池 loop，loop 可以反复利用。</li><li><code>asyncio.run(协程)</code>：run 函数是 python 3.7 后新增的，是对 loop 的封装，但每次会对 loop.close()，所以反复使用会性能受影响，文档里也说适合做总入口。</li></ol><p>封装一个计算时间的函数，然后把 2 种方式都试一下：</p><div class=\"codeBlockContainer_I0IT language-python theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">entry</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> func</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"-\"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">*</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">10</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">+</span><span class=\"token plain\"> func</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">__name__</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    start </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> time</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">perf_counter</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    entry</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">func</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"=\"</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">*</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">10</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"{:.5f}\"</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">time</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">perf_counter</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">-</span><span class=\"token plain\"> start</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"########### 用 loop 入口协程 ###########\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">loop </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">get_event_loop</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">loop</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run_until_complete</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">loop</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run_until_complete</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">loop</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run_until_complete</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main3</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">loop</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">close</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"########### 用 run 入口协程 ###########\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main3</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>运行结果：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token comment\" style=\"color:#999988;font-style:italic\">########### 用 loop 入口协程 ###########</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main1</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">3.00923</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">2.00600</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">2.00612</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\">########### 用 run 入口协程 ###########</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main1</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">3.01193</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">2.00681</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">2.00592</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>可见，2 种协程入口调用方式差别不大</p><p>下面，需要明确 2 个问题：</p><ol><li><strong>协程间的并发问题</strong>：除了 main1 耗时 3s 外，其他都是 2s，说明 main1 方式串行执行 2 个协程，其他是并发执行协程。</li><li><strong>协程是否阻塞父协程/父进程的问题</strong>：上述测试都使用了 await，即等待协程执行完毕后再继续往下走，所以都是阻塞式的，主进程都在此等待协程的执行完。—— 那么如何才能不阻塞父协程呢？ 不加 await 行么？ —— 上面 3 种方式都不行！</li></ol><p>下面介绍可以不阻塞主协程的方式。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"task-实现更灵活的协程\">task 实现更灵活的协程<a class=\"hash-link\" href=\"#task-实现更灵活的协程\" title=\"Direct link to heading\">​</a></h2><p>一切都在代码中：</p><div class=\"codeBlockContainer_I0IT language-python theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 验证 task 启动协程是立即执行的</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main4</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># create_task() Python 3.7 中被加入</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    task1 </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">create_task</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    task2 </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">create_task</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"1s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 创建任务后会立即开始执行，后续可以用 await 来等待其完成后再继续，也可以被 cancle</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> task1  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 等待 task1 执行完，其实返回时 2 个task 都已经执行完</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"--\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 最后才会被打印，因为 2 个task 都已经执行完</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> task2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 这里是等待所有 task 结束才继续运行。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 验证父协程与子协程的关闭关系</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main5</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    task1 </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">create_task</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"2s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    task2 </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">create_task</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">say_after</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"1s\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 如果不等待，函数会直接 return，main5 协程结束，task1/2 子协程也结束，所以看不到打印</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 此处等待 1s，则会只看到 1 个，等待 &gt;2s，则会看到 2 个 task 的打印</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">sleep</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># python3.8 后 python 为 asyncio 的 task 增加了很多功能：</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># get/set name、获取正在运行的 task、cancel 功能</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 验证 task 的 cancel() 功能</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">t</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 定义一个可处理 CancelledError 的协程</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"cancel_me(): before sleep\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">try</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">sleep</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">t</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">except</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">CancelledError</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"cancel_me(): cancel sleep\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">raise</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">finally</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"cancel_me(): after sleep\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">return</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"I hate be canceled\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">main6</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">async</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">def</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">test</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">t1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> t2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        task </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">create_task</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">t1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">sleep</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">t2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        task</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">cancel</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 会在 task 内引发一个 CancelledError</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">try</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> task</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">except</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">CancelledError</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"main(): cancel_me is cancelled now\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">try</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">task</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:#00009f\">except</span><span class=\"token plain\"> asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">CancelledError</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:#00009f\">print</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token string\" style=\"color:#e3116c\">\"main(): cancel_me is cancelled now\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># 让其运行2s，但在1s时 cancel 它</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> test</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># await 和 result 时都会引发 CancelledError</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">await</span><span class=\"token plain\"> test</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:#999988;font-style:italic\"># await 和 result 时不会引发，并且 result 会得到函数的返回值</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main4</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main5</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">runtime</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">asyncio</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">run</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> main6</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>运行结果：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main4</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">--</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">2.00557</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main5</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">1s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2s</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">3.00160</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">----------main6</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: before </span><span class=\"token function\" style=\"color:#d73a49\">sleep</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: cancel </span><span class=\"token function\" style=\"color:#d73a49\">sleep</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: after </span><span class=\"token function\" style=\"color:#d73a49\">sleep</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">main</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: cancel_me is cancelled now</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">main</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: cancel_me is cancelled now</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: before </span><span class=\"token function\" style=\"color:#d73a49\">sleep</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cancel_me</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">: after </span><span class=\"token function\" style=\"color:#d73a49\">sleep</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">I hate be canceled</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token number\" style=\"color:#36acaa\">3.00924</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"技术总结\">技术总结<a class=\"hash-link\" href=\"#技术总结\" title=\"Direct link to heading\">​</a></h2><p>细节都在注释里直接描述了，总结一下：</p><ul><li>await 会阻塞主协程，等待子协程完成</li><li><code>await asyncio.gather/wait()</code> 可以实现多个子协程的并发执行</li><li>await 本身要在协程中执行，即在父协程中执行</li><li><code>asyncio.get_event_loop().run_until_complete()</code> 和 <code>asyncio.run()</code> 可作为最初的协程开始入口</li><li>task 是最新、最推荐的协程方式，可以完成阻塞、非阻塞，<ul><li><code>task = asyncio.create_task(协程)</code> 后直接开始执行了，并不会等待其他指令</li><li><code>await task</code> 是阻塞式，等待 task 执行结束</li><li>不 await，非阻塞，但要此时父协程不能退出，否则 task 作为子协程也被退出</li><li>task 可 <code>cancel()</code> 取消功能，可 <code>result()</code> 获取子协程的返回值</li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2021/01/17/python.asyncio",
            "title": "python asyncio 协程库一页纸说明",
            "summary": " ",
            "date_modified": "2021-01-17T18:45:38.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "python",
                "asyncio"
            ]
        },
        {
            "id": "/2021/01/03/python.relevate.import",
            "content_html": "<p>有这样的目录和文件：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">foo</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">├── bar</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│&nbsp;&nbsp; └── main.py</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">├── img</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">│&nbsp;&nbsp; └── benz.png</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">└── utils</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    └── tool.py</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>我们来考察 3 个变量的值：</p><table><thead><tr><th>where</th><th>command</th><th><code>__name__</code></th><th>sys.path<!-- -->[0]</th><th>os.getcwd()</th></tr></thead><tbody><tr><td>in foo/</td><td>python bar/main.py</td><td><code>__main__</code></td><td><code>/***/foo/bar</code></td><td><code>/***/foo</code></td></tr><tr><td>in foo/</td><td>python -m bar.main.py</td><td>bar.main</td><td><code>/***/foo</code></td><td><code>/***/foo</code></td></tr><tr><td>in foo/bar</td><td>python main.py</td><td><code>__main__</code></td><td><code>/***/foo/bar</code></td><td><code>/***/foo/bar</code></td></tr><tr><td>in foo/bar</td><td>python -m main.py</td><td>main</td><td><code>/***/foo/bar</code></td><td><code>/***/foo/bar</code></td></tr></tbody></table><ul><li><code>__name__</code> 与执行方式有关：顶层脚本为 <code>__main__</code>，<code>-m</code>或从其他 py 文件 import 时是模块名</li><li><code>__file__</code> 仅与 py 文件有关，永远是 <code>/***/foo/bar/main.py</code>，所以就不写入上表了。</li><li><code>sys.path</code> 系统自动控制，用户可以添加，其中 <code>sys.path[0]</code> 为顶层脚本文件的目录或模块执行时的 cwd</li><li><code>os.getcwd()</code> 仅与执行命令时 where 相关</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"import-module-涉及-2-个变量\">import module 涉及 2 个变量<a class=\"hash-link\" href=\"#import-module-涉及-2-个变量\" title=\"Direct link to heading\">​</a></h3><ul><li>sys.path：module 前没有点(<code>.</code>)，则在 sys.path 中寻找，所以必要时 sys.path.append() 添加进去</li><li><code>__name__</code>：module 的相对引用（如： <code>from ..foo import bar</code>）时需要能够在 <code>__name__</code> 中找到对应个数的点(.)，所以只有用 -m 或从其他文件 import 时（即：<code>__name__ != \"__main__\"</code>）才行得通。</li></ul><p>常令人困惑的一点还有：VScode 中的 terminal 你 cd 到合适的目录下，但 F5 debug 时 VSCode 会重新 cd 到其他目录，所以你会得到不一样的结果。</p><p>所以，如果需要在 main.py 中使用 utils/main.py 中的 object，为了满足 VSCode 中 F5、Terminal 中手动 cd 并执行、及未来被 import 的三种情况，我用这样一段代码来兼容：</p><div class=\"codeBlockContainer_I0IT language-python theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">pwdpath </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> os</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">split</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">os</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">realpath</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">__file__</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">0</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">if</span><span class=\"token plain\"> __name__ </span><span class=\"token operator\" style=\"color:#393A34\">==</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"__main__\"</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    sys</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">append</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">os</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">realpath</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">pwdpath </span><span class=\"token operator\" style=\"color:#393A34\">+</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#e3116c\">\"/../\"</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">from</span><span class=\"token plain\"> utils</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">tool </span><span class=\"token keyword\" style=\"color:#00009f\">import</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">*</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#00009f\">else</span><span class=\"token punctuation\" style=\"color:#393A34\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#00009f\">from</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">util</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token plain\">tool </span><span class=\"token keyword\" style=\"color:#00009f\">import</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">*</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"file-相对路径涉及-1-个变量\">file 相对路径涉及 1 个变量<a class=\"hash-link\" href=\"#file-相对路径涉及-1-个变量\" title=\"Direct link to heading\">​</a></h3><p>如 cv2.imread(file) 中的 file 文件路径，可用绝对和相对，使用相对路径时，相对的 root 涉及：</p><ul><li>os.getcwd()：以此为当前目录做基础，找绝对和相对路径，可以用 os.chdir() 来修改，注意 terminal 和 vscode 执行结果不同</li></ul><p>同样，VSCode 中 F5 和 Terminal 中的路径不同，导致 file 的根基不同，相对引用变的非常麻烦，比如： 如果在 main.py 中找到 benz.png</p><ul><li><code>cv2.imread('../img/benz.png')</code>: 在 Terminal 中进入 bar 目录下执行 OK，在 Terminal 中进入 foo 目录或 VSCode 打开 foo 目录时 NG。</li></ul><p>解决办法有：</p><ol><li><code>os.chdir(sys.path[0])</code> 修改当前路径，但 path<!-- -->[0]<!-- --> 仅在顶层脚本中能够如您所想（即：当前文件的路径），但在模块方式时也会败下阵来。</li><li>使用绝对路径： <code>cv2.imread(os.path.realpath( os.path.join( os.path.split( os.path.realpath(__file__) )[0], '../img/benz.png' )))</code> —— 用当前文件的根目录加相对路径，拼出相对路径再换成绝对路径 —— 确实是完美了，但这么变态的代码谁会用呢？</li></ol><p>但其实也不要太纠结，因为 module 或 library 中是不允许出现 file 的，这些应该是留给用户的工作，module 中应该只有算法和机制的实现，所以看开点吧。</p>",
            "url": "https://wkevin.github.io/blog/2021/01/03/python.relevate.import",
            "title": "Python 中 import 引入和 file 寻找的绝对和相对路径",
            "summary": " ",
            "date_modified": "2021-01-03T12:06:47.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "python"
            ]
        },
        {
            "id": "/2020/12/17/git.is.a.monster",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/git-afadc5df56e8c3c7cd913268a933bd47.svg\" width=\"687\" height=\"761\" class=\"img_E7b_\"></p><p>有解决办法么？—— 有一些：如果只是 <code>git add</code>，没有 <code>git commit</code>，可以用 gc 回收。</p><p><code>git fsck --unreachable</code> 可以查看哪些 object 已经不在使用：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ </span><span class=\"token function\" style=\"color:#d73a49\">git</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#d73a49\">fsck</span><span class=\"token plain\"> --unreachable</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">notice: HEAD points to an unborn branch </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">master</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Checking object directories: </span><span class=\"token number\" style=\"color:#36acaa\">100</span><span class=\"token plain\">% </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">256</span><span class=\"token plain\">/256</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">, done.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Checking objects: </span><span class=\"token number\" style=\"color:#36acaa\">100</span><span class=\"token plain\">% </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\">/1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">, done.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">notice: No default references</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob e27718b554b78f3a85c36ddf4a60e596bac4e726</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 23c6ba2171700d3f29cf10eb748b8485263518d3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 24a51e4d7effea055a9c949aee3feeab795737f5</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 6583cb0c98b5fe2a7a10becd38a3ddcf7961a7de</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 262efee938d25e2cf399fb833df602e9fdb54415</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob a500f663ec03bebd3e0bd897b6b50658702f961d</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob eb93897857e950466e55e70d98f488788a1af8fc</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob f9c1d647aa1c5797a144e846d42b3fbe9258ebfe</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 9b796fd8bfc3d6d061149b971f888b81a1cf6c99</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob 9caf8eacc33bab850f15bfd14d22faa227f9d050</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob bb0fa0eae291e6bc1a6f36f286b78f0fba6b969b</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dangling blob febd81b4d4de079f0148095c904a569951327f7c</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p><code>git gc --prune=now</code> 可以立即回收，即删除无用的 object。</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ </span><span class=\"token function\" style=\"color:#d73a49\">git</span><span class=\"token plain\"> gc --prune</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">now</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Enumerating objects: </span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\">, done.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Counting objects: </span><span class=\"token number\" style=\"color:#36acaa\">100</span><span class=\"token plain\">% </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\">/1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">, done.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Writing objects: </span><span class=\"token number\" style=\"color:#36acaa\">100</span><span class=\"token plain\">% </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\">/1</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">, done.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Total </span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">delta </span><span class=\"token number\" style=\"color:#36acaa\">0</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\">, reused </span><span class=\"token number\" style=\"color:#36acaa\">1</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">delta </span><span class=\"token number\" style=\"color:#36acaa\">0</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ </span><span class=\"token function\" style=\"color:#d73a49\">du</span><span class=\"token plain\"> -sh .git/objects/</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">28K .git/objects/</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>如果已经 <code>git commit</code> 了，可以进行“提交压缩”，方法多种：</p><ul><li><code>git rebase -i</code> 逐个需要想压缩的提交为 s 状态；</li><li><code>git merge --squash</code> 合并到另一个分支的时候压缩，然后删除本分支</li></ul>",
            "url": "https://wkevin.github.io/blog/2020/12/17/git.is.a.monster",
            "title": "git 是个体积怪兽么？",
            "summary": " ",
            "date_modified": "2020-12-17T18:29:24.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "git"
            ]
        },
        {
            "id": "/2020/12/09/termtosvg",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/record-dracula-6a25cde5c6a4fc13d4069c5de571a1bf.svg\" width=\"840\" height=\"410\" class=\"img_E7b_\"></p><p>上图竟然是个 SVG 文件，可以单独下载，不是视频，SVG 矢量文件，即：</p><ul><li>是个文本文件，可以用文本编辑器打开，利于 git 管理</li><li>矢量文件，无限缩放，画质不影响</li><li>图片中的文字可以选中、复制</li></ul><p>今天挖到一个宝： <a href=\"https://github.com/nbedos/termtosvg\" target=\"_blank\" rel=\"noopener noreferrer\">termtosvg</a></p><p>原本是看到一个推荐：redis 的封装 <a href=\"https://iredis.io/\" target=\"_blank\" rel=\"noopener noreferrer\">iredis</a>，首页的动图我以为是录屏，无意间右键下载了一下，没想到是 svg 文件，顿感意外，不知道怎么实现的。svg 我已经接触好多年了，近 5 年来的画图也基本 100% 是 svg 格式了，动画也做过一些，但不知道还能这么玩。</p><p>一通搜索，找到了 <a href=\"https://github.com/nbedos/termtosvg\" target=\"_blank\" rel=\"noopener noreferrer\">termtosvg</a>，安装很简单：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ pip3 </span><span class=\"token function\" style=\"color:#d73a49\">install</span><span class=\"token plain\"> termtosvg</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>使用也是简单：</p><ol><li><code>termtosvg foo/bar.svg [-t &lt;template&gt;]</code> 录屏，并直接保存为 svg 文件</li><li><code>termtosvg record foo/bar.txt</code> 录屏，并保存为 txt 文件</li><li><code>termtosvg render foo/bar.txt bar/foo.svg [-t &lt;template&gt;]</code> 将前面保存的 txt 文件渲染成 svg 文件</li></ol><p>1 好理解，2、3 有什么用呢？—— 答案是：非常有用。</p><p>录制成的 txt 文件长这样：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token string\" style=\"color:#e3116c\">\"version\"</span><span class=\"token builtin class-name\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">2</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"width\"</span><span class=\"token builtin class-name\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">105</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"height\"</span><span class=\"token builtin class-name\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">24</span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">0.0</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">]7;file://MBP.local/Users/wangkevin/workspace/osrc/webrtc/webrtc</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u0007</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.783982</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[1m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[7m%</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[27m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[1m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[0m                                                                                                        </span><span class=\"token string entity\" style=\"color:#36acaa\">\\r</span><span class=\"token string\" style=\"color:#e3116c\"> </span><span class=\"token string entity\" style=\"color:#36acaa\">\\r</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.785654</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">]7;file://MBP.local/Users/wangkevin/workspace/osrc/webrtc/webrtc</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u0007</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.785808</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">]2;wangkevin@MBP</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u0007</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.785973</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">]1;..webrtc/webrtc</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u0007</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.793306</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">]7;file://MBP.local/Users/wangkevin/workspace/osrc/webrtc/webrtc</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u0007</span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.971497</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\r</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[0m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[27m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[24m</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[J</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[01;32m➜  </span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[36mwebrtc</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[00m </span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[01;34mgit:(</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[31mmaster</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[34m)</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[00m </span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[K\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.972259</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[?1h</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">=\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">1.975024</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"</span><span class=\"token string entity\" style=\"color:#36acaa\">\\u001b</span><span class=\"token string\" style=\"color:#e3116c\">[?2004h\"</span><span class=\"token punctuation\" style=\"color:#393A34\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token number\" style=\"color:#36acaa\">2.540656</span><span class=\"token plain\">, </span><span class=\"token string\" style=\"color:#e3116c\">\"o\"</span><span class=\"token plain\">, \"</span><span class=\"token punctuation\" style=\"color:#393A34\">\\</span><span class=\"token plain\">u001b</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">32ml</span><span class=\"token punctuation\" style=\"color:#393A34\">\\</span><span class=\"token plain\">u001b</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">39m</span><span class=\"token punctuation\" style=\"color:#393A34\">\\</span><span class=\"token plain\">u001b</span><span class=\"token punctuation\" style=\"color:#393A34\">[</span><span class=\"token plain\">90ms</span><span class=\"token punctuation\" style=\"color:#393A34\">\\</span><span class=\"token plain\">u</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>先用 txt 文件保存，后期再渲染成 svg 有 2 个好处：</p><ol><li>txt 文件更小，通常是 svg 文件的 1/10，更利于分享、git 管理、CI/CD。—— 而 svg 又是视频格式的 1/10，所以 txt 简直完美。</li><li>后期渲染时再根据需求确定 template，比录制时就确定 template 更能满足灵活需求。</li></ol><p>比如我前面的录制保存为了 record.txt ，后期渲染时这样操作：</p><p><img loading=\"lazy\" src=\"/assets/images/a-progress_bar-61e217a0cc88a053279ec1191cdcd373.svg\" width=\"840\" height=\"413\" class=\"img_E7b_\"></p><p>渲染出 dracula（本文第一幅图）、ubuntu 等</p><p><img loading=\"lazy\" src=\"/assets/images/record-ubuntu-2acb65434a98784421aad343c34fd0ff.svg\" width=\"840\" height=\"410\" class=\"img_E7b_\"></p><p>各种渲染模板给出了多姿多彩的关键字高亮、外壳、滚动条…… 放在 Jenkins 的 CI/CD 中，多有意思的事情啊。</p><p>最后，一点可惜的是，termtosvg 的作者已经不再更新了，不过相信会有人接力的。</p>",
            "url": "https://wkevin.github.io/blog/2020/12/09/termtosvg",
            "title": "令人惊叹的录屏方式：terminal 操作保存为 SVG 动画",
            "summary": " ",
            "date_modified": "2020-12-09T20:42:09.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "录屏",
                "SVG"
            ]
        },
        {
            "id": "/2020/11/08/nvm",
            "content_html": "<p>一直以来都用 <code>n</code> 来管理多个版本的 node，但今天遇到一个问题：我要在不同版本的 node 上安装不同版本的 docsify，n 做不到，因为 n 把多个版本安装到 <code>$N_PREFIX/n/node/versions/xxx/lib/node_modules/</code> 目录下面，但 npm install 的包并没有分开，都在 <code>$N_PREFIX/lib/node_modules</code> 下，所以多个 node 版本切换后，docsify 仍在那里，并不属于任何一个 n 管理的 node。</p><p>简单搜索后，准备试试 <code>nvm</code>，可以解决这个问题。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"安装\">安装<a class=\"hash-link\" href=\"#安装\" title=\"Direct link to heading\">​</a></h2><ol><li><code>brew install nvm</code> —— 不推荐，听说很容易出错，懒得折腾就不做小白鼠了</li><li><code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.37.0/install.sh | bash</code> —— <strong>推荐，但会被墙</strong>，截至 2020.11.8，最新版本是 v0.37.0</li><li>直接 <code>git clone</code> 到 <code>~/.nvm</code><ul><li><code>git clone https://github.com/nvm-sh/nvm.git ~/.nvm</code> —— <strong>还是可能被墙</strong>，但 github 比 githubusercontent 稍微好点<ul><li><code>git clone https://gitclone.com/github.com/nvm-sh/nvm.git ~/.nvm</code> —— 使用好心人的镜像</li><li><code>git clone https://github.com.cnpmjs.org/nvm-sh/nvm.git ~/.nvm</code> —— 好心人 2</li></ul></li><li><code>cd ~/.nvm</code> then <code>./install.sh</code> —— 会自动修改 <code>~/.bashrc</code> 或 <code>~/.bash_profile</code>，比如 <code>NVM_DIR</code> 环境变量等</li></ul></li></ol><p>总结：</p><p>一句话搞定安装： <code>git clone https://gitclone.com/github.com/nvm-sh/nvm.git ~/.nvm &amp;&amp; ~/.nvm/install.sh</code></p><p><code>nvm -v</code> 如果有了正确的输出，请继续</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"使用\">使用<a class=\"hash-link\" href=\"#使用\" title=\"Direct link to heading\">​</a></h2><ul><li><code>export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node</code> —— 配置安装 node 的镜像指向淘宝，<strong>也请写入 <code>~/.bashrc</code></strong></li><li><code>nvm install &lt;xxx&gt;</code>，安装到环境变量 <code>NVM_DIR/versions/node/</code> 中<ul><li><code>nvm install stable</code> 当前最新稳定版</li><li><code>nvm install --lts=xxx</code> 代号为 xxx 的 lts 长期维护版<ul><li>fermium:14.x</li><li>erbium: 12.x</li><li>dubnium: 10.x</li></ul></li><li><code>nvm install 10.16.0</code> 手工指定一个版本来安装</li></ul></li><li><code>nvm uninstall xxx</code></li><li><code>nvm ls</code> —— 查看当前已安装的 node，及一些有用的信息（前面 <code>&lt;xxx&gt;</code> 的含义、default 是哪个版本、各个版本的开发代号）</li><li><code>nvm ls-remote [--lts]</code> —— 查看可以安装的 node 版本， <code>[--lts]</code> 则仅显示长期维护版</li><li><code>nvm use &lt;xxx&gt;</code> —— 使用某个版本的 node</li><li><code>nvm current</code> —— 查看当前在使用的 node</li><li><code>nvm alias default &lt;xxx&gt;</code> —— <code>use &lt;xxx&gt;</code> 尽在某个 shell 进程中有效，换个 shell 会重新使用 default，此命令修改 default 版本</li><li><code>nvm deactivate</code> —— 放弃 nvm 的管理，继续使用系统的 node，其实不过是把 <code>$NVM_DIR/xxx/bin</code> 从 <code>$PATH</code> 中删掉而已，想再次使用 nvm，执行 <code>nvm use &lt;xxx&gt;</code> 即可。</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">/Users/wangkevin/.nvm/*/bin removed from ${PATH}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"技巧\">技巧<a class=\"hash-link\" href=\"#技巧\" title=\"Direct link to heading\">​</a></h2><p>使用 alias 可以帮助我更快的切换：</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ nvm </span><span class=\"token builtin class-name\">alias</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">12</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">erbium</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token number\" style=\"color:#36acaa\">12</span><span class=\"token plain\"> -</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">erbium </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">-</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> v12.19.0</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ nvm </span><span class=\"token builtin class-name\">alias</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">14</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">fermium</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token number\" style=\"color:#36acaa\">14</span><span class=\"token plain\"> -</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">fermium </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">-</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> v14.15.0</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ nvm </span><span class=\"token builtin class-name\">alias</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">10</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">dubnium</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token number\" style=\"color:#36acaa\">10</span><span class=\"token plain\"> -</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> --lts</span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\">dubnium </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">-</span><span class=\"token operator\" style=\"color:#393A34\">&gt;</span><span class=\"token plain\"> v10.23.0</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>但 default 设置不当会引起 node 无法使用，比如：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">nvm alias default 14.15.0</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>当 v14.15.0 已经被删除，并升级到 v14.17.6，则 default 无法正常使用，每次 shell 会找不到 node 和 npm。此时可以删除已经废弃的 alias，然后把 default 指向能用的。</p><div class=\"codeBlockContainer_I0IT language-bash theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">nvm </span><span class=\"token builtin class-name\">unalias</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:#36acaa\">14.15</span><span class=\"token plain\">.0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">nvm </span><span class=\"token builtin class-name\">alias</span><span class=\"token plain\"> default </span><span class=\"token number\" style=\"color:#36acaa\">14.17</span><span class=\"token plain\">.6</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>如果删除不成功，直接进入 <code>~/.nvm/alias</code> 目录下删除相应文件。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"npm\">npm<a class=\"hash-link\" href=\"#npm\" title=\"Direct link to heading\">​</a></h2><p>捎带记录一下 npm 的重点摘要：</p><ul><li><code>npm config ls</code><ul><li>如果 registry 不够快，则： <code>npm config set registry http://registry.npm.taobao.org/</code></li></ul></li><li><code>npm config get prefix</code><ul><li>如果不用 n 或 nvm，则可以配置 prefix 到自己制定路径，这样就不必用 sudo 来 <code>npm install</code> 了，建议 <code>npm config set prefix $HOME/.node</code>；</li><li>如果用 n 或 nvm，则不用管它，因为对 n 会有负面影响，对 nvm 则没影响，nvm 会自动配置 prefix；</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ npm config get prefix</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">/Users/wangkevin/.nvm/versions/node/v15.1.0</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li><code>npm install [-g] [-S|-D] &lt;xxx&gt;</code><ul><li><code>-g</code>：没有 <code>-g</code> 则安装到当前目录下的 node_modules 下，如果当前就在 node_modules 则就安装到当下；如果有 <code>-g</code> 则安装到 prefix 下</li><li><code>-S|-D</code>：安装并将依赖关系写入 dependencies|devDependencies 文件中</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"总结\">总结<a class=\"hash-link\" href=\"#总结\" title=\"Direct link to heading\">​</a></h2><p><code>nvm</code> 类似 python 的 <code>pyenv</code>，是个第三方的程序，所以可以跳出 python 之外来管理 python，那有没有类似 python 虚拟环境的呢？当然，<code>npm install</code> 不加 <code>-g</code> 就是了，安装到当前文件夹下，那多个项目想共用一套 npm 包呢？比 python 的 vnev 来的更简单：在一个共用文件夹下 <code>npm install</code>，该文件夹下所有的项目都可以使用这套包了 —— 因为 node 寻找包的方式是：先在当前目录下的 node_modules 下找，然后向上级目录找，一直找到根目录，然后在 <code>NODE_PATH</code> 环境变量的路径里找。</p>",
            "url": "https://wkevin.github.io/blog/2020/11/08/nvm",
            "title": "nvm 似乎比 n 更优秀一些",
            "summary": "nvm 的使用要点",
            "date_modified": "2020-11-08T15:04:26.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "nvm",
                "node",
                "npm"
            ]
        },
        {
            "id": "/2020/10/31/drawing.app",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/drawing-15c6fe6aac69ba4e19a4ffe43cba40c7.svg\" width=\"860\" height=\"701\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2020/10/31/drawing.app",
            "title": "我用过的画图类 APP",
            "summary": " ",
            "date_modified": "2020-10-31T14:54:42.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "paint",
                "draw"
            ]
        },
        {
            "id": "/2020/10/28/gpg.and.pgp",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/GPG-bcfc538415b287ff1238f94636928309.svg\" width=\"1709\" height=\"1934\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2020/10/28/gpg.and.pgp",
            "title": "GPG and PGP 知识点扫描",
            "summary": " ",
            "date_modified": "2020-10-28T09:45:18.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "PGP",
                "GPG",
                "GnuPG"
            ]
        },
        {
            "id": "/2020/05/22/freeplane",
            "content_html": "<p>忽然之间，XMind 连插入图片都变成收费功能了，只能默默掉头了。</p><p>开源、跨平台、可完美导出 SVG 的 FreeMind 和 FreePlane 一脉相承，其实是相爱相杀，两个都用了一下，对比功能、美观、体验等，推荐 Freeplane。</p><p>Ubuntu 安装：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ sudo apt install freeplane</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>刚打开软件，会感觉很不适应，尤其用惯了 XMind 这种美观大气的，经过一番调教，总算满意了，操作方法如下图：</p><blockquote><p>温馨提示：下图即是用 Freeplane 制作并导出的 SVG 矢量图，建议图片上右键-新标签页打开，然后就可以无限放大，无损查看，还能选中拷贝。</p></blockquote><p><img loading=\"lazy\" src=\"/assets/images/Freeplane-0b953691b92f439d0e17c847f5878cd6.svg\" width=\"1504\" height=\"2058\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2020/05/22/freeplane",
            "title": "Freeplane 自由飞翔的思维导图",
            "summary": " ",
            "date_modified": "2020-05-22T14:18:07.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Freeplane"
            ]
        },
        {
            "id": "/2020/05/21/shell.pipe",
            "content_html": "<p>为了让定时播放的吃饭音乐能够随机选择，重写了一下 crontab 的配置：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">49 11 * * 1-6  ls -1 /home/me/Music/mp3/*.mp3 | sort --random-sort | head -1 | xargs -I{} nohup play {} fade t 0:20&gt; /dev/null 2&gt;&amp;1 &amp;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>其中又复习了一下 shell 的管道和连接符。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"管道\">管道：<code>|</code><a class=\"hash-link\" href=\"#管道\" title=\"Direct link to heading\">​</a></h2><ul><li>一些 shell 命令（如 cat）有这样的行为规范：<ul><li>读到命令行参数送给 main 入口函数<ul><li>是文件，则操作文件</li><li>是<code>-</code>符号，则操作 stdin（并不作为文件）</li></ul></li><li>没有命令行参数，则从 stdin 读取</li><li>举例：<ul><li><code>cat</code>：单独执行 cat 命令会等待用户输入，然后 cat 出来</li><li><code>echo 'file1' | cat</code> cat 从 stdin 中读取</li><li><code>echo 'file1' | cat file2</code> cat 有入参时，就不再从 stdin 中读取，所以不会打印 main</li><li><code>echo 'file1' | cat -</code> cat 遇到<code>-</code>入参，从 stdin 读取，但仅是打印“file1”字符串，并不是打印 file1 内容</li><li><code>echo 'file1' | cat - file2</code> 会先打印出 file1 字符串，然后是 file2 的内容。</li></ul></li></ul></li><li>一些命令给出了专门的参数指定文件名，这样可以更好的使用 <code>-</code><ul><li>举例<ul><li><code>ls -1 *.mp3 | sort --random-sort | head -1 | mpg123 -@ -</code></li></ul></li></ul></li><li>xargs 能够把管道中的字符串转化成后面命令的参数<ul><li><code>echo 'file1' | xargs cat</code> == <code>cat file1</code></li><li><code>echo 'file1' | xargs -I{} cat {}</code> == <code>cat file1</code> 用 -I 指定占位符，以便后面命令用的更灵活</li><li><code>echo 'file1' | xargs -I{} play {} fade t 0:10</code> 此时如果不用占位符，play 则很难成功执行</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"连接符\">连接符：<code>;</code>,<code>&amp;&amp;</code>,<code>||</code><a class=\"hash-link\" href=\"#连接符\" title=\"Direct link to heading\">​</a></h2><ul><li><code>cmd1 ; cmd2</code> ：cmd2 总会执行</li><li><code>cmd1 &amp;&amp; cmd2</code> ：cmd1 成功，cmd2 才会执行</li><li><code>cmd1 || cmd2</code> ：cmd1 失败，cmd2 才会执行</li></ul>",
            "url": "https://wkevin.github.io/blog/2020/05/21/shell.pipe",
            "title": "Linux 管道和连接符",
            "summary": " ",
            "date_modified": "2020-05-21T14:55:23.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "shell"
            ]
        },
        {
            "id": "/2020/03/14/risc-v",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/1584182912566-c134a61b1407db0af9a13806d2071d7e.png\" width=\"5524\" height=\"3904\" class=\"img_E7b_\"></p><p><a href=\"https://zhimap.com/m/WrrGRqFn\" target=\"_blank\" rel=\"noopener noreferrer\">Zhimap 地址</a></p>",
            "url": "https://wkevin.github.io/blog/2020/03/14/risc-v",
            "title": "RISC-V 扫描",
            "summary": "RISV-V 相关知识图谱快速扫描",
            "date_modified": "2020-03-14T18:49:37.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "RISC",
                "RISC-v",
                "CISC"
            ]
        },
        {
            "id": "/2019/11/30/mindset",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/2-df0b8f000ec2c4ffa265429f4e6d3f5b.jpg\" width=\"1600\" height=\"600\" class=\"img_E7b_\"></p><p>《MINDSET: THE NEW PSYCHOLOGY OF SUCCESS》直译：心态决定成功。翻译成终身成长也还不错了。</p><p>2007 年英文出版，<a href=\"https://www.amazon.com/Mindset-Psychology-Carol-S-Dweck/dp/0345472322\" target=\"_blank\" rel=\"noopener noreferrer\">亚马逊 4.4 分</a>。2017 年中文出版，<a href=\"https://book.douban.com/subject/27154533/\" target=\"_blank\" rel=\"noopener noreferrer\">豆瓣 7.7 分</a>。-- 可能歪果仁比较思考这些，国人不太吃这一套。</p><p><strong>第 1 章提出了 2 种思维模式：固定性思维、成长型思维。</strong></p><blockquote><p>我见过的太多人都抱有这种要证实自己的强烈目标——在课堂上，在工作中，甚至在他们的个人关系中。每种时刻都需要他们对自己的智力、个性以及特征进行证明。每一个时刻，他们都在接受评估：我会成功还是失败？我看上去是聪明还是愚蠢？我是会被接受还是被拒绝？我看上去像是个成功者还是失败者？</p></blockquote><blockquote><p>霍华德·加德纳（Howard Gardner）在《非凡头脑》（Extraordinary Minds ）中总结，杰出的个人有着“一种能够准确评估自己的能力和不足的独特才能”。有意思的是，成长型思维模式者似乎就拥有他说的这种才能。</p></blockquote><p><strong>第 2 章从几个方面对比来种思维模式</strong></p><table><thead><tr><th>固定性思维</th><th>成长型思维</th></tr></thead><tbody><tr><td>认为个人能力是固定的</td><td>认为个人能力是成长的</td></tr><tr><td>担心自己不够聪明</td><td>希望自己变得更聪明</td></tr><tr><td>对学习成绩感兴趣</td><td>对学习过程感兴趣</td></tr><tr><td>寻求稳定</td><td>寻求挑战</td></tr><tr><td>这太难了</td><td>这太有意思了</td></tr><tr><td>追求当下的完美</td><td>追求进步和未来的完美</td></tr><tr><td>对评测和失败有压迫感</td><td>失败是成功之母</td></tr><tr><td>失败会定义个人能力</td><td>失败会锻造个人能力</td></tr><tr><td>选择成功</td><td>选择成长</td></tr></tbody></table><blockquote><p>每个人在刚出生时都有着强烈的求知欲，婴儿每天都在拓展自己的技能。而他们学习的并不是普通的技能，而是人生中最难的任务，比如走路和说话。他们从来不会说太难了，或者说这些技能根本不值得自己为之努力。婴儿不会担心自己犯错误或者丢脸，他们向前走，摔倒，再站起来。他们就这样跌跌撞撞地前行。<br>\n<!-- -->是什么让这种生机勃勃的学习热情走到了尽头？</p></blockquote><blockquote><p>固定型思维模式者说，理想的伴侣应该有如下特征：<br>\n<!-- -->把他们放在神坛之上。<br>\n<!-- -->让他们感到完美。<br>\n<!-- -->崇拜他们。</p></blockquote><blockquote><p>成长型思维模式者希望与另一种类型的伴侣相处，他们的理想伴侣应该有如下特征：<br>\n<!-- -->看到他们的缺点并帮助他们改正。<br>\n<!-- -->鞭策他们变成更好的人。<br>\n<!-- -->鼓励他们去学习新事物。</p></blockquote><blockquote><p>成长型思维模式者在拓展自己的过程中感到兴奋不已。那么固定型思维模式者在什么情况下能有这样的感觉呢？在事情尽在他们掌握中的时候。如果事情变得具有挑战性——当他们感觉不到自己聪明且富有天赋的时候，他们就丧失了兴趣。</p></blockquote><blockquote><p>一次评估就定终生的这种想法，让固定型思维模式者产生了紧迫感。这就是为什么他们必须快速、完美地取得成功。当自己的一切在每时每刻都面临危险的时候，谁还会有慢慢成长这种奢侈的想法呢？</p></blockquote><blockquote><p>我当时是名一年级新生，并且第一次到离家这么远的地方。每个人都是陌生人，课程很难，随着时间慢慢推移，我感到生活越来越压抑。终于，我抑郁到了早上几乎起不来床的地步。但是每一天我都强迫自己起床，洗澡，刮胡子，去做我应该做的事。一天，我的情绪实在是降到了最低点，我决定寻求帮助。于是我去找我心理学课程的助教，询问她的意见。</p></blockquote><blockquote><p>成长型思维模式者的想法则完全不同。对他们来说，即使天才也要通过努力才能达到成功。他们会说，有天赋有什么了不起的？他们欣赏天赋，但是他们更崇尚努力，无论你的能力有多强，努力才能激发你的能力，让你取得最终的成就。</p></blockquote><blockquote><p>努力后还是失败的事实会让自己找不到借口，是固定型思维模式者们最大的恐惧.</p></blockquote><blockquote><p>曾经有一名律师花了 7 年时间，代表那些认为自己被欺骗了的人去和全美最大的银行打官司。在打输了官司之后，他说：“我凭什么认为我花了 7 年时间去做一件事，成功就必须属于我？我做这件事是为了成功，还是因为我觉得所做的一切努力都是正确的？我不后悔我做的事。我必须去做。即使重新来一次，我还会做出同样的选择。”</p></blockquote><blockquote><p>即使你认为自己不擅长某件事，还是可以全心地投入其中并坚持下去。事实上，有的时候你投入一件事，恰恰是因为你不擅长做这件事。这是成长型思维模式的一个非常好的特征。你并不一定要觉得自己对某件事很在行才会想去做这件事，并享受做这件事的乐趣。</p></blockquote><p><strong>第 3 章，描述能力与成功/成就之间的关系，试图解释“成功是能力还是努力的结果”这个古老的话题。我们来看看作者能不能推翻“成功=99%汗水+1%天才”这个公式。</strong></p><blockquote><p>在固定型思维模式中，青春期是一场巨大的测验。我是聪明还是愚蠢？我长得好看还是难看？我看上去很酷还是一个书呆子？我是胜利者还是失败者？他们绞尽脑汁，不为了学习，而是为了保护他们的自我意识。而他们达成这一目标的主要途径（除了对自己的老师进行生动的攻击外）就是放弃努力。</p></blockquote><p>作者谈到天生资质的时候，讲了一段自己 5 岁的故事 —— 显然作者是想表达自己 5 岁就能抬头啊。</p><blockquote><p>我的一个表兄曾向我提起一件在我们五岁时发生的事。当时我们在爷爷家，他因为什么时候可以吃糖和他妈妈大吵了一架。后来，我们坐在门前的台阶上，我对他说：“别傻了，大人们总喜欢处于掌控的位置。你只要先答应他们，之后想什么时候吃糖都可以。” -- 这些话难道不是出自一个未来的心理学家之口吗？</p></blockquote><p>下面这一段简直是朋友圈常见题型：</p><blockquote><p>我们对一部分学生的能力进行赞扬。他们听到的话是：“哇，你做对了 8 道题。这个成绩非常棒，你在这方面非常聪明。”他们和亚当·古特尔一样，被放在了“你太有才了”这个位置上。<br>\n<!-- -->至于另一部分学生，我们对他们付出的努力进行赞扬：“哇，你做对了 8 道题。你一定非常努力。”他们并不会感到自己拥有什么特别的天赋，他们受到赞扬的是他们为了成功付出的努力。<br>\n<!-- -->这两组人的起点是完全一样的，但在我们的夸奖之后，他们的走向开始不同。我们担心的事发生了，我们对能力的夸奖让那些学生们陷入了固定型思维模式，他们也表现出了所有固定型思维模式者拥有的特征：当我们让他们选择的时候，他们对有挑战性、可以让他们从中学习的新任务表示拒绝。他们不想做任何可能暴露自己缺点的事，以避免别人对他们的才能提出质疑。</p></blockquote><p>作者抨击了给人贴标签的行为。</p><blockquote><p>无论是肯定的还是否定的标签都会扰乱你的思绪：当你被贴上肯定的标签时，你害怕会失去它；而当你不幸被贴上否定的标签时，你会害怕自己正如标签所说。</p></blockquote><blockquote><p>你会给自己的孩子贴标签吗？这个孩子是艺术家，那个是科学家。请记住，你这样说并不会帮助他们，即使你可能是在称赞他们。记得我们的研究，对孩子的能力进行夸奖会让他们的智力测验得分降低。换一种属于成长型思维模式的方式去夸奖他们。</p></blockquote><p><strong>第 4 章，描述两种思维模式在体育锻炼方面所展现的不同：因为身体条件更容易让人觉得这是天生条件，更容易落入固定思维，进而放弃努力。</strong></p><blockquote><p>以前有过一种说法：高尔夫球员不能进行体能训练，如果你增强体力，便会失去击球时的“手感”。这一说法直到泰格·伍兹（Tiger Woods）的出现才被打破，伍兹拥有自己的体能训练计划并进行大量的练习，他斩获了各项锦标赛的冠军。</p></blockquote><blockquote><p>即使一些专家愿意承认人的头脑在成功过程中起着重要作用，他们依然坚持相信，一切都来源于天赋。</p></blockquote><p>这一章没有那么多 point 可抓，一直在讲述一个又一个体育着的故事，看来作者真的是个体育迷，记得那么多体育冠军们的故事、对话……想想作者是怎么知道的？在当场？不可能吧，估计大多是细心做了剪报。</p><blockquote><p>成长型思维模式者认为成功来源于尽自己最大努力做事，来源于学习和自我提高，这也正是我们在这些冠军身上看到的。</p></blockquote><blockquote><p>成长型思维模式者认为挫折可以给人动力，挫折可以告诉我们很多，它是一记警钟。</p></blockquote><blockquote><p>在体育界中（在医学预科中），成长型思维模式者掌控着自己走向成功以及维持成功的过程。</p></blockquote><blockquote><p>有时候，具有特殊的天赋也是一种诅咒。这些运动员可能会陷在固定型思维模式中，无法很好地应对挫折。有没有哪项运动对你来说很容易，但是有一天你碰壁了？试一试成长型思维模式，再去努力一次。</p></blockquote><p><strong>第 5 章，描述两种思维模式在商业方面所展现的不同：分别点名道姓的列举了 7、8 位 CEO 来点评。</strong></p><blockquote><p>很多公司都是按照柯林斯所谓“1 个天才与 1000 个帮手”的模式运营的。与那些实现“从优秀到卓越”跨越的公司不同，他们不是去建立一个卓越的管理团队，而是按照固定型思维模式所认为的天才不需要好团队的方式来运营。他们认为，他们只是需要一些帮手来执行他们绝妙的构想。</p></blockquote><p>作者选了几位固定性思维模式的领导者：</p><ul><li>艾柯卡</li><li>阿尔伯特·邓拉普</li><li>肯尼斯·莱，安然公司的创始人、主席和 CEO</li><li>国在线的史蒂夫·凯斯和时代华纳的杰瑞·莱文：是两名有着固定型思维模式的 CEO</li></ul><p>作者用“恶老板”来称呼他们，不是人很凶恶，而是把公司搞到破产。</p><p>作者又选了 3 位成长型思维模式的领导者：</p><ul><li>通用的杰克·韦尔奇（Jack Welch）：因为他是一个拥有自我意识，但是懂得如何掌控这种自我意识的传奇人物——他不是你认为的那种讲求自然发展的、谦虚的、成长型思维模式的领导者。</li><li>IBM 的路易斯·郭士纳：他接手并拯救了 IBM</li><li>施乐的安妮·穆尔卡希（Anne Mulcahy）：她让老牌复印机生产商施乐公司起死回生，作为另一个曾让公司起死回生的固定型思维模式领导者阿尔伯特·邓拉普的反例。</li></ul><p>作者对两种思维所举例的每个人用一个章节来讲述，故事短小，我感觉有所牵强，作者应该没有和他们有过更多的接触，仅从一些报道和道听途说就给人家贴标签（前文自己还反对贴标签），我觉得不太厚道。</p><p><strong>第 6 章，描述两种思维模式在人际关系方面所展现的不同：作者重点描述了爱情中的不同。</strong></p><p>感觉这章写的不咋地，快速略过。</p><p><strong>第 7 章，描述两种思维模式下的人（老师、父母）如何教育孩子，以及可能取得什么后果：为人父母的可以认真阅读一下。</strong></p><blockquote><p>如果你是伊丽莎白的父母，你会怎么做？<br>\n<!-- -->1．告诉伊丽莎白，你认为她是最棒的。<br>\n<!-- -->2．告诉她是裁判的不公平让她丢掉了原本属于她的彩带。<br>\n<!-- -->3．安慰她说体操其实没那么重要。<br>\n<!-- -->4．告诉她她有足够的能力，下一次肯定能赢。<br>\n<!-- -->5．告诉她她本来就不该赢。</p></blockquote><p>作者出了一道题，各位选择一下？</p><blockquote><p>孩子们需要诚实而有建设性的反馈。如果孩子们被“保护”起来，他们将无法从失败中很好地学习。他们会认为建议、指导和反馈是消极而具有破坏性的。回避建设性的批评并不会帮助孩子们建立自信，反而会危害他们的未来。</p></blockquote><blockquote><p>为什么成长型思维模式的老师能如此无私，为学习成绩不理想的学生奉献这么多的时间？因为他们是圣人吗？这个问题的答案是，他们并非毫无私心。他们热爱学习，而教学是学习的绝佳途径。他们可以通过教学学习别人的思维方式，学习自己的教学内容，理解自己和自己的生活。</p></blockquote><blockquote><p>固定型思维模式的老师通常会将自己看成一个完成品。他们的角色就是传授他们已有的知识。但是经过一年又一年重复的生活，他们不会觉得无聊吗？站在另一群新面孔前开始传授同样的内容，这才是一件艰难的事。</p></blockquote><p>父母如何塑造孩子的思维模式：</p><blockquote><p>父母对孩子的称赞方式塑造了孩子的思维模式。\n父母面对孩子的错误和失败时做出的反应。</p></blockquote><blockquote><p>称赞孩子的智力和才能这种做法虽然很有吸引力，但会向孩子传递固定型思维模式的信息。这会让他们的自信心和积极性变得脆弱不堪。相反，你要试着注意他们做事的方法——他们采用的策略、他们的努力或选择。试着这样做，看看效果。</p></blockquote><p>内容很多，不一一摘录了。</p><p><strong>第 8 章，大结局章节，如何改变思维模式。前面说了一堆固定思维的不好，成长思维的好，最后总要说一说如何改变自己的思维模式了。</strong></p><p>不剧透了，看书吧。</p>",
            "url": "https://wkevin.github.io/blog/2019/11/30/mindset",
            "title": "《终身成长》速读",
            "summary": " ",
            "date_modified": "2019-11-30T22:11:47.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "思维模式"
            ]
        },
        {
            "id": "/2019/11/19/manage.3x3",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/freepik-7443a69ce53e4ede8282f2ffa2288e35.jpg\" width=\"626\" height=\"285\" class=\"img_E7b_\"></p><p>工程师是一条艰辛的修炼之路，管理者同样，只有不断思索，才能领悟到团队、领导、和自己想要什么，不想要什么。</p><p>管理可以细分出很多领域，也有很多方法论，我党长期坚持使用的双头领导制是其中经典，司令和政委、厂长和书记……都是管理者，但要求的技能和心智是不一样的。一些大公司也会照着这个模式建设所谓的“矩阵式”管理架构：称之为“项目线领导”和“职能线领导”，或者平常口头上简单的称之为“管事”的领导和“管人”的领导，虽然不完全合适，但更好理解一些。小公司则可能一个领导即主战、又主建。</p><p>对于通常意义上的管理者（管事+管人），我总结了 9 项职责，再分之成三重境界。我认为一位管理者把自己的时间和精力<strong>主动地、特意地</strong>放在哪些职责上，可以体现出他在管理上修炼达到的 Level。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"level-1\">Level 1<a class=\"hash-link\" href=\"#level-1\" title=\"Direct link to heading\">​</a></h2><p><strong>分配工作</strong> —— 当了领导必然可以掌控多一些资源，把工作合理的分配下去是管理者的基本功，用人之长、任人唯贤是基本要求，但虽说是基本，能够完美做到其实很困难，不但要掌握事情的特性，还要掌握人的特质，把一个重要的事情交给一个不靠谱的人通常是管理者一段神奇旅程的开始。</p><p><strong>跟踪进度</strong> —— 事情分解下去了，还是操心啊，不停的去问问进度，每天去参加一下项目的晨会，隔几天没听到事情的进展就心里没着没落的，说不定还要定期、定周、定月、定季度的布置个 PPT，浑然不知团队的无奈…… 很多管理者都会不自觉的自诩“自己天生是操心的命”。</p><p><strong>参与决策</strong> —— 指点方遒的时候到了，无论是在流程上做出审批，还是在会议上一锤定音，管理者都是在权利和责任的双重压力下做出抉择。因为要涉及责任，管理者的表现开始分化，有些高谈阔论之后甩锅于无形，有些嬉笑怒骂中明哲保身，有些是群众决议中发挥民主，有些是一通操作猛如虎，定睛一看原地杵，当然也有沉着思考后背上责任，也有面红耳赤后赌上前程。决策面前，尤其是大是大非的决策面前，最能看清管理者的能力和心态，也是需要每一位管理者勇敢地面对。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"level-2\">Level 2<a class=\"hash-link\" href=\"#level-2\" title=\"Direct link to heading\">​</a></h2><p><strong>制定规范</strong> —— 谁在用红头文件中描述的岗位职责来规范自己的工作？甚至谁看到了哪个文件有描述自己的岗位职责？如果有，那你真的幸运；即使有，执行的如何？中国人普遍有个特点：追求一切尽在不言中。实际工作中几乎每天都会遇到“哪些工作该谁做”的问题和讨论，很多领导会希望双方各让一步，甚至搬出大局为重。如果仅此而已，则跟劝架大妈无异；如果能够以此为契机，展开关于职责、流程、责权利的讨论，并及时修订规范，方才不愧对上级的重托和团队的信任。制定规范是一件费力不讨好、出力难出工的事情，组织多场讨论未必得出一个好结果，制定的流程过不多久又要修订……工作量巨大，又旷日持久。其实一些公司是设置专职来做这个的，如果管理者兼任此重担，那只好上帝保佑了。</p><p><strong>激励评估</strong> —— 工作中的赏与罚，像杠杆一样撬动员工的神经，无论是 KPI，还是 OKR，管理者的责任心才是最重要的，试图从网上或别的部门 copy 一份考核标准或度量指标来衡量自己的团队成员是偷懒的表现，妄图用一些小恩小惠来掩盖自己在评估方面的手足无措是会被看穿的。在这方面，只有和你要评估的人近一些，再近一些，甚至与他一起结对编程，一起看书交流，一起熬夜加班……才能得出相对正确和合适的评估。对每一位你团队中的成员都要这样哦，优秀的管理者，你做得到么？即使做不到，也请不要简单的用加班时间来衡量一个人，那是超级超级懒惰的管理方式，和渎职没有什么两样。</p><p><strong>人才建设</strong> —— 管理者的这项职责有点隐蔽，招聘有 HR，培养有师傅，管理者干啥？是不是提醒大家平常多看看书，多交流技术，多搞些培训就行了？我觉得不然。有些管理者热衷于引进人才，但却保留不住人才——有没有思考过为什么？人才不断流失的团队管理者有没有深刻的反思？若还将流失的人才故意粉饰成庸才的管理者一定要坚决的开掉。如何留人可以说是每位管理者可以每天用 10 分钟来入定思考的问题，这不是一个可以嘻嘻哈哈就遮掩过去的问题，如果那样，所有旁边的管理者都不会认真对待团队人才的建设，这个事情必须严肃。管理者要从心底抛弃“烂泥糊不上墙”、“扶不起的阿斗”等偏见，建立“人才可以培养，并且几乎每个人都可以培养成某方面的人才”的想法。<strong>全才可遇不可求，但专才几乎人人都有潜力。</strong>所谓的千里马常有而伯乐不常有，韩愈说的就是不要以为当了管理者就自然成了伯乐，伯乐的眼光和胸怀也得练。练好了之后就要用心观察和物色，最好和人才多多沟通，用同理心来与之交换信任，找到某个人更能成为哪个方向的才，并细心记下，一旦有机会就提供给他。对已经出落成人才的小伙伴，明白并理解他想要什么、诉求是什么，自己能做到什么。另外还要注意差异化的表达，比如对七、八十年代的员工可以用“打是亲、骂是爱、拍桌瞪眼是关怀”的栽培方式，对九零、零零后这招是不行的，最好还是升级一下自己的技能储备。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"level-3\">Level 3<a class=\"hash-link\" href=\"#level-3\" title=\"Direct link to heading\">​</a></h2><p><strong>识别潜在领导者</strong> —— 在管理学里面，管理者（Manager）和领导者（Leader）是有区别的，领导者需要有领导力（Leadership）、影响力、甚至个人魅力，此处不展开，有兴趣的搜领导力的书来读。那么识别潜在领导者需要管理者自身先修炼成领导者么——我觉得不必，一个比较优秀的管理者，只要心胸豁达，不给潜在领导者穿小鞋，潜在领导者会有旺盛的生命力自己成长的，他们需要的是机遇和信任。那么为什么要识别潜在领导者？是为了让他分担自己的职责让自己更轻松一点？是为了让他帮自己写 PPT？还是为了培养自己的心腹？—— NO！都不是，<strong>是为了让这个团队有灵魂</strong>，有使命感，去塑造团队的价值观。管理者未必给的了这个魂，领导者可以，所以即使你整天再忙，也不要忘了做这件事，即使你再不情愿，也不要回避，更不要扼杀或捧杀潜在领导者。</p><p><strong>营造公平公正公开的氛围</strong> —— 管理者都说自己想听真话、听实话，但纵观史书——难！无论是设置枢密院正规途径，还是微服私访去 go see，或是创办直属汇报的锦衣卫，都很难收集到全面、客观的真话和实话。还好管理几十人的团队没有这么复杂，但如何让大家开口说真话也是一门手艺活。首先要公开声明自己的主张和原则，要向团队表明自己是个什么样的人，不能让大家猜，有些话必须要说出来，并且是真诚的、不止一次的说；然后是建立渠道，快捷的渠道，实名和匿名双管齐下，QQ 有一个功能叫群匿名，QQ 会帮你做挑选很难猜到的花名来在群里聊天，微信没有，管理者敢不敢在团队里玩？还有是不能打击报复，一次都不行，出现一次这辈子就别想再听到真话了，HW 的胡玲看来深谙其道。上面这些又都是双刃剑，大部分管理者会认为玩不好就自焚了。但我觉得这才好玩，有点意思。</p><p><strong>引领团队发展方向</strong> —— 此条管理者其实可以忽略了，是献给领导者的，献给那些如火柴般燃烧自己的领导者，那些即使在泥泞的环境中仍然鼓励团队不要放弃的领导者，那些能够为团队带来精神寄托的领导者。换句通俗点的说法，做到这个 Level 要会忽悠、会画饼、还能让大家吃上饼。段位太高，高山仰止，我够不着，不多说了。</p><p>总结：</p><p><img loading=\"lazy\" src=\"/assets/images/manage.level-6f32b3bc9ffec011e870fbaae3c4ab86.svg\" width=\"386\" height=\"301\" class=\"img_E7b_\"></p><p>管理是多维空间中的舞蹈，从一个维度很难简单的衡量一位管理者的水平。每个境界投入的精力不能简单的用比例划分，不能仅在低 Level 上徘徊，那是用战术的勤奋掩盖战略的懒惰，也不能追求高 Level 放弃低 Level，那是战略的巨人、战术的矮子，更不能只做个理论派，看似管理方面啥都懂但队伍带的稀嚓嚓。好的领导者高、中、低各个水平的技能都娴熟，根据团队和项目的需求和场景差异化把控。这肯定是个艰难的工作，感觉不难的要么是技能超群，要么是想“顺(lan)势(zheng)而(wu)为(wei)”，一旦去主动的做这些事，就会感到举步维艰。被事情推着走的管理者与主动、有选择性投入精力的管理者，付出的精力和得到的效果是不同的。</p><p>另外还有一些随想，不知道咋融合进去，先记录于此，等以后想好了再系统梳理。</p><ul><li>管事和管人分开有分开的好处，合并有合并的优点，怕就怕和稀泥，让政委去指挥战斗，让书记去管理经营，嘴上说职能线和项目线分管，但职能线总是插手项目线，或者项目线挤扁职能线，责权利不清，内耗不止。</li><li>管理者的职责和工作中有很多需要凭良心、靠情怀、无法度量、上级看不到的，保持良好的心态做这些。</li><li>团队规模与管理者的 Level 高低没有对应关系，高 Level 的管理者照样可以带小团队。</li><li>管理者要能给团队创造效益、争取利益，让一线员工有肉吃，即使没能力让大家吃肉，也务必不要给团队添堵。</li><li>选拔一位管理者除了根据他以往工作评估其在哪个境界，还有几个参考量<ol><li>身体健康</li><li>没有性格缺陷</li><li>最好有项目相关的业务技能</li></ol></li></ul><p>一己之见，与所有思考管理的朋友共勉。</p>",
            "url": "https://wkevin.github.io/blog/2019/11/19/manage.3x3",
            "title": "管理的三重境界",
            "summary": "我的管理理念",
            "date_modified": "2019-11-19T21:54:35.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "管理"
            ]
        },
        {
            "id": "/2019/11/09/ali.it.art",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/s29445489-b33314e9cb099365c83b5a127d690650.jpg\" width=\"1360\" height=\"652\" class=\"img_E7b_\"></p><p>作者是阿里的中间件架构师，北联业务，南接数据库，所以在数据库上着笔最多。但为了不写成太技术流，把阿里的共享服务和中台战略在书中四处撒播。还好书名比较贴切的表达了全书主旨：<strong>阿里 IT 架构的演进史</strong>。</p><p>读完此书，可以对淘宝、天猫、聚划算……背后的很多系统有个概要的了解：HSF、TDDL、Tair、鹰眼、Sentinel（哨兵）……，对一些阿里使用的技术也能够略知一二：超配、限流、埋点、ACID/CAP/BASE……</p><p>通篇着笔最多的就是“共享服务中心”了，阿里专门做中台组件的部门，伴随 2015 中台战略而崛起的部门，让作者充满自豪感的部门。几乎每个章节都介绍了一到两个服务组件，读完之后对阿里 PaaS 层的技术组件和中台业务的逻辑分解都会有一定的认识。我曾经认为 IaaS/PaaS/SaaS 是技术架构，前/中/后台是业务架构，读完之后我觉得应该这么讲：<strong>IaaS/PaaS/SaaS 即是技术架构，也是业务架构</strong>，因为全书给读者传达一个理念：技术的逻辑模块要从用户的角度按业务来分解。</p><p>另外，文中有几个观点也颇有同感，我试着理解一下：</p><p><strong>团队要按业务组建，而不是技术。</strong> —— 比如不要组建嵌入式团队、Java 团队、数据库团队……而要组建用户管理中心团队、聚划算业务团队……按技术组建团队是自我为中心，按业务是从服务客户的为中心。另外，不但技术是分层的，业务也是分层的，前台、中台、后台是业务分层，他们可能使用相同的技术，所以前中后的人员是可以互换的，隔一段时间阿里会安排他们互相体验生活，这样一个功能到底是放在前台，还是中台就不容易扯皮了。</p><p><strong>服务是 API+自描述的元数据，服务化是产品向服务转化的能力</strong> —— 读此书之前，对 PaaS、SaaS 的服务和微服务概念不是很清晰，本书 P188 解开了一些迷惑，服务首先要找到对象，即客户，然后用客户能够理解的方式重新封装 API，比如数据库组件以前提供的可能只是对 SQL 语句的封装，服务化后不但要变成数据调用者的说话方式，还要能够自动发现、有完善的安全、管理、运维策略……这些都不需要调用者操心。</p><p><strong>打造生态</strong> —— 一家汽车制造商搞了个系统，上下游千家公司在里面协作，这不是生态，因为他们是被动的。某个系统只有主动的参与者不断注入自己的智慧和创新，才叫生态。阿里把中台接口释放给商家指定的 IT 服务商，可以为商家打造差异化的前台，这是作者推荐的生态模型。</p><p>最后，全书要点我总结如下图（右键单开或保存看大图）：</p><p><img loading=\"lazy\" src=\"/assets/images/it-50751d51bb69a8ff5c2e196a114dea8a.png\" width=\"5399\" height=\"4461\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2019/11/09/ali.it.art",
            "title": "《企业IT架构转型之道》读书笔记",
            "summary": " ",
            "date_modified": "2019-11-09T11:39:15.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "阿里共享服务体系",
                "HSF（好舒服）",
                "TDDL（头都大了）"
            ]
        },
        {
            "id": "/2019/11/04/ubuntu.net.stall",
            "content_html": "<p>摘要：</p><ul><li>通过 pxe 模式，网络安装 Ubuntu。</li><li>多个 Ubuntu 版本可选性安装。</li><li>用于无法开机箱进行光驱安装、或不想折腾搞硬盘安装、或 USB 被公司封闭无法 U 盘安装的朋友。</li></ul><p>参考：</p><ul><li><a href=\"https://www.maketecheasier.com/configure-pxe-server-ubuntu/\" target=\"_blank\" rel=\"noopener noreferrer\">Configure PXE Server In Ubuntu 16.04</a></li><li><a href=\"https://www.cnblogs.com/zhangqunshi/p/6729823.html\" target=\"_blank\" rel=\"noopener noreferrer\">网络安装 Ubuntu16.04</a></li></ul><p>基本步骤：</p><ul><li>Client BISO 配置：1、网卡启动；2、网卡支持 pxe 模式</li><li>Client 在 BIOS 阶段通过 DHCP 找 Server 要到 IP 地址</li><li>Server 分配 IP，同时指定 pxe 的启动文件 pxelinux</li><li>Client 通过 tftp 协议下载 pxelinux 文件</li><li>Client 通过 pxelinux 的配置信息（kernel ... initrd=...），通过 tftp 下载 kernel &amp; initrd</li><li>Client 通过 pxelinux 的配置信息（nfsroot=...)，通过 http 或 nfs 下载 ubuntu 的 live images</li></ul><p>干货如下：</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"dhcp\">DHCP<a class=\"hash-link\" href=\"#dhcp\" title=\"Direct link to heading\">​</a></h2><ul><li><code>sudo apt-get install isc-dhcp-server</code></li><li><code>sudo vi /etc/default/isc-dhcp-server</code> 限定网卡开启 dhcp</li><li><code>sudo vi /etc/dhcp/dhcpd.conf</code></li></ul><p>example1: server(192.168.1.100)</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">option domain-name \"localhost\";  # 必须要改，否则syslog报异常，pxe client IP无法获取</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">option domain-name-servers 本机IP地址;  # 必须要改，本机IP地址必须也要在192.168.1.0/24网段中</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">allow booting;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">allow bootp;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">subnet 192.168.1.0 netmask 255.255.255.0 {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    range 192.168.1.10 192.168.1.30;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    option subnet-mask 255.255.255.0;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    option routers 本机IP地址;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    option broadcast-address 192.168.1.255;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    next-server 本机IP地址;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    filename \"pxelinux.0\";</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>example2: server(192.168.1.2)</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">subnet 192.168.1.0 netmask 255.255.255.0 {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   range 192.168.1.3 192.168.1.11;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   option routers 192.168.1.2;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   option subnet-mask 255.255.255.0;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   option broadcast-address 192.168.1.255;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   option domain-name-servers 192.168.1.2;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   next-server 192.168.1.2;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   filename \"pxelinux.0\";</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li><code>sudo /etc/init.d/isc-dhcp-server start</code> —— 可以加入 <code>/etc/rc.local</code></li><li>Test:<ul><li><code>service isc-dhcp-server status</code></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"tftp\">tftp<a class=\"hash-link\" href=\"#tftp\" title=\"Direct link to heading\">​</a></h2><ul><li><code>sudo apt install tftpd-hpa tftp-hpa inetutils-inetd</code></li><li><code>sudo service tftpd-hpa start</code></li><li><code>sudo vi /etc/inetd.conf</code></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">tftp dgram udp wait root /usr/sbin/in.tftpd /usr/sbin/in.tftpd -s /var/lib/tftpboot</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li><code>sudo vi /etc/default/tftpd-hpa</code></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">TFTP_USERNAME=\"tftp\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">TFTP_DIRECTORY=\"/var/lib/tftpboot\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">TFTP_ADDRESS=\":69\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">TFTP_OPTIONS=\"--secure\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">RUN_DAEMON=\"yes\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">OPTIONS=\"-l -s /var/lib/tftpboot\"</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li><code>sudo update-inetd --enable BOOT</code> 重启时自启动</li><li><code>sudo service tftpd-hpa start</code></li><li><code>netstat -lu | grep tftp</code> check</li><li>test<ul><li><code>tftp localhost</code></li><li><code>get ...</code></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"网络启动文件-pxelinux0-\">网络启动文件（ pxelinux.0 )<a class=\"hash-link\" href=\"#网络启动文件-pxelinux0-\" title=\"Direct link to heading\">​</a></h2><ul><li><code>sudo mkdir /var/lib/tftpboot</code></li><li>3 种获取方式<ul><li>方式 1：从 <strong>syslinux</strong> 拷贝 —— <strong>没有默认配置</strong><ul><li><code>sudo apt install syslinux</code></li><li><code>sudo mkdir /var/lib/tftpboot/pxelinux.cfg</code></li><li><code>sudo cp /usr/lib/syslinux/vesamenu.c32 /var/lib/tftpboot/</code></li><li><code>sudo cp /usr/lib/syslinux/pxelinux.0 /var/lib/tftpboot/</code></li></ul></li><li>方式 2：从 ISO 中获取 —— <strong>后来很多 ISO 都没有了</strong></li><li>方式 3：网上下载 <strong>netboot</strong> —— <strong>推荐</strong><ul><li><code>wget http://archive.ubuntu.com/ubuntu/dists/[precise|xenial]/main/installer-[amd64|i386]/current/images/netboot/netboot.tar.gz</code><ul><li>可以在 mirrors.xxx 中找到</li><li>precise: 12.04; xenial: 16.04</li><li>eg: <code>wget https://mirrors.zte.com.cn/ubuntu/dists/bionic/main/installer-amd64/current/images/netboot/netboot.tar.gz</code></li></ul></li><li><code>mv netboot.tar.gz /var/lib/tftpboot</code></li><li><code>cd /var/lib/tftpboot &amp;&amp; sudo tar -xzvf netboot.tar.gz</code></li></ul></li></ul></li><li>配置 pxe 获取 kernel 和 initrd 的方式和路径 —— <strong>此处配置要和后面 nfs、apache 中配置一致</strong><ul><li><code>sudo vi /var/lib/tftpboot/ubuntu-installer/[amd64|i386]/boot-screens/txt.cfg</code> —— <strong>新版</strong><ul><li><code>sudo vi /var/lib/tftpboot/pxelinux.cfg/default</code> —— <strong>旧版</strong></li></ul></li><li>重点配置下面 2 行<ul><li><code>kernel ......</code></li><li><code>append initrd=...... ks=......</code></li><li>具体怎么配置下文分方式描述</li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"准备-ubuntu\">准备 Ubuntu<a class=\"hash-link\" href=\"#准备-ubuntu\" title=\"Direct link to heading\">​</a></h2><ul><li>下载 ubuntu iso<ul><li><code>https://mirrors.zte.com.cn/ubuntu-releases</code></li></ul></li><li>路径设计<ul><li>支持多个版本 Ubuntu 同时安装</li><li>Ubuntu 释放文件到：<code>/var/lib/tftpboot/ubuntu/xx.xx</code> xx.xx 为 ubuntu 的版本号，根据需求可以设计更复杂路径</li></ul></li><li>准备 16.04<ul><li><code>sudo mount -o loop ubuntu-16.04.3-desktop-amd64.iso /media/</code></li><li><code>sudo mkdir -p /var/lib/tftpboot/ubuntu/16.04</code></li><li><code>sudo cp -r /media/* /var/lib/tftpboot/ubuntu/16.04</code></li><li><code>sudo cp -r /media/.disk /var/lib/tftpboot/ubuntu/16.04</code></li><li><code>sudo unmout /media</code></li></ul></li><li>准备 18.04<ul><li><code>sudo mount -o loop ubuntu-18.04.3-desktop-amd64.iso /media/</code></li><li><code>sudo mkdir -p /var/lib/tftpboot/ubuntu/18.04</code></li><li><code>sudo cp -r /media/* /var/lib/tftpboot/ubuntu/18.04</code></li><li><code>sudo cp -r /media/.disk /var/lib/tftpboot/ubuntu/18.04</code></li><li><code>sudo umount /media</code></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"kernel--initrd\">kernel &amp; initrd<a class=\"hash-link\" href=\"#kernel--initrd\" title=\"Direct link to heading\">​</a></h2><ul><li><code>sudo vi /var/lib/tftpboot/ubuntu-installer/[amd64|i386]/boot-screens/txt.cfg</code></li><li>方式 1：使用 ISO 中 casper 的 initrd.lz 和 kernel(vmlinuz.efi) —— <strong>支持 nfs</strong><ul><li>pxe 配置<ul><li>16.04<ul><li><code>kernel ubuntu/16.04/casper/vmlinuz.efi</code></li><li><code>append vga=788 boot=casper netboot=nfs nfsroot=&lt;本机IP&gt;:/var/lib/tftpboot/ubuntu/16.04 initrd=ubuntu/16.04/casper/initrd.lz --- quiet</code><ul><li>splash：表示 loading 屏幕是否显示，禁用的话 loading 时一片空白</li></ul></li></ul></li><li>18.04<ul><li><code>kernel ubuntu/18.04/casper/vmlinuz</code></li><li><code>append vga=788 boot=casper netboot=nfs nfsroot=&lt;本机IP&gt;:/var/lib/tftpboot/ubuntu/18.04 initrd=ubuntu/18.04/casper/initrd --- quiet</code></li></ul></li></ul></li></ul></li><li>方式 2：使用 netboot 包含的 initrd.gz 和 kernel(linux) —— <strong>不支持 nfs，且 client 始终默认 http 访问 server，要求 server 必须使用 apache</strong><ul><li>前面 netboot 已经释放到 <code>/var/lib/tftpboot</code> 目录下</li><li>pxe 配置<ul><li><code>kernel ubuntu-installer/amd64/linux</code></li><li><code>append vga=788 netboot=nfs nfsroot=192.168.1.10:/var/lib/tftpboot/ubuntu initrd=ubuntu-installer/amd64/initrd.gz quiet splash</code></li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"ubuntu-live-images\">Ubuntu live images<a class=\"hash-link\" href=\"#ubuntu-live-images\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"nfs\">NFS<a class=\"hash-link\" href=\"#nfs\" title=\"Direct link to heading\">​</a></h3><ul><li><code>sudo apt install nfs-kernel-server</code></li><li><code>sudo vi /etc/exports</code><ul><li><code>/var/lib/tftpboot/ubuntu *(ro,async,no_root_squash,no_subtree_check)</code></li></ul></li><li><code>sudo exportfs -a</code></li><li><code>sudo /etc/init.d/nfs-kernel-server start</code></li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"apache\">Apache<a class=\"hash-link\" href=\"#apache\" title=\"Direct link to heading\">​</a></h3><ul><li><code>sudo apt-get install apache2</code></li><li>配置：<ul><li>……</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"client-配置\">Client 配置<a class=\"hash-link\" href=\"#client-配置\" title=\"Direct link to heading\">​</a></h2><ul><li>BIOS<ul><li>net interface pxe mode： enable</li><li>security boot：disable</li><li>不能用 UEFI,要切换到 legace only</li><li>boot sequence：net first</li></ul></li><li>推荐<ul><li>使用集成显卡，pxelinux 对扩展显卡支持不完备（异常黑屏、蓝屏、粉屏……）<ul><li>BIOS 中切换到 IDG（集成显卡），而不是 Auto（会自动到 PEG-PCI-E 显卡）</li></ul></li><li>使用小尺寸的显示器，pxelinux 大显示器支持不完备（字体、图标过大……）</li></ul></li><li>安装完毕后，网卡不能使用<ul><li>NetworkManager 中找不到网卡<ul><li>原因 1：NetworkManager 没有使能</li><li>解决<ul><li><code>sudo vi /etc/NetworkManager/NetworkManager.conf</code> 增加 <code>managed=true</code> —— 使能 NM</li><li><code>sudo service NetworkManager stop</code></li><li><code>sudo rm /var/lib/NetworkManager/NetworkManager.state</code></li><li><code>sudo service NetworkManager start</code></li></ul></li><li>原因 2：底层不让 NetworkManager 起效</li><li>解决：<ul><li><code>sudo vi /etc/network/interfaces</code> 这是底层管理网卡的配置文件，有删掉这里管理 eth0 等行，放权给 NetworkManager 管理</li></ul></li></ul></li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2019/11/04/ubuntu.net.stall",
            "title": "网络安装 Ubuntu",
            "summary": " ",
            "date_modified": "2019-11-04T11:03:36.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "ubuntu",
                "pxe"
            ]
        },
        {
            "id": "/2019/09/20/agile.book.map",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/AgileBook-8ec20e06085efa04f08241316b07d9bf.jpg\" width=\"7988\" height=\"1635\" class=\"img_E7b_\"></p><p>右键题图 -- 单独 tab 页打开/保存查看。</p><p>我创建和维护的一份敏捷书单： <a href=\"https://www.douban.com/doulist/119832208/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.douban.com/doulist/119832208/</a></p>",
            "url": "https://wkevin.github.io/blog/2019/09/20/agile.book.map",
            "title": "敏捷书谱",
            "summary": "近些年敏捷书籍的Timeline",
            "date_modified": "2019-09-20T23:38:21.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Agile",
                "Scrum"
            ]
        },
        {
            "id": "/2019/09/19/pdf.annotation",
            "content_html": "<p>字幕文件通常不嵌入视频文件，独立的字幕文件利于：存储、修改、分享、多格式、多编码……</p><p>在书籍上直接标注（Annotation）或注释（commention），即内嵌为书籍的元数据（meta data），不但破坏了原书，干扰了读者，也不利于修改、分享、尤其是合并，多人的标注能够合并、修订……这才是我们想要的。</p><p>针对不同格式 pdf（azw、epub……容我以后再研究研究）有不同的软件可以实现此目的，此处列举几个。</p><table><thead><tr><th>APP</th><th>OS</th><th>注释文件格式</th><th>说明</th><th>决策</th></tr></thead><tbody><tr><td>Acrobat PDF Reader</td><td>Win/Linux/macOS</td><td></td><td>收费</td><td><strong>放弃！</strong></td></tr><tr><td>Foxit Reader</td><td>Win/Linux/macOS</td><td>.fdf</td><td><a href=\"https://www.foxitsoftware.com/blog/using-comments-data-import-and-export/\" target=\"_blank\" rel=\"noopener noreferrer\">导入导出方法</a>比较繁琐<br>Linux 版没有此功能</td><td><strong>放弃！</strong></td></tr><tr><td>Mendeley</td><td>Win/Linux/macOS</td><td></td><td>导出文件保存在 Mendely 的服务器</td><td><strong>放弃！</strong></td></tr><tr><td><a href=\"https://sourceforge.net/projects/skim-app/\" target=\"_blank\" rel=\"noopener noreferrer\">Skim</a></td><td>macOS</td><td>.skim</td><td>仅能用于 macOS</td><td><strong>放弃！</strong></td></tr><tr><td><a href=\"http://xournal.sourceforge.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Xournal</a>、<a href=\"https://github.com/xournalpp/xournalpp\" target=\"_blank\" rel=\"noopener noreferrer\">Xournal++</a></td><td>Win/Linux/macOS</td><td>.xopp</td><td>Xournal++ 是 Xournal 的 C++ 重写升级版</td><td><strong>推荐！</strong></td></tr></tbody></table><p>Xournal++ 同时还有其他非常优秀的特性：</p><ul><li>Github 开源</li><li>方便的创建、复制、删除一页 PDF</li><li>它其实首先是个画板，可以用于鼠标、画笔等手工绘图功能</li><li>安装<ul><li>下载： <a href=\"https://github.com/xournalpp/xournalpp/releases\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/xournalpp/xournalpp/releases</a></li><li>Ubuntu 也可以 apt 安装</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo add-apt-repository ppa:andreasbutti/xournalpp-master</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt update</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt install xournalpp</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div>",
            "url": "https://wkevin.github.io/blog/2019/09/19/pdf.annotation",
            "title": "如何创建独立文件的PDF注释/标注",
            "summary": " ",
            "date_modified": "2019-09-19T14:35:45.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "PDF",
                "Xournal++"
            ]
        },
        {
            "id": "/2019/09/17/shell.var",
            "content_html": "<ul><li>定义一个环境变量用 set 还说 declar？</li><li>已定义的环境变量为什么在脚本中不能使用？</li><li>set 和 env 导出的变量一样么？</li></ul><p>如果这些问题存有疑惑，可以读一下此文。</p><p>首先啰嗦几句其他的：Linux 中 shell 和 Terminal 不是一回事，Terminal 是登录、调用、使用、管理 shell 的程序，几乎所有 Linux 发行版都会自带一个 Terminal，有些还会带多个。在 Terminal 上，可以用 Tab 页来创建、管理同时多个 shell 进程，还可以设置更符合自己美学要求的 UI。顺带安利一个强大的 Terminal：<a href=\"https://iterm2.com/\" target=\"_blank\" rel=\"noopener noreferrer\">iTerm2</a>, Linux 的可以用关键词 <strong>“best linux terminal”</strong> 来搜索。</p><p>创建一个 shell 进程，除了在本机上直接打开 Terminal 之外，还可以用远程电脑上的 Terminal（或其他工具）通过 ssh、telnet 进入 —— 前者叫“非登录式 shell 进程”，后者叫“登录式 shell 进程”。</p><p>执行一个 shell 进程，除了在 Terminal 上敲入一行，执行一行，看结果之外，还可以执行一个脚本，一次执行多个命令行 —— 前者叫“交互式 shell 进程”，后者叫“非交互式 shell 进程”。</p><p>在一个 shell 进程中敲入 <code>sh</code>、<code>bash</code> 可以创建一个当前 shell 进程的子进程，还有很多 shell 可以用，如：ash、csh、ksh、zsh…… 可以安装后使用。</p><p>OK，铺垫完毕，来看 shell 变量，即在 shell 进程（交互 or 非交互）中能够使用的。</p><p>Shell 除了特殊变量，根据作用域分为 3 种：</p><table><thead><tr><th>作用域</th><th>函数内</th><th>shell 进程内</th><th>传递给 shell 子进程</th><th>备注</th></tr></thead><tbody><tr><td>称为</td><td>本地变量</td><td>局部环境变量</td><td>全局环境变量</td><td>使用较广泛</td></tr><tr><td>又称为</td><td>函内变量</td><td>进程内变量</td><td>跨进程变量</td><td>Kevin 命名</td></tr><tr><td>又称为</td><td>局部变量</td><td>全局变量</td><td>环境变量</td><td>算有些道理</td></tr><tr><td>又称为</td><td>shell 变量</td><td>shell 变量</td><td>环境变量</td><td>有些混淆视听</td></tr><tr><td>作用域说明</td><td>仅在 shell 的函数内有效</td><td>一个 shell 进程内有效，不传递给子进程</td><td><strong>传子不传父</strong>：某进程中定义的变量会传给子进程，不影响父进程；<br><strong>改子不改父</strong>：在子进程中对变量的修改不影响父进程；<br>子进程可以与父进程使用不同的 shell（如：父进程 bash，子进程 ksh）</td><td></td></tr><tr><td>变量定义</td><td><code>function func(){</code><br><code> local a=1</code><br><code>}</code></td><td>1.<code>function func(){</code><br><code> A=1 #函数内不加local</code><br><code>}</code><br>2.<code>B=1</code></td><td>1.<code>export ABC=123</code><br>2.<code>ABC=123;export ABC</code><br>3.<code>declare -x ABC=123</code></td><td></td></tr><tr><td>变量来源</td><td>用户定义</td><td>用户定义</td><td>1.大多来自以下文件中的 export 声明：<br><code>/etc/profile</code><br><code>~/.profile</code><br><code>~/.bash_profile</code><br><code>~/.bashrc</code><br>2.用户<code>export</code>声明</td><td></td></tr><tr><td>变量使用</td><td><code>$a</code></td><td><code>$A $B</code></td><td><code>$ABC</code></td><td></td></tr><tr><td>变量查阅（单个）</td><td></td><td><code>echo $A</code></td><td><code>echo $ABC</code><br><code>printenv ABC</code></td><td></td></tr><tr><td>变量查阅（列表）</td><td></td><td><code>set</code>==<code>declare</code></td><td><code>set</code>==<code>declare</code><br><code>env</code>~=<code>export</code></td><td></td></tr><tr><td>变量删除</td><td></td><td><code>unset</code></td><td><code>unset</code></td><td></td></tr></tbody></table><ul><li><code>env</code> ~= <code>export</code>: 只 list 全局环境变量</li><li><code>set</code> == <code>declare</code>: list 全局环境变量、局部环境变量、function</li><li><code>set</code> 只能查看、修改变量，不能定义变量</li><li>环境变量声明脚本的说明<ul><li><code>/etc/profile</code> 每次用户登录是执行一次</li><li><code>~/.profile</code> 每次创建 shell 进程时执行一次</li><li><code>~/.bashrc</code> 每次新建 bash 进程会调用一次，所以 bash 子进程中会出现多次（其他 shell 子进程不会）该文件中定义的变量 —— so，变量尽量不要在该文件中定义，放到 <code>~/.profile</code> 中定义。</li></ul></li></ul><p>最后，附录一下 Shell 特殊变量：</p><ul><li><code>$0</code>： 当前脚本的文件名（不带路经，带扩展名 .sh ）xx.sh</li><li><code>$n</code>： 返回第 n 个参数。( n&gt;0 )</li><li><code>$#</code>： 统计传入的变量个数 e.g. ./xx.sh p1 p2 输出 2</li><li><code>$*</code>： 列出所有参数 。\" $<!-- -->*<!-- --> \" 整体列出</li><li><code>$@</code>： 列出所有参数 。\"$@\" 一一列出</li><li><code>$?</code>： 返回上一个命令执行的返回码</li><li><code>$$</code>： 返回 pid</li><li><code>$!</code>： 最后运行的后台 Process 的 pid</li><li><code>$-</code>： 列出 Set 命令设定的 Flag</li></ul>",
            "url": "https://wkevin.github.io/blog/2019/09/17/shell.var",
            "title": "set,env,export,declare 是如何操作shell变量的",
            "summary": "shell 变量分哪几种，及上述几个命令是如何操作的",
            "date_modified": "2019-09-17T15:20:39.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "shell",
                "linux"
            ]
        },
        {
            "id": "/2019/09/11/feedly.can.not.show.icon",
            "content_html": "<p>Feedly 前段时间升级，侧边栏做了修订，新增了 Dark 模式（但还是欠火候，对比度太晃眼，达不到 IDE 的水平，要有点灰度才显得高级）。</p><p>添加 Feed、Dark 模式、Support 3 个图标单独搞了个侧边栏 —— 这么占地方，不是很喜欢。</p><p>此次修订同时修改了网站获取图标的方式，以前一直能够正确的获取，效果是这样的：</p><p><img loading=\"lazy\" src=\"/assets/images/good-2c399fb1f0c86207809b9b3594003f13.png\" width=\"355\" height=\"231\" class=\"img_E7b_\"></p><p>但升级后成了这样：不但不显示图标，还多占了一行。</p><p><img loading=\"lazy\" src=\"/assets/images/bad-b1e57fd108031dea59daa69e686f52c8.png\" width=\"349\" height=\"402\" class=\"img_E7b_\"></p><p>本来想忍忍看，Feedly 能不能自己修订，等了个把月了，没变化 —— 失望！</p><p>解决措施：</p><p>用 gooreplacer 的 Online-rules，导入我写好的规则（地址：<code>https://raw.githubusercontent.com/wkevin/configs/master/gooreplacer/gooreplacer.gson</code>）</p><p><img loading=\"lazy\" src=\"/assets/images/gooreplacer-5c739c7d0d021276cb4216aff857dbf6.png\" width=\"878\" height=\"555\" class=\"img_E7b_\"></p><hr><p>分割线</p><p><strong>解题思路：</strong></p><p>打开浏览器的 debug 工具，看到所有 icon 都是从 google 获取的，比如：</p><p><a href=\"http://www.google.com/s2/favicons?domain=www.baidu.com\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.google.com/s2/favicons?domain=www.baidu.com</a> 可以获取 baidu 网站的图标。</p><p>搜索“favicon api”后找到几个：</p><ul><li>国外：<ul><li><code>http://www.google.com/s2/favicons?domain=[www.domain.com]</code></li><li><code>http://getfavicon.appspot.com/http://[www.domain.com]</code></li><li><code>http://grabicon.com/[www.domain.com]</code></li><li><code>http://www.getfavicon.org/?url=[www.domain.com]</code></li><li><code>http://g.etfv.co/[www.domain.com]</code></li></ul></li><li>国内：<ul><li>酷猫：<code>https://ico.kucat.cn/get.php?url=[www.domain.com]</code></li><li>国内最大 DNS 提供商（dnspod）：<code>http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=[www.domain.com]</code></li><li>网友(<a href=\"https://github.com/jerrybendy\" target=\"_blank\" rel=\"noopener noreferrer\">Jerry Bendy</a>)自制网站 BYI_API: <code>http://api.byi.pw/favicon?url=[www.domain.com]</code></li></ul></li></ul><p>试用发现，国外的全挂，国内 OK 对比一下(可以点击跳转过去看一下)：</p><ul><li>baidu:<ul><li><a href=\"https://ico.kucat.cn/get.php?url=www.baidu.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>https://ico.kucat.cn/get.php?url=www.baidu.com</code></a> —— OK（大图）</li><li><a href=\"http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=www.baidu.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=www.baidu.com</code></a> —— OK（中图）</li><li><a href=\"http://api.byi.pw/favicon?url=www.baidu.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://api.byi.pw/favicon?url=www.baidu.com</code></a> —— OK（小图）</li></ul></li><li>weibo<ul><li><a href=\"https://ico.kucat.cn/get.php?url=weibo.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>https://ico.kucat.cn/get.php?url=weibo.com</code></a> —— OK</li><li><a href=\"http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=weibo.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=weibo.com</code></a> —— Error</li><li><a href=\"http://api.byi.pw/favicon?url=weibo.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://api.byi.pw/favicon?url=weibo.com</code></a> —— OK</li></ul></li><li>twitter<ul><li><a href=\"https://ico.kucat.cn/get.php?url=twitter.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>https://ico.kucat.cn/get.php?url=twitter.com</code></a> —— Error</li><li><a href=\"http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=twitter.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://statics.dnspod.cn/proxy_favicon/_/favicon?domain=twitter.com</code></a> —— Error</li><li><a href=\"http://api.byi.pw/favicon?url=twitter.com\" target=\"_blank\" rel=\"noopener noreferrer\"><code>http://api.byi.pw/favicon?url=twitter.com</code></a> —— OK</li></ul></li></ul><p>酷猫和 DNSPod 胆子小，违禁图标不敢放；DNSPod 更是小气，很多图标不抓取；只能用网友自制的了，希望命长些。</p><p>OK，下面开始解决：</p><p>首选使用浏览器的 gooreplacer 插件（可参考我的另一篇 blog： <a href=\"https://wkevin.github.io/it/speed.net/\" target=\"_blank\" rel=\"noopener noreferrer\">告别等待，秒开网站</a> ）加上如下规则：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      \"src\": \"www.google.com/s2/favicons\\\\?domain=(.*)(&amp;alt=feed)\",</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      \"kind\": \"regexp\",</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      \"dst\": \"api.byi.pw/favicon?url=$1\",</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      \"enable\": true</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    },</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>正则表达式的规则中要特殊处理<code>?</code>问号，如果写单条规则 <code>\\?</code>即可，写入 gson 规则文件，则需要 <code>\\\\?</code>。</p><p>或者直接导入我写好的规则（地址：<code>https://raw.githubusercontent.com/wkevin/configs/master/gooreplacer/gooreplacer.gson</code>）。</p><p>图标即可正常加载了。</p>",
            "url": "https://wkevin.github.io/blog/2019/09/11/feedly.can.not.show.icon",
            "title": "修订 Feedly 不能显示网站图标",
            "summary": "Feedly 近段时间升级，导致网站图标在墙内不能正常显示，如何解决",
            "date_modified": "2019-09-11T20:18:52.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "feedly",
                "gooreplacer"
            ]
        },
        {
            "id": "/2019/06/24/travis.ci",
            "content_html": "<p>摘要：</p><ul><li>Travis-CI 免费、可配置，可能是 github 上 CI 工具的头魁。</li><li>本文简述 Travis-CI 的配置操作步骤、配置文件释义。</li></ul><p>github 能够与多种持续集成（CI）和持续交付（CD）工具融合，github 的 marketplace 中有整理好的<a href=\"https://github.com/marketplace?category=continuous-integration\" target=\"_blank\" rel=\"noopener noreferrer\">一份 CI 工具清单</a>，里面列了 20+ CI 工具，其中 10+ 个还带有“Verified by Github”的绿色认证标签，2017 年 github 推出过一篇<a href=\"https://github.blog/2017-11-07-github-welcomes-all-ci-tools/\" target=\"_blank\" rel=\"noopener noreferrer\">blog</a>，统计出 top10，Travis、Circle、Jenkins 为前三，但 2019 年我想估计排位已经变化了，至少上面清单中已经找不到 Jenkins 了。</p><p>Travis 等工具的 CI 功能相比 Jenkins 会弱一些，可配置性、灵活性、和插件都不可比，但 travis 不需要自己搭建和维护 CI 服务器，github 上 public 项目就免费提供服务，Jenkins 则需要自己搞台电脑 or 云主机，两者一比，免费的午餐又胜利了。</p><p><img loading=\"lazy\" src=\"/assets/images/travis.ci.logo-a2638ec3a34ef92d96f25480a5884678.png\" width=\"480\" height=\"240\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"travis-ci-基本步骤\">Travis-CI 基本步骤：<a class=\"hash-link\" href=\"#travis-ci-基本步骤\" title=\"Direct link to heading\">​</a></h2><table><thead><tr><th>顺序</th><th>Github</th><th>Travis</th></tr></thead><tbody><tr><td>1.</td><td>根据 <a href=\"https://docs.travis-ci.com/\" target=\"_blank\" rel=\"noopener noreferrer\">travis 文档</a>，在个人的 repo 中写 <code>.travis.yml</code></td><td></td></tr><tr><td>2.</td><td></td><td>利用 github 账号登录 <a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener noreferrer\">travis.org</a>（开源项目） 或 <a href=\"https://travis-ci.com\" target=\"_blank\" rel=\"noopener noreferrer\">travis.com</a>（私有项目）</td></tr><tr><td>3.</td><td></td><td>travis 自动同步到 github 上的 repo 列表，点击打开列表中希望关联使用 CI 的 repo</td></tr><tr><td>4.</td><td>github 中该 repo 的 settings-webhooks 中即可查看到新增了一项，可适当配置触发事件</td><td></td></tr><tr><td>5.</td><td></td><td>Travis-CI Dashboard 中可以手动触发 build、查看自动&amp;手动 build 的进度……</td></tr><tr><td>6.</td><td></td><td>Travis 被触发后，自动依次搭建环境，并在每个环境中按流程执行 install、script、deploy……中用户自己指定的动作</td></tr><tr><td>7.</td><td>使用 travis 的运行状态值</td><td></td></tr></tbody></table><p>可以有几种方式获取&amp;使用 travis 的状态值：</p><ul><li>在 blog、个人网站、github 等放置图标，<ul><li>格式：<code>[![Build Status](https://travis-ci.org/wkevin/youtube-dl.png)](https://travis-ci.org/wkevin/youtube-dl)</code></li><li>效果：<a href=\"https://travis-ci.org/wkevin/youtube-dl\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" src=\"https://travis-ci.org/wkevin/youtube-dl.png\" alt=\"Build Status\" class=\"img_E7b_\"></a></li></ul></li><li>基于 travis 的 web-API get 或 post 信息，需要用到 travis 中的 token</li><li>github 中的集成：issue、PR 中都能够妥善的获取到 travis 的状态值</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"travisyml-的书写\">.travis.yml 的书写<a class=\"hash-link\" href=\"#travisyml-的书写\" title=\"Direct link to heading\">​</a></h2><ul><li>Jobs<ul><li>指明编程语言： <a href=\"https://docs.travis-ci.com/user/languages\" target=\"_blank\" rel=\"noopener noreferrer\">支持 30+ 种语言</a><ul><li><code>language:python</code></li></ul></li><li>说明测试 job 环境：下面 3 个配置项做排列组合，会生成 （<code>python:</code> <em> <code>dist|os:</code> </em> <code>env:</code>）个 jobs<ul><li><code>python:</code></li><li><code>dist: xenial</code><ul><li>Ubuntu<ul><li><a href=\"https://docs.travis-ci.com/user/reference/precise/\" target=\"_blank\" rel=\"noopener noreferrer\">12.04 Precise Pangolin(精准的穿山甲)</a></li><li><a href=\"https://docs.travis-ci.com/user/reference/trusty/\" target=\"_blank\" rel=\"noopener noreferrer\">14.04 Trusty Tahr (可靠的塔尔羊)</a>: <code>dist: trusty</code></li><li><a href=\"https://docs.travis-ci.com/user/reference/xenial/\" target=\"_blank\" rel=\"noopener noreferrer\">16.04 Xenial Xerus (好客的非洲地松鼠)</a>: <code>dist: xenial</code></li><li>[18.04 Bionic Beaver（仿生海狸）]</li></ul></li><li><a href=\"https://docs.travis-ci.com/user/reference/windows/\" target=\"_blank\" rel=\"noopener noreferrer\">win</a>: <code>os: windows</code></li><li><a href=\"https://docs.travis-ci.com/user/reference/osx\" target=\"_blank\" rel=\"noopener noreferrer\">macOS</a>: <code>os: osx</code></li></ul></li><li><code>env:</code></li></ul></li><li>修订测试 job 环境 —— 最终的 jobs = <!-- -->[(<code>python:</code> <em> <code>dist:</code> </em> <code>env:</code>）- <code>exclude:</code> + <code>include:</code>]<ul><li><code>matrix:</code><ul><li><code>exclude:</code> : 对 （<code>python:</code> <em> <code>dist:</code> </em> <code>env:</code>） 的排列组合进行滤除</li><li><code>include:</code> ：不管上述排列组合，此处新增一些指定环境</li><li><code>allow_failures:</code> 增加滤镜</li></ul></li></ul></li></ul></li><li>运行流程<ul><li><code>before_install</code>：</li><li><code>install:</code></li><li><code>before_script</code>：</li><li><code>script:</code></li><li><code>after_success</code> or <code>after_failure</code>：</li><li><code>before_deploy</code>：</li><li><code>deploy:</code></li><li><code>after_deploy</code>：</li><li><code>after_script</code>：</li></ul></li><li>4 种返回值<ul><li><code>passed</code>：运行成功，所有步骤的退出码都是 0</li><li><code>canceled</code>：用户取消执行</li><li><code>errored</code>：before_install、install、before_script 有非零退出码，运行会立即停止</li><li><code>failed </code>：script 有非零状态码 ，会继续运行</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"实例\">实例<a class=\"hash-link\" href=\"#实例\" title=\"Direct link to heading\">​</a></h2><p>裁剪自 <a href=\"https://github.com/ytdl-org/youtube-dl\" target=\"_blank\" rel=\"noopener noreferrer\">ytdl-org/youtube-dl</a></p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">language: python</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">python:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - \"2.7\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - \"3.5\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - \"3.6\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - \"pypy\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - \"pypy3\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">dist: trusty</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">env:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - YTDL_TEST_SET=core</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - YTDL_TEST_SET=download</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">matrix:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  include:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    - python: 3.7</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      dist: xenial</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      env: YTDL_TEST_SET=core</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    - python: 3.7</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      dist: xenial</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      env: YTDL_TEST_SET=download</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  allow_failures:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    - env: YTDL_TEST_SET=download</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">before_install:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  - if [ \"$JYTHON\" == \"true\" ]; then ./devscripts/install_jython.sh; fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">script: ./devscripts/run_tests.sh</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>Travis 会为其搭建 12 套环境（docker）:</p><ul><li>5 种 python×2 种 env = 10 种</li><li>2 种 matrix-include 特定环境</li></ul>",
            "url": "https://wkevin.github.io/blog/2019/06/24/travis.ci",
            "title": "Github 的好基友：Travis-CI",
            "summary": " ",
            "date_modified": "2019-06-24T09:03:23.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "github",
                "travis"
            ]
        },
        {
            "id": "/2019/05/30/python.where",
            "content_html": "<p>摘要：</p><ul><li>python 强烈建议一律使用虚拟环境，在原生操作系统上几乎无法管理多个项目有包依赖关系冲突的情况。</li><li>操作系统级只安装最基础包，且使用<code>python3.X -m pip install</code>来安装，虚拟级 source 后可直接<code>pip install</code>。</li></ul><p>虽然一直都用虚拟环境，但还是想把系统安装的 python 路径整理一下，今天了结这个心愿。</p><p><img loading=\"lazy\" alt=\"右键查看大图\" src=\"/assets/images/python.where-0d3f68ea05055753448583179064e9be.png\" width=\"2529\" height=\"1896\" class=\"img_E7b_\"></p><p><strong>说明:</strong></p><ul><li>上图只体现 Ubuntu 系统级的 python，虚拟环境的没在图中体现。</li><li>图片大致可分左右两部分：<ul><li>左边用颜色表示：<code>apt install</code> 的 python 和 package 都在哪里<ul><li><code>apt install</code>的算系统级，文件都在 <code>/usr/[bin|lib]</code></li></ul></li><li>右边用另一套颜色和线条表示：<code>pip install</code> 到系统路径下的 package 在哪里<ul><li><code>pip install</code>的算用户级，所以都在 <code>/usr/local/[bin|lib]</code> 下</li></ul></li></ul></li></ul><p><strong>下面就 4 个典型动作给出辨析和推荐：</strong></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"python-命令\">python 命令<a class=\"hash-link\" href=\"#python-命令\" title=\"Direct link to heading\">​</a></h3><table><thead><tr><th>命令</th><th>属性</th><th>辨析</th><th></th><th></th></tr></thead><tbody><tr><td><code>$ python</code></td><td>link</td><td>/usr/bin/python 可能指向：<br>1. <code>update-alternatives --config</code>配置的某个目标<br>2. 系统 su 配置的某个目标</td><td></td><td></td></tr><tr><td><code>$ python2</code></td><td>link</td><td>系统 su 配置的某个目标</td><td></td><td></td></tr><tr><td><code>$ python2.7</code></td><td>bin</td><td>第三方库会放在某个 2.X 的版本下，具有隔离性</td><td></td><td></td></tr><tr><td><code>$ python3</code></td><td>link</td><td>系统 su 配置的某个目标</td><td></td><td></td></tr><tr><td>`$ python3.[5</td><td>6</td><td>7]`<br><strong>推荐</strong></td><td>bin</td><td>第三方库会统一放在 /usr/lib/python3/dist-packages 下，所以 python3 的第三方库要具有很好的兼容性</td></tr></tbody></table><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"pip-命令\">pip 命令<a class=\"hash-link\" href=\"#pip-命令\" title=\"Direct link to heading\">​</a></h3><table><thead><tr><th>命令</th><th>文件属性</th><th>来源</th><th>建议</th><th></th><th></th><th></th></tr></thead><tbody><tr><td>`/usr/bin/pip[2</td><td>3]`</td><td>py 脚本</td><td><code>apt install python[3]-pip</code></td><td>删去<br><code>apt remove python-pip python3-pip</code></td><td></td><td></td></tr><tr><td>`/usr/local/bin/pip[2</td><td>2.7</td><td>3</td><td>3.6]`</td><td>py 脚本</td><td>get-pip.py<br><br>/usr/local/bin/pip3 命令安装不同版本时会相互覆盖</td><td></td></tr><tr><td><code>$ python3.X -m pip --version</code></td><td>bin+model</td><td>跳过 pip 脚本，直接进入 python 的 model 执行</td><td><strong>推荐</strong></td><td></td><td></td><td></td></tr></tbody></table><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"dist-packages\">dist-packages<a class=\"hash-link\" href=\"#dist-packages\" title=\"Direct link to heading\">​</a></h3><table><thead><tr><th>命令</th><th>第 3 放包安装目的地</th><th>建议</th></tr></thead><tbody><tr><td><code>$ apt install python-XXX</code></td><td>/usr/lib/python3</td><td></td></tr><tr><td><code>$ python3.X -m pip install XXX</code></td><td>/usr/local/lib/python3.X</td><td><strong>推荐</strong></td></tr></tbody></table><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"虚拟环境\">虚拟环境<a class=\"hash-link\" href=\"#虚拟环境\" title=\"Direct link to heading\">​</a></h3><table><thead><tr><th>Name</th><th>安装</th><th>创建虚拟环境</th><th>建议</th></tr></thead><tbody><tr><td>virtualenv</td><td><code>pip install virtualenv</code></td><td><code>$ virtualenv myVenv</code></td><td>第三方包</td></tr><tr><td>venv</td><td>Python 内建 Model</td><td><code>$ python3.X -m venv myVenv</code></td><td><strong>推荐</strong></td></tr><tr><td>pyvenv-3.X</td><td><code>apt install pyvenv-3.X</code></td><td><code>pyvenv-3.X myVenv</code></td><td>Ubuntu 上对 venv 模块的简单封装<br>3.6 开始已废弃</td></tr><tr><td><a href=\"https://github.com/pypa/pipenv\" target=\"_blank\" rel=\"noopener noreferrer\">pipenv</a></td><td><code>pip install pipenv</code></td><td><code>pipenv install myVenv</code></td><td>locking...卡死，更新不了 Pipfile.lock，放弃</td></tr></tbody></table>",
            "url": "https://wkevin.github.io/blog/2019/05/30/python.where",
            "title": "Python 安装到哪 & 从哪执行",
            "summary": " ",
            "date_modified": "2019-05-30T18:11:02.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "python",
                "pip",
                "venv"
            ]
        },
        {
            "id": "/2019/05/28/pep8",
            "content_html": "<table><thead><tr><th>出品方</th><th>代码风格</th><th>美化工具</th></tr></thead><tbody><tr><td>Python</td><td><a href=\"https://www.python.org/dev/peps/pep-0008/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP8</a><br><a href=\"https://china-testing.github.io/python_pep8.html\" target=\"_blank\" rel=\"noopener noreferrer\">网友译</a>, <a href=\"https://wkevin.github.io/it/pep8/\" target=\"_blank\" rel=\"noopener noreferrer\">本人译</a></td><td><a href=\"https://github.com/python/black\" target=\"_blank\" rel=\"noopener noreferrer\">Black</a></td></tr><tr><td>Google</td><td><a href=\"https://google.github.io/styleguide/pyguide.html\" target=\"_blank\" rel=\"noopener noreferrer\">Google Python Style</a><br><a href=\"https://www.runoob.com/w3cnote/google-python-styleguide.html\" target=\"_blank\" rel=\"noopener noreferrer\">网友译</a></td><td><a href=\"https://github.com/google/yapf\" target=\"_blank\" rel=\"noopener noreferrer\">YAPF</a></td></tr></tbody></table><p>代码风格（Code Style）与编码规范还是有些差异，我以为：</p><ul><li><strong>代码风格</strong> 主要关注代码排版、一致性、易读性 —— <strong>至美</strong></li><li><strong>编码规范</strong> 概念更宏观，范畴更广泛，包括设计理念、性能优化、代码风格 —— <strong>至真、至善、至美</strong></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"psf--pep\">PSF &amp; PEP<a class=\"hash-link\" href=\"#psf--pep\" title=\"Direct link to heading\">​</a></h2><p>PSF（Python Software Foundation），Python 的官方组织。PSF 提供的文档包括：</p><ul><li><a href=\"https://docs.python.org/3/\" target=\"_blank\" rel=\"noopener noreferrer\">Python Doc (API 手册)</a></li><li>Guide：<ul><li><a href=\"https://wiki.python.org/moin/BeginnersGuide\" target=\"_blank\" rel=\"noopener noreferrer\">Beginner's Guide</a></li><li><a href=\"https://devguide.python.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Developer’s Guide</a></li></ul></li><li>资源列表：PSF 收集的各种语言的学习、开发资源</li><li><a href=\"https://www.python.org/dev/peps/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP</a> ：Python Enhancement Proposals、Python 增强建议书</li></ul><p>PEP 是 PSF 写出、收纳、提供给社区参考使用、包含新特性、规范性等内容的说明文档。</p><p>PEP 在<a href=\"https://github.com/python/peps\" target=\"_blank\" rel=\"noopener noreferrer\">github</a>上撰写、管理，自动编译 html、同步到<a href=\"https://www.python.org/dev/peps/\" target=\"_blank\" rel=\"noopener noreferrer\">网站</a>上，从 2000 年开始创建，至今（2019.5）仍非常活跃，如果是 python 的 developer，建议 star 或 watch 它，实时跟踪。</p><p>PEP 分了 8 类：<strong>核心类、已提交、已接收、讨论中、讨论完、归档、拒绝、废弃</strong>。</p><ul><li>有些 pep 很庞大，如：pep8（python 代码风格）；也有些很简短，如：pep7（c 代码风格）</li><li>有些 pep 很一本正经，如：pep569（Python 3.8 Release Schedule）；有些也很搞怪，如：pep20（Zen of Python，20 条禅学）</li></ul><p>要贡献 PEP，需要参考 pep12 的模板来写，并且 PEP 不是用 markdown 写的，而是 ReStructuredText，也是标记（markup）语言，语法比 markdown 稍复杂一点点，这里有一些语法说明：</p><ul><li><a href=\"http://docutils.sourceforge.net/docs/rst/quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\">A ReStructuredText Primer</a></li><li><a href=\"http://docutils.sourceforge.net/docs/rst/quickref.html\" target=\"_blank\" rel=\"noopener noreferrer\">Quick reStructuredText</a></li><li><a href=\"http://docutils.sourceforge.net/spec/rst/reStructuredText.html\" target=\"_blank\" rel=\"noopener noreferrer\">reStructuredText Markup Specification</a></li></ul><p>普通 Python 开发人员必读的 PEP 有：</p><ul><li>代码风格<ul><li><a href=\"https://www.python.org/dev/peps/pep-0008/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP8</a>：Python 代码风格</li><li><a href=\"https://www.python.org/dev/peps/pep-0007/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP7</a>：C 编码规范</li></ul></li><li>文档规范<ul><li><a href=\"https://www.python.org/dev/peps/pep-0256/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP256</a>：文档系统工作机制</li><li><a href=\"https://www.python.org/dev/peps/pep-0257/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP257</a>：docstrings Conventions</li><li><a href=\"https://www.python.org/dev/peps/pep-0258/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP258</a>：注释与文档转换工具</li><li><a href=\"https://www.python.org/dev/peps/pep-0287/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP287</a>：reStructuredText 书写规则</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"pep8-style-guide-for-python-code\">PEP8 Style Guide for Python Code<a class=\"hash-link\" href=\"#pep8-style-guide-for-python-code\" title=\"Direct link to heading\">​</a></h2><p>核心类 pep 是 PEPs of PEPs，目前只有 9 个，<strong><a href=\"https://www.python.org/dev/peps/pep-0008/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP8</a></strong> 位列其中，内容是 Python 的代码风格（Code Style），Python 开发人员必读文档之一。</p><p>PEP8 从 2001 年创建，至今有 141 次提交：</p><p><img loading=\"lazy\" src=\"data:image/png;base64,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\" width=\"480\" height=\"48\" class=\"img_E7b_\"></p><p>修改（提交）集中在 2002、 2012~2016 年，2019 已相对稳定：</p><p><img loading=\"lazy\" src=\"/assets/images/pep8-commit-years-0c2a4a5845b426dacfec49c3976e14f8.png\" width=\"917\" height=\"401\" class=\"img_E7b_\"></p><p>参与撰写的人不少，但 top3 都是 python 官方的人：</p><p><img loading=\"lazy\" src=\"/assets/images/pep8-contributors-a501ddd70307bf0f601025542c0e59d3.png\" width=\"428\" height=\"158\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"pep8-极简版\">PEP8 极简版<a class=\"hash-link\" href=\"#pep8-极简版\" title=\"Direct link to heading\">​</a></h2><p>PEP8 有网友翻译：<a href=\"https://china-testing.github.io/python_pep8.html\" target=\"_blank\" rel=\"noopener noreferrer\">python 代码风格指南(PEP8 中文版)</a>，目前最后更新时间 2018.8。</p><p>下面我来根据 2019.5 的 PEP8，整理一份极简版，相比上面的网友翻译，增补了：</p><ul><li>Module 级 dunder</li><li>尾随逗号</li></ul><p><strong>极简版正文：</strong></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"写可读的代码\">写“可读的代码”<a class=\"hash-link\" href=\"#写可读的代码\" title=\"Direct link to heading\">​</a></h3><p>代码的使用频率上看：读取远大于编写，所以一定要写“可读的代码”</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"每级缩进-4-空格不允许-tab-和空格混用\">每级缩进 4 空格，不允许 tab 和空格混用<a class=\"hash-link\" href=\"#每级缩进-4-空格不允许-tab-和空格混用\" title=\"Direct link to heading\">​</a></h3><p>入参和 if 分开讨论</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 函数定义的入参比函数名多1级缩进</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def long_function_name(</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        var_one, var_two, var_three,</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        var_four):</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    print(var_one)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 函数调用的入参可对准左括号 or 悬挂缩进1级</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">foo = long_function_name(var_one, var_two,</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">                         var_three, var_four)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">foo = long_function_name(</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    var_one, var_two,</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    var_three, var_four)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># if条件语句跨行时缩进：加1级即可</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if (this_is_one_thing</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        and that_is_another_thing):</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    do_something()</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"最大行宽79-字符文本块-72-字符极限-99-字符\">最大<strong>行宽</strong>79 字符，文本块 72 字符，极限 99 字符<a class=\"hash-link\" href=\"#最大行宽79-字符文本块-72-字符极限-99-字符\" title=\"Direct link to heading\">​</a></h3><ul><li>以前通常在二元运算符（+-<!-- -->*<!-- -->/ and or...）之后续行</li><li>现在推荐在二元运算符之前续行</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">income = (gross_wages</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          + taxable_interest</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          + (dividends - qualified_dividends)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          - ira_deduction</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">          - student_loan_interest)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"空行要尽量节约使用\"><strong>空行</strong>要尽量节约使用<a class=\"hash-link\" href=\"#空行要尽量节约使用\" title=\"Direct link to heading\">​</a></h3><ul><li>顶层函数和 Class 之间可以用 2 个空行</li><li>Class 内的方法之间用 1 个空行</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"源文件字符编码尽量使用-utf-8\">源文件<strong>字符编码</strong>尽量使用 utf-8<a class=\"hash-link\" href=\"#源文件字符编码尽量使用-utf-8\" title=\"Direct link to heading\">​</a></h3><ul><li>ASCII 和 utf-8 的源文件不需要“编码声明”</li><li>标准库更严格：符号<strong>必须</strong>用 ASCII，其他<strong>尽量</strong>英文字母</li><li>注释 or 字符串可以用非 ASCII 字符 <code>\\x \\u \\U \\N</code></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: str1='\\xE4'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: print(str1)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">ä</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: str2 = '\\u4f60\\u597d'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: print(str2)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">你好</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: str3='你好'.encode('unicode-escape')</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: print(str3)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">b'\\\\u4f60\\\\u597d'</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"import-每行导入-1-个模块\">import 每行导入 1 个模块<a class=\"hash-link\" href=\"#import-每行导入-1-个模块\" title=\"Direct link to heading\">​</a></h3><ul><li>import 要有顺序：标准库进口,第三方库,本地库 —— 各组的导入之间要有空行</li><li>禁止使用通配符导入 <code>from xxx import *</code></li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"module-级-dunder-必须在__future__之后其他-import-之前\">Module 级 dunder 必须在<code>__future__</code>之后，其他 import 之前<a class=\"hash-link\" href=\"#module-级-dunder-必须在__future__之后其他-import-之前\" title=\"Direct link to heading\">​</a></h3><ul><li>dunder (double underscore, 双下划线)</li><li>最早 python 对<code>__all__</code>这种符号称为魔法变量、魔法函数，后来为了破除迷信，称为 double underscore method，但太长了，被简称为 dunder symbol、dunder method……</li><li>Module 级的 dunder 有 2 个约束<ul><li>必须在 <code>from __future__ import ...</code> 后面</li><li>必须在其他 import 前面</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">from __future__ import barry_as_FLUFL</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">__all__ = ['a', 'b', 'c']</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">__version__ = '0.1'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">__author__ = 'Cardinal Biggles'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import os</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import sys</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"python-字符串的单引号与双引号等效\">python 字符串的单引号与双引号等效<a class=\"hash-link\" href=\"#python-字符串的单引号与双引号等效\" title=\"Direct link to heading\">​</a></h3><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"空格的讲究有很多\">空格的讲究有很多<a class=\"hash-link\" href=\"#空格的讲究有很多\" title=\"Direct link to heading\">​</a></h3><ul><li>括号（圆括号、方括号）内避免空格<ul><li>左括号之前避免空格</li></ul></li><li>逗号、冒号、分号之前避免空格，之后可有<ul><li>索引中的冒号前后都要避免空格</li></ul></li><li>赋值等操作符前后不能因为对齐而添加多个空格</li><li>二元运算符两边放置一个空格<ul><li>优先级高的运算符或操作符的前后不建议有空格</li><li>关键字参数和默认值参数的前后不要加空格</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 错误示范：</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">spam( ham[ 1 ], { eggs: 2 } ) # 括号里面太多空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">ham[1: 9], ham[1 :9], ham[1:9 :3] # 索引冒号前后不应有空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">long_variable = 3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">x             = 1  # 不能为了对齐等号而加空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">i=i+1 # =和+左右都要有空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">submitted +=1 # += 右边没有空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">x = x * 2 - 1 # *优先级高，左右不应有空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def complex(real, imag = 0.0): # 默认参数的=左右不能有空格</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    return magic(r = real, i = imag)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"function-annotations-前后有空格和-前无后有\">function annotations <code>=</code>前后有空格，<code>:</code>和<code>-&gt;</code>前无后有<a class=\"hash-link\" href=\"#function-annotations-前后有空格和-前无后有\" title=\"Direct link to heading\">​</a></h3><p>python3 中引入了 function annotations，它是一种注释性质的语法，用于声明入参的类型和默认值。</p><ul><li>2006 年的 <a href=\"https://www.python.org/dev/peps/pep-3107\" target=\"_blank\" rel=\"noopener noreferrer\">PEP3107</a> 首先定义了 Function Annotations</li><li>2014 年的 <a href=\"https://www.python.org/dev/peps/pep-0484/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP484</a> 补充和修订了 Function Annotations</li><li>2016 年，又发展出了 <a href=\"https://www.python.org/dev/peps/pep-0526/\" target=\"_blank\" rel=\"noopener noreferrer\">PEP526</a>，定义了 Variable Annotations</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import enforce</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">@enforce.runtime_validation</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def add_int(a: int, b: int = 0)-&gt; int:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    return a + b</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">print(add_int.__annotations__)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>表明入参 a 是 int 型，b 是 int 型且默认值 0，返回值 int 型</li><li><code>func.__annotations__</code> 返回函数入参注释信息</li><li>有@enforce 则强制类型检查，不匹配报错；不加 @enforce 则只做告警，不报错</li><li>function annotations 的代码风格要求<ul><li>=前后要有空格</li><li>冒号和\"-&gt;\"的前无，后有。</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def add_int(a:int, b: int=0) -&gt; int: # 错误示范，有3处错误</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def add_int(a: int, b: int = 0)-&gt; int: # 正确示范</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"尾随逗号在-tuple-中重要list-中无效分行中有利单行中冗余\">尾随逗号在 Tuple 中重要，List 中无效；分行中有利，单行中冗余<a class=\"hash-link\" href=\"#尾随逗号在-tuple-中重要list-中无效分行中有利单行中冗余\" title=\"Direct link to heading\">​</a></h3><p>尾随逗号（Trailing Commas）</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES0 = ('setup.cfg')  # 0</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES1 = ('setup.cfg',) # 1</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES2 = 'setup.cfg',   # 2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES3 = ['setup.cfg', 'tox.ini']    # 3</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES4 = ['setup.cfg', 'tox.ini', ]  # 4</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FILES5 = [                           # 5</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    'setup.cfg',</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    'tox.ini',</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    ]</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>类型:0 是 str，1/2 是 tuple，3/4 是 list</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">: print(type(FILES0),type(FILES1),type(FILES2),type(FILES3),type(FILES4))</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&lt;class 'str'&gt; &lt;class 'tuple'&gt; &lt;class 'tuple'&gt; &lt;class 'list'&gt; &lt;class 'list'&gt;</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>1==2 —— Tuple 中尾随逗号是重要的</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">In [42]: FILES1==FILES2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Out[42]: True</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>3==4==5 —— List 中尾随逗号是无效的</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">In [43]: FILES3==FILES4==FILES5</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Out[43]: True</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>5 中每行增加尾随逗号是有意义的，可以减少新增行时的工作量</li><li>4 中单行增加尾随逗号是没有意义的。</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"注释书写规范参考-pep257\">注释书写规范参考 PEP257<a class=\"hash-link\" href=\"#注释书写规范参考-pep257\" title=\"Direct link to heading\">​</a></h3><ul><li>与代码自相矛盾的注释比没注释更差。修改代码时要优先更新注释！</li><li>注释段落中的每个句子应该以句号+2 个空格结束。</li><li><strong>文档化注释</strong>（或称为：可生成文档的注释）需遵守 PEP257<ul><li>将来有空可以单讲一篇，先挖个坑吧</li></ul></li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"命名可用一张表格说清\">命名：可用一张表格说清<a class=\"hash-link\" href=\"#命名可用一张表格说清\" title=\"Direct link to heading\">​</a></h3><p>程序猿常见的命名风格多样：</p><table><thead><tr><th>Naming Styles</th><th>举例</th><th>使用场景</th><th>备注</th></tr></thead><tbody><tr><td>单个小写字母</td><td>b</td><td>变量名</td><td>避免使用小写 l(易与 1,I 混)</td></tr><tr><td>单个大写字母</td><td>B</td><td>变量名</td><td>避免使用大写 O(易与 0 混)、I</td></tr><tr><td>小写串</td><td>lowercase</td><td>变量名，包名，模块名</td><td>模块名对应文件名，有线系统文件名不区分大小写</td></tr><tr><td>带下划线的小写</td><td>lower_case_with_underscores</td><td>函数名，类的公开方法</td><td></td></tr><tr><td>大写串</td><td>UPPERCASE</td><td>常量</td><td>通常在模块级别定义</td></tr><tr><td>带下划线的大写串</td><td>UPPER_CASE_WITH_UNDERSCORES</td><td>常量</td><td>同上</td></tr><tr><td><strong>驼峰命名法</strong><br>首字母大写的单词串</td><td>CapitalizedWords（CapWords）</td><td>Class 名</td><td>专有名次缩写可全大写，如 HTTP</td></tr><tr><td><strong>匈牙利命名法</strong><br>混合大小写，首单词小写</td><td>mixedCase</td><td></td><td>python 抵制<br>极少特殊情况下用于函数名</td></tr><tr><td>带下划线，首字母大写</td><td>Capitalized_Words_With_Underscores</td><td></td><td>python 抵制，丑陋</td></tr><tr><td>短前缀分组+匈牙利或驼峰</td><td>bsp_getPower</td><td></td><td>python 抵制，与 C 划清界限</td></tr><tr><td>单前置下划线</td><td>_<!-- -->single_leading_underscore</td><td>用于不想被外部使用的全局变量<br>或局部变量<br>类的非公开方法和实例变量</td><td>弱内部使用<br>weak \"internal use\"</td></tr><tr><td>单后置下划线</td><td>single<em>trailing_underscore</em></td><td><code>def func(class_='name')</code></td><td>用于避免与 Python 关键词的冲突</td></tr><tr><td>双前置下划线</td><td><code>__double_leading_underscore</code></td><td>类 Foo 中的<code>__bar</code>会变成<code>_Foo__bar</code></td><td>当用于命名类属性，会触发名字重整</td></tr><tr><td>双前后下划线</td><td><code>__dunder_func__</code></td><td>Dunder（魔法）函数</td><td>不要自己发明这样的名字</td></tr></tbody></table><ul><li>Python 中没有属性是真正私有的，所以没有 private 方法。</li><li>简单的公开数据属性，最好只公开属性名，没有复杂的访问/修改方法，python 的 Property 提供了很好的封装方法。</li><li>为了更好地支持内省，模块要在<code>__all__</code>属性列出公共 API。</li><li>如果命名空间(包、模块或类)是内部的，里面的接口也是内部的。</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"编程建议\">编程建议<a class=\"hash-link\" href=\"#编程建议\" title=\"Direct link to heading\">​</a></h3><p>下面就不单纯是格式（format）的问题了，而是有利于程序运行的内容。</p><ul><li>要明白自己在用哪个 python 解释器<ul><li><a href=\"https://wiki.python.org/moin/PythonImplementations\" target=\"_blank\" rel=\"noopener noreferrer\">官方整理出来好几十个</a><ul><li>CPython: <a href=\"https://www.python.org/downloads/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.python.org/downloads/</a> 官网下载的既是</li><li>CPython 衍生的 stacklessPython, wpython, microPython...</li><li><a href=\"https://pypy.org/\" target=\"_blank\" rel=\"noopener noreferrer\">PyPy</a>：Python in Python</li><li><a href=\"https://www.jython.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Jython</a>：Python in Java</li><li><a href=\"https://ironpython.net/\" target=\"_blank\" rel=\"noopener noreferrer\">IronPython</a>：Python in C#</li><li><a href=\"https://www.activestate.com/products/activepython/\" target=\"_blank\" rel=\"noopener noreferrer\">ActivePython</a></li><li><a href=\"http://winpython.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">WinPython</a></li></ul></li><li>CPython 及其衍生底层是用 C 实现的，所以对 C/Python API 都有完美支持。非 C 语言实现的编译器虽然某些操作会快一些，但最大的问题是不支持某些只有 C 接口的库，如：numpy、scipy……</li><li>不同的编译器之间效率有差别，官方建议你仔细研究、斟酌</li></ul></li><li><code>if foo is not None</code> 优于 <code>if not foo is None</code></li><li><code>if foo == None</code> 用法错误</li><li>比较排序操作最好实现完整 6 个操作：<code>__eq__, __ne__, __lt__, __le__, __gt__, __ge__</code></li><li>变量赋值不要用 lambda，而要用 def，如：<code>f = lambda x: 2*x #不推荐</code></li><li>空\"except:\"子句(相当于 except Exception)会捕捉 SystemExit 和 KeyboardInterrupt 异常，难以用 Control-C 中断程序，并可掩盖其他问题。只适用于 2 种情况<ul><li>打印出或记录了 traceback，至少让用户将知道已发生错误</li><li>代码需要做一些清理工作，并用 raise 转发了异常，try...finally 可以捕捉到它</li></ul></li><li>本地资源用 with，使用 with 的资源要有独立的 enter、exit 方法</li><li>函数或者方法在没有返回时要明确返回 None</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">def foo(x):</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    if x &lt; 0:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        return  # No！请 return None</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    return math.sqrt(x)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>使用字符串方法而不是 string 模块<ul><li>Python 不支持单字符类型，单字符在 Python 中也是作为一个字符串</li></ul></li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># 字符串方法</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; type(str)   # str是python关键字</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&lt;class 'type'&gt;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR=\"Hello World\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; type(STR)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&lt;class 'str'&gt;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; str.lower(STR)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">'hello world'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR.lower() # str.xxx() == STR.xxx()</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">'hello world'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR[::-1]   # 翻转字符串</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">'dlroW olleH'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; import string</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR = \"Hello {0}\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; f = string.Formatter()</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; f.format(STR,\"world\")</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">'Hello world'</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR.format(\"World\")</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">'Hello World</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>字符串方法中检查前后缀：使用 .startswith()和.endswith()代替字符串切片</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR[:5]==\"Hello\"        # 切片 —— No！</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">True</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt;&gt;&gt; STR.startswith(\"Hello\") # Yes！</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">True</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>使用 isinstance()代替对象类型的比较</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if isinstance(obj, int):    # Yes！</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if type(obj) is type(1):    # No！</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>判断序列（字符串、list、tuple）为空：</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if not seq:     # Yes!</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if len(seq):    # No!</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><ul><li>不要用 == 进行布尔比较</li></ul><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if greeting:            # Yes!</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if greeting == True     # No!</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if greeting is True:    # Worse</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"自动代码美化工具\">自动代码美化工具<a class=\"hash-link\" href=\"#自动代码美化工具\" title=\"Direct link to heading\">​</a></h2><p>要实现 PEP8 中的大部分条目并不难，但要持之以恒、实现所有条目，应该还是挺难的。</p><p>一个人要实现 PEP8 中的条目并不难，但要保证一个团队都做到，应该还是挺难的。</p><p>如果有一个自动代码美化工具，当我 Ctrl-S 保存文件的时候实时帮我按 PEP8 美化一下，上面 2 个问题就都不是问题了。</p><p>帮我们实现这个愿望有：</p><ul><li>Google 出品的 <a href=\"https://github.com/google/yapf\" target=\"_blank\" rel=\"noopener noreferrer\">YAPF</a> —— 可以满足你这方面的几乎所有需求。</li><li>Python 出品的 <a href=\"https://github.com/python/black\" target=\"_blank\" rel=\"noopener noreferrer\">Black</a> —— 左手 Python，右手 Black，一家人做的东西靠得住。</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"yapf\">YAPF<a class=\"hash-link\" href=\"#yapf\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ pip install yapf</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ yapf [options] [files [files ...]]</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>常用的 options 有：</p><ul><li><code>--diff</code>: 输出 diff 文件，不修改源文件</li><li><code>--style STYLE</code>:<ul><li>\"pep8\" or \"google\"</li><li>如果当前目录下有 .style.yapf 或 setup.cfg 文件，则从此文件中读取配置项<ul><li>配置项有几十个，各人慢慢研究</li></ul></li></ul></li></ul><p><code>.style.yapf</code> 文件示例：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">[yapf]</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">based_on_style = pep8</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">spaces_before_comment = 4</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">split_before_logical_operator = true</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"black\">Black<a class=\"hash-link\" href=\"#black\" title=\"Direct link to heading\">​</a></h3><p><img loading=\"lazy\" src=\"https://raw.githubusercontent.com/python/black/master/docs/_static/logo2-readme.png\" class=\"img_E7b_\"></p><p>用了 Black，相当于放弃了自己的编码风格，完全由 Black 来接手，一个团队的代码就像一个人写的 —— 至少样子上是。</p><p>经过一段时间之后，个人手写水平也能提高，逐步逼近 PEP8 的要求。</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ pip install black</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ black [options] [mypythonfile 或 dir]</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>常用的 options 有：</p><ul><li><code>-t [py27|py33|py34|py35|py36|py37|py38]</code><ul><li>Black 会自动逐个试探每个文件的 python 版本，应用不同的风格</li></ul></li><li><code>--check</code>：只检查，不修改源文件</li><li><code>--diff</code>： 输出 diff 文件，不修改源文件</li><li><code>--include XXX</code>, <code>--exclude XXX</code>: 操作目录时的筛选器</li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"比较\">比较<a class=\"hash-link\" href=\"#比较\" title=\"Direct link to heading\">​</a></h3><table><thead><tr><th>Item</th><th>YAPF</th><th>Black</th><th>点评</th></tr></thead><tbody><tr><td>License</td><td>Apache2.0</td><td>MIT</td><td>两者都允许修改后闭源，即允许只发布二进制版本，但必须附带 License。<br>Apache 要求每个文件头上都要附带，MIT 只需要根目录下放一份即可。</td></tr><tr><td>Author</td><td>Google</td><td>Python</td><td>所以 Black 只支持 PEP8，YAPF 则可定制</td></tr><tr><td>创建日期</td><td>2015-03-18</td><td>2018-03-14</td><td>3 月是个好季节</td></tr><tr><td>提交次数</td><td>1000+</td><td>500+</td><td>截至 2019.5</td></tr><tr><td>Github Star</td><td>9k+</td><td>10k+</td><td>截至 2019.5</td></tr></tbody></table><p>找一段代码实战比较一下，从左至右依次是：原始文件、black 处理后的文件、yapf 依 pep8 处理过的文件</p><p><img loading=\"lazy\" src=\"/assets/images/compare-0fac67df6362cfce04054304d8f5a5c3.png\" width=\"1233\" height=\"757\" class=\"img_E7b_\"></p><ul><li>第 1 行：每次只 import1 个 model —— 没有帮我改过来</li><li>第 2 行：dunder 变量放置在 import 之前 —— 没有帮我改过来</li><li>第 9-18 行：空格、空行，black 和 yapf 都控制的不错<ul><li>第 17 行：google 把索引中的冒号两边去掉了空格</li></ul></li><li>第 19-23 行：因为没有超过 80 列，续行都合并到 1 行了</li><li>第 24-25 行：PEP8 中推荐的写法，black、yapf 都做了修正</li><li>第 28-32 行：PEP8 中推荐的写法，black 微调，yapf 大修 —— black 稍优</li><li>第 34 行：函数注释都能控制冒号左右的空格</li><li>第 37 行：要用 is 而不是==来比较 None —— 都没修改过来</li></ul><p>可以看出 black 和 yapf 能做的和 PEP8 比较还是有限，且目前都还在<strong>书写美化</strong>上下功夫，在<strong>代码优化</strong>上不足。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"合入-ide\">合入 IDE<a class=\"hash-link\" href=\"#合入-ide\" title=\"Direct link to heading\">​</a></h3><p>三层境界：</p><ol><li>代码美化频率较低或非强制的客官，实现功能，再绑定个快捷键，就够用了。</li><li>成为粉丝后，想要强制执行美化，对自己毫不留情的客官，就需要捆绑到“文件保存（Ctrl-S）”时自动执行。</li><li>强迫症患者或脑残粉，需要边写边美化的客官，就有上一些监控手段，各大 IDE 也都为你准备好了 Watcher 伺候。</li></ol><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"vscode\">VSCode<a class=\"hash-link\" href=\"#vscode\" title=\"Direct link to heading\">​</a></h4><p>VSCode 目前是我的主力 Editor，合入 VSCode 是刚需。</p><p>为 black 命令创建一个 VSCode 的 Task（下图中我命名为： beautifu my python code），F1--Run Task 的时候选中即可，如下图：</p><p><img loading=\"lazy\" src=\"/assets/images/task-86ab9dd201ce28117bd667699080aada.gif\" width=\"1024\" height=\"627\" class=\"img_E7b_\"></p><p>再绑定个快捷键就，爽快了：</p><p><img loading=\"lazy\" src=\"/assets/images/keybinding-49bb35c4bdab2cc4fed5c9459b219c41.gif\" width=\"1024\" height=\"627\" class=\"img_E7b_\"></p><p>VSCode 可以将 Task 配置成 watching task，或使用 \"run on save\" 之类的 VSCode 扩展，可以实现“保存文件”或“其他动作”时自动执行美化 task。</p><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"pycharm\">PyCharm<a class=\"hash-link\" href=\"#pycharm\" title=\"Direct link to heading\">​</a></h4><p>PyCharm 的 Plugin 中可以搜到一个 black-pycharm 的插件，我试用了一下没玩转，还是自己配置吧。</p><p>首先在 Settings 中添加 External Tool：</p><p><img loading=\"lazy\" src=\"/assets/images/pycharm-settings-externaltools-909b455a68052467c487de521e5bc115.png\" width=\"1072\" height=\"723\" class=\"img_E7b_\"></p><p>然后绑定到一个快捷键上：</p><p><img loading=\"lazy\" src=\"/assets/images/pycharm-settings-keymap-6094eb119719ab4033f461ad931acd7a.png\" width=\"1072\" height=\"723\" class=\"img_E7b_\"></p><p>第 1 层境界练成！开始第 2 层：使用 pycharm 的一个 plugin： File Watcher 来实现，先添加插件，然后在 Tools 中添加一个 Watcher，如下图：</p><p><img loading=\"lazy\" src=\"/assets/images/pycharm-settings-watcher-c3ad8f6173d8810c2ce1d1d6be16bdee.png\" width=\"1072\" height=\"723\" class=\"img_E7b_\"></p><p>使用效果：</p><p><img loading=\"lazy\" src=\"/assets/images/pycharm-black-ctrl-s-f9edbeb36451332bdf947cdd753fb0b8.gif\" width=\"747\" height=\"506\" class=\"img_E7b_\"></p><p>Watcher 的配置中有一个 Auto-Edit 的选项请不要勾选，否则你将会进入第 3 境界，这种感觉我试了一下，非常酸爽：</p><p><img loading=\"lazy\" src=\"/assets/images/pycharm-black-auto-0055b3881697a239ede4fa1b10cf88ee.gif\" width=\"628\" height=\"322\" class=\"img_E7b_\"></p><p>Good luck！</p>",
            "url": "https://wkevin.github.io/blog/2019/05/28/pep8",
            "title": "Python代码风格和美化工具",
            "summary": " ",
            "date_modified": "2019-05-28T17:23:15.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "PEP",
                "Python",
                "Black",
                "YAPF"
            ]
        },
        {
            "id": "/2019/05/22/floccus",
            "content_html": "<p>XMarks 前年挂掉之后，一直没有找到合适的替代，虽然 XMarks 在 safari 上有时候不能用，在 ff 上有时候生成重复标签，但还是能用的，服务关掉之后一直耿耿于怀。</p><p>直到前几天看到 <a href=\"https://www.appinn.com/floccus/\" target=\"_blank\" rel=\"noopener noreferrer\">Floccus – 跨平台浏览器「书签同步」插件</a>，终于遇到了替代品，更完美的替代品，试用了几天，几乎没有 bug，特此推荐。</p><p><a href=\"https://github.com/marcelklehr/floccus\" target=\"_blank\" rel=\"noopener noreferrer\">Floccus - Github</a></p><ul><li>支持 3 种书签文件同步方式（协议）<ul><li>WebDav：类似 Http 的网络协议，一些云盘有支持，如：<ul><li>企业云盘：<a href=\"https://www.jianguoyun.com\" target=\"_blank\" rel=\"noopener noreferrer\">坚果云</a></li><li>Nextcloud：私有云盘，即在 VPS 上搭建自己的云盘</li></ul></li><li>Nextcloud 内建书签协议</li><li>本地文件</li></ul></li><li>浏览器插件支持：Chrome、FF、Kiwi 等，不支持 Safari（遗憾）<ul><li>上不了 Chrome 的 Web Store 的话，Github 上有下载 .crx 文件</li></ul></li></ul><p>我使用的坚果云的 WebDav，配置中的 2 个提示：</p><p><strong>1. 创建坚果云的 WebDav 入口</strong></p><p><a href=\"https://www.jianguoyun.com\" target=\"_blank\" rel=\"noopener noreferrer\">坚果云</a> -- 账户信息 -- 安全选项 -- 第三方应用管理 -- 添加应用（名称随意，记住密码）</p><p><img loading=\"lazy\" src=\"/assets/images/jgyadd-bce897e67e1b1c4611fd7682708c38d0.png\" width=\"1053\" height=\"710\" class=\"img_E7b_\"></p><p><strong>2. 需要在坚果云中新建一个文件夹，用根目录我这里总是提示失败</strong></p><p>我这里新建了 floccus 文件夹：</p><p><img loading=\"lazy\" src=\"/assets/images/jianguoyun-7d969176d358dcf9c2ab6268a4d133c2.png\" width=\"696\" height=\"328\" class=\"img_E7b_\"></p><p>配置中 URL 里加上了 floccus：</p><p><img loading=\"lazy\" src=\"/assets/images/floccus-dd515f9c2781fcb62c44634a7aad4989.png\" width=\"611\" height=\"780\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2019/05/22/floccus",
            "title": "Floccus – 跨平台浏览器「书签同步」",
            "summary": " ",
            "date_modified": "2019-05-22T10:02:15.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Floccus",
                "XMarks"
            ]
        },
        {
            "id": "/2019/04/17/linux.timezone",
            "content_html": "<p>Linux 要正确显示时间需要配置几样：</p><ul><li>时间：可以手工设置，也可以配置 NTP 自动获取</li><li>时区：只能手工配置，一般装机时就配好了，后期也能修改</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"查看时区\">查看时区<a class=\"hash-link\" href=\"#查看时区\" title=\"Direct link to heading\">​</a></h2><p>查看时间：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ date</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">2019年 04月 17日 星期三 17:09:39 CST</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>其中包含了时区的信息：CST，但不幸的是时区名缩写有重复，有 4 个时区可以用 CST 缩写：</p><ul><li>Central Standard Time (USA) UT -6:00</li><li>Central Standard Time (Australia) UT+9:30</li><li>China Standard Time UT+8:00</li><li>Cuba Standard Time UT-4:00</li></ul><p>有些缩写就一目了然：</p><ul><li>GMT：格林威治时间</li><li>UTC：Coordinated Universal Time，与 GMT 有微小差别</li></ul><p>还好有这样的格式</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ date -R</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Wed, 17 Apr 2019 17:14:18 +0800</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>显示出了时区的数字形式，组合上述 2 个方式，我的电脑就是： <strong>CST +0800</strong></p><p>从下面命令再次印证：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ date +\"%Z %z\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">CST +0800</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p><code>%Z</code> 是时区的名称， <code>%z</code> 是时区的数字形式。</p><p>所以，在时间表达上，<strong>12:00 UTC+0 == 20:00 CST+8</strong> 是同一宇宙时间，是同时发生的。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"设置时区\">设置时区<a class=\"hash-link\" href=\"#设置时区\" title=\"Direct link to heading\">​</a></h2><ul><li>装机时图形化选择</li><li><code>tzselect</code> 命令行选择</li><li><code>sudo ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code></li></ul><p><code>/usr/share/zoneinfo</code> 下包含了 Linux 可以认识的时区，把他们 cp 或 ln 到 <code>/etc/localtime</code> 即可完成设置。</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ ls /usr/share/zoneinfo</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Africa      Cuba     GMT0         Japan              Pacific     Turkey</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">America     EET      GMT-0        Kwajalein          Poland      UCT</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Antarctica  Egypt    GMT+0        leap-seconds.list  Portugal    Universal</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Arctic      Eire     Greenwich    Libya              posix       US</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Asia        EST      Hongkong     localtime          posixrules  UTC</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Atlantic    EST5EDT  HST          MET                PRC         WET</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Australia   Etc      Iceland      Mexico             PST8PDT     W-SU</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Brazil      Europe   Indian       MST                right       zone1970.tab</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Canada      Factory  Iran         MST7MDT            ROC         zone.tab</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">CET         GB       iso3166.tab  Navajo             ROK         Zulu</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Chile       GB-Eire  Israel       NZ                 Singapore</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">CST6CDT     GMT      Jamaica      NZ-CHAT            SystemV</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ ls /usr/share/zoneinfo/Asia</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Aden        Chongqing    Jerusalem     Novokuznetsk   Tashkent</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Almaty      Chungking    Kabul         Novosibirsk    Tbilisi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Amman       Colombo      Kamchatka     Omsk           Tehran</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Anadyr      Dacca        Karachi       Oral           Tel_Aviv</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">……</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"转换时间\">转换时间<a class=\"hash-link\" href=\"#转换时间\" title=\"Direct link to heading\">​</a></h2><p>zdump 命令类似酒店大堂里的一排钟表，让你立即直到另一个时区的时间，比如：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">~$ zdump Japan</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Japan  Wed Apr 17 18:23:55 2019 JST</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>但 zdump 命令的使用中需要注意几个细节：</p><table><thead><tr><th>正确</th><th>错误</th><th>原因</th></tr></thead><tbody><tr><td><code>zdump PRC</code></td><td><code>zdump China</code></td><td>/usr/share/zoneinfo/ 下没有 China，会给出 UTC</td></tr><tr><td><code>zdump Asia/Shanghai</code></td><td><code>zdump Shanghai</code></td><td>因为要加上 /usr/share/zoneinfo/ 下的路径</td></tr><tr><td><code>zdump Hongkong</code></td><td><code>zdump Asia/Hongkong</code></td><td>因为 Hongkong、PRC、Japan 等一批 不在 Asia 目录下，在 zoneinfo 根目录下</td></tr><tr><td><code>zdump Hongkong</code></td><td><code>zdump HongKong</code></td><td>因为区分大小写，K 字大写了，时区名称都是只有首字母大写</td></tr></tbody></table>",
            "url": "https://wkevin.github.io/blog/2019/04/17/linux.timezone",
            "title": "Linux 中的时区",
            "summary": " ",
            "date_modified": "2019-04-17T17:06:09.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "timezone"
            ]
        },
        {
            "id": "/2019/04/10/pylon.sharpness.indicator",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/pylon-sharpness-indicator-842325d236c50dc56d70cf3fbae0b61c.png\" width=\"730\" height=\"527\" class=\"img_E7b_\"></p><p>当调节镜头焦距时，随着图片的清晰程度变换，指示器会给出锐利度的值，帮助用户判断是否最佳。</p><p>使用中发现的问题：</p><ul><li>亮度较低时指示器会失效：调节焦距值不变</li><li>对平面参考意义大一点，对 3D 物品参考意义不大，也很难给出一个满意的值</li><li>彩色图片比黑白的更准确些，测试中彩色图片能够达到 99%，黑白的要差一些</li></ul>",
            "url": "https://wkevin.github.io/blog/2019/04/10/pylon.sharpness.indicator",
            "title": "PylonViewer 新增一个锐利度指示器",
            "summary": " ",
            "date_modified": "2019-04-10T09:09:03.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "basler",
                "pylon"
            ]
        },
        {
            "id": "/2019/03/19/read-app",
            "content_html": "<ul><li>保护眼睛当然 Kindle，但笔记和分享的体验和其他差的很多，比 Kindle APP 也差很多</li><li>iPad 上的 APP 微信阅读、多看都非常好，加上 pencil 可达到快速阅读、方便分享的阅读体验</li><li>我在 Kindle 和多看上买过书，如果图放心，还是在 Kindle 上买书，看到我 2012 年的购买记录，不会担心哪天 App 挂了导致书白买了。</li><li>微信阅读书城的书少的不能忍，但通过分享、赠币等方式，正版书基本可以不花钱读，腾讯豪爽，赞！</li><li>最终推荐：<ul><li>正版书：Kindle</li><li>本地书：休闲类-Kindle，技术类-多看</li></ul></li></ul><table><thead><tr><th>比较项</th><th>Kindle</th><th>微信阅读</th><th>多看阅读</th><th>豆瓣阅读</th></tr></thead><tbody><tr><td>书城</td><td>书最多，但购买只能在 Kindle 上，<br>APP 上不能购买</td><td>最少，技术书基本没有<br><strong>【不能忍受】</strong></td><td>一般</td><td>很少，主打原创、连载</td></tr><tr><td>上传本地书</td><td>Kindle/APP：连 USB 上传，或邮箱发送<br>Kindle4Mac:直接打开 mobi 文件</td><td>无此功能<br>只能读书城的</td><td>APP 中打开 wifi 上传，通过浏览器上传<br><strong>【最为喜欢】</strong></td><td>无此功能<br>只能读书城的</td></tr><tr><td>本地书云存储</td><td>无</td><td>无</td><td><strong>有</strong></td><td>无</td></tr><tr><td>APP 间书架同步</td><td>无</td><td><strong>有</strong></td><td><strong>有</strong></td><td>无</td></tr><tr><td>连续滚动阅读</td><td>KindleAPP：购买的书大部分支持<br>本地书基本不支持<br><strong>【不能忍受】</strong></td><td>OK</td><td>OK</td><td>OK</td></tr><tr><td>翻译</td><td>OK</td><td>无</td><td>OK</td><td>无</td></tr><tr><td>分享</td><td>只有购买的书才能分享，本地书不允许<br><strong>【不能忍受】</strong></td><td>Nice</td><td>是一张图片+二维码</td><td>是个链接</td></tr></tbody></table>",
            "url": "https://wkevin.github.io/blog/2019/03/19/read-app",
            "title": "阅读APP对比",
            "summary": "最近试用了几款阅读APP，比较一下",
            "date_modified": "2019-03-19T23:23:05.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "kindle",
                "微信阅读",
                "多看阅读",
                "豆瓣阅读"
            ]
        },
        {
            "id": "/2019/03/10/Scrum",
            "content_html": "<p>《Scrum:The Art of Doing Twice the Work in Half the Time》翻译成《Scrum：事半功倍的艺术》多好，但中信出版社翻译为《敏捷革命：提升个人创造力与企业效率的全新协作模式》，我真是不明所以。<br>\n<!-- -->作者 Jeff Sutherland and JJ Sutherland，父子俩，最末章节有说明，儿子只是精神鼓励。<br>\n<!-- -->2014 年出版，2017.4 中信翻译版。</p><p>本周末用了 8h 读完，其实 8h 有水分，边玩边读，陪女儿和她的几个朋友在滑冰场溜冰，冻得伸不出手，不时的站起来走动取暖，ipad 不锁屏，所以虚算了不少时间。</p><p><img loading=\"lazy\" src=\"/assets/images/8h-c6ff8bc3f7799a801056e7f30937da1d.jpeg\" width=\"1440\" height=\"693\" class=\"img_E7b_\"></p><p>第一次在微信读书上读完一本书，比多看和 kindle 不太一样，挺有趣的使用体验。</p><p>微信读书 + iPad + pencil + scrum = 读书效率事半功倍（Doing Twice the Work in Half the Time），哈哈。</p><p>下面是每读完一章的总结回顾，槽点调侃而已，帮助记忆，不可当真。</p><ul><li>第一章 世界的运作方式已经打破<ul><li>总结回顾：【约翰逊力挽狂澜的故事】</li><li>2001 年 911 后，FBI 启动了虚拟文档项目，失败;</li><li>2005 年又启动了哨兵项目！洛克希勒承包，2009 年也近乎失败;</li><li>这时约翰逊入职 FBI，2010 年用敏捷救活了哨兵，自己做 po 和 sm。</li><li>但是，这里面好像没作者啥事呀？作者只是一旁观者，不注意的还以为作者完成的项目。</li></ul></li><li>第二章 Scrum 的由来<ul><li>总结回顾:【scrum 的由来，也是作者开挂人生的简短回忆录】</li><li>作者杰夫(姐夫，哈哈)越战时是飞行员，越战后到斯坦福读统计学硕士，然后到当老师教数学和概率，又考上了医学院的博士，研究细胞的自适应<!-- -->*<!-- --> 系统。</li><li>毕业后到 IT 公司搞软件开发，后来用生物医学里的系统论来改造瀑布开发模式。</li><li>九几年在 iRobot 公司里搞机器人，和一家软件公司里大骂甘特图。</li><li>终于有一天，易索公司无聊的时候，看到了 2 个学习了戴明环 PDCA 的日本人 7 年前发表的一篇文章《新产品开发游戏》，犹如醍醐灌顶，又如打通了<!-- -->*<!-- --> 任督二脉，scrum 诞生了。</li><li>有了 scrum 的加持，姐夫大胆的诅咒一家 xx 公司“要么 scrum，要么倒闭”，呵，还真让他咒倒闭了。</li><li>这人生还真精彩，自叹弗如啊！</li></ul></li><li>第三章 聚焦团队，而非个人<ul><li>回顾总结: 【本章进入价值观的讨论】</li><li>发现了团队效率可差百倍，全能团队很流行，指责别人和自己时的双重标准……等现象;</li><li>列举了西点军校最差班级变凤凰，战地记者儿子牛，特种部队协同作战……等例子;</li><li>得出:团队要小而精，仆人式 SM，自主决策，要着眼于规则，勇于改善规则和制度……等价值观。</li></ul></li><li>第四章 以周期性的视角看待时间<ul><li>回顾总结:【冲刺与立会】</li><li>姐夫在一家做车的公司看到人家每周复盘，起名冲刺。</li><li>在一家做宇宙飞船的公司和宝蓝公司学到了每日立会。</li><li>最后举例朋友用冲刺和立会在短时间内装修房子。</li><li>姐夫自己参与的应该只有宝蓝公司的项目，其他都是所见所闻，甚至道听途说，别人的东西写到自己的书里，也不知道作者脸红不脸红。</li></ul></li><li>第五章 浪费是一种犯罪<ul><li>总结回顾: 【三一四不】</li><li>一心一意，一鼓作气，一次做好。</li><li>不是敬业(加班)，不定荒谬目标，不搞繁文缛节，不要英雄人物和搅屎棍。</li></ul></li><li>第六章 务实规划，拒绝空想<ul><li>总结回顾: 【用户故事大法好】</li><li>用斐波那契数列的计划扑克避免从众和光环效应，</li><li>用 INVEST 标准的用户故事来描述需求，</li><li>用巨大的决心和一定的牺牲来推行 scrum。</li></ul></li><li>第七章 把快乐转化为更高的绩效<ul><li>总结回顾: 【快乐的自我管理】</li><li>回顾会的 4 个问题，</li><li>看板的透明度，</li><li>快乐王道，快乐分享，快乐提问，快乐三感(自主感，掌控感，目标感)。</li></ul></li><li>第八章 找到最有价值的 20%<ul><li>总结回顾:【PO 压轴出场】</li><li>定义了 PO 角色和指责。</li><li>PO 的决策回路可以让团队聚焦 20%最有价值的任务。</li><li>“免费变更需求”体现了敏捷拥抱变化，不惧风险。</li><li>最后一节“明天你要这么做”一定要度给团队听。</li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2019/03/10/Scrum",
            "title": "Scrum：事半功倍的艺术",
            "summary": " ",
            "date_modified": "2019-03-10T23:10:38.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "scrum"
            ]
        },
        {
            "id": "/2019/03/07/vscode-new-feature",
            "content_html": "<p>很久没有升级 VSCode 了，今天有空 update 了一下，顺便把几个版本的 new feature 看了一遍，摘录我喜欢的几条如下：</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"129201810\">1.29(2018.10)<a class=\"hash-link\" href=\"#129201810\" title=\"Direct link to heading\">​</a></h2><ul><li>Workbench<ul><li>左侧搜索功能中新增“多行搜索” shift+enter 新开一行</li><li>References view 转正，不再是预览版<ul><li>References view: 左边的一个新图标、新窗口，只有执行一次 Find All Reference(Shift+Alt+F12) 才会出现</li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"130201811\">1.30(2018.11)<a class=\"hash-link\" href=\"#130201811\" title=\"Direct link to heading\">​</a></h2><ul><li>Debug &amp; Task<ul><li>task.json<ul><li>\"runOptions\" 中<ul><li>新增 \"runOn\" 配置，如<ul><li><code>\"runOn\": \"folderOpen\"</code> ：打开文件夹是自动执行此 task</li></ul></li><li>新增 \"reevaluateOnRerun\" 配置，配合 workbench.action.tasks.reRunTask 使用， 如：<ul><li><code>\"reevaluateOnRerun\": false</code> ：</li></ul></li></ul></li><li>\"presentation\" 中新增 \"clear\" 配置，如<ul><li><code>\"clear\": true</code>：执行此 task 时自动清理 terminal</li></ul></li></ul></li><li>增加 <strong>\"input variable category\"</strong> ，task.json 和 launch.json 都有效<ul><li>以前 launch.json 中可以使用 <code>${command:pickNodeProcess}</code> 来实现提示用户输入参数，但 task.json 中不能实现此功能</li><li>本次新增的用户输入功能在 launch.json 和 task.json 中都有效</li><li>使用方法<ol><li>增加变量类： <code>\"inputs\": [{\"id\":xxx, \"type\":xxx}, {\"id\":xxx, \"type\":xxx}]</code> 其中的变量可以是：<ul><li>id：即 name</li><li>type：promptString（输入提示框）、pickString（选择框）</li><li>description</li><li>default：默认值（用户之间回车时的值）</li><li>options：type=pickString 时的选项</li></ul></li><li>增加变量：在 task.json 的 \"tasks\" or launch.json 的 \"configurations\" 中增加 input 变量<ul><li><code>${input:&lt;id&gt;}</code> id 即上面 inputs 中的 id</li></ul></li></ol></li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"131201901\">1.31(2019.01)<a class=\"hash-link\" href=\"#131201901\" title=\"Direct link to heading\">​</a></h2><ul><li>扩展<ul><li>安装扩展不再需要重启: 个别</li></ul></li><li>Workbench<ul><li>树型目录<ul><li>中可以敲入字符进行筛选，然后点击树根右边的字符仅显示筛选结果</li><li>任意选中 1 个，Ctrl+A 可选中同级所有</li></ul></li><li>新增录屏（Screencast）模式<ul><li>F1-Toggle Screencast Mode</li><li>然后键盘和鼠标的输入都会有特别标识</li></ul></li></ul></li><li>Debug &amp; Task<ul><li>\"inputs\" 变量类中的变量新增 1 套：command，用于提前测试用户的输入<ul><li>type：新增 command 可选值</li><li>command：新增参数，指定一个 command</li><li>args：command 的入参</li></ul></li></ul></li></ul><h1>Task</h1><p>还重新整理了一下 Task 的用法：</p><p><strong>task.json 文件</strong></p><ul><li>创建<ul><li><code>F1</code> -- <code>Tasks:Configure Tasks</code> -- <code>Create task.json</code><ul><li>会在 ./.vscode/ 下新建 task.json</li><li>如果非第一次创建，则不会有 create task.json 选项</li></ul></li></ul></li><li>打开<ul><li><code>F1</code> -- <code>Tasks:Configure Tasks</code> -- 选中某条</li><li><code>Ctrl+P</code> -- <code>tasks.json</code></li></ul></li><li>编辑 <code>tasks.json</code><ul><li>label:</li><li>type:<ul><li>shell:在 bash, cmd, or PowerShell 中运行，参数会传递给 bash</li><li>process:新开线程运行，弄不好会找不到路径</li></ul></li><li>command：</li><li>windows：</li><li>group：只有 build、test、none 3 种，分别对应不同的 Command： Run xxx Task</li></ul></li><li>执行 Task<ul><li><code>F1</code> -- <code>Tasks:Run Task</code> -- 选择 1 个 task</li><li><code>F1</code> -- <code>Tasks:Run Build Task</code> // 快捷键：Ctrl+Shift+B</li><li><code>F1</code> -- <code>Tasks:Run Test Task</code></li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2019/03/07/vscode-new-feature",
            "title": "VSCode 最近几个版本的新功能",
            "summary": " ",
            "date_modified": "2019-03-07T18:10:07.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "vscode"
            ]
        },
        {
            "id": "/2019/01/01/frend.with.time.2019",
            "content_html": "<ul><li>做事的人无所谓悲观还是乐观，我们只关心如何把事做好。</li><li>小趋势是影响趋势的趋势，是带来改变的改变。</li><li>多元思维模型。</li><li>非共识：异端邪说——伟大革命——稀松平常</li><li>良知良能、信用飞轮</li><li>长期主义：有意瞄准，无意击发。</li></ul><p>完整内容导图如下（<strong>双击查看全屏大图</strong>）：</p><img loading=\"lazy\" src=\"https://www.plantuml.com/plantuml/svg/TLXBRnj74hxxL_2o9oF1sewn6-mb2ooonnoosBkHQ1DZOpbm7EnYJqDI58VF8Qq7AN8eKX9VeYIIaYYA7Bx-YpFLFNFANzYlkeSFEGuW2CEPwkhgUdprLN_nqziNRzw-UhdzxQiNFpxwwTyljtzyyUR5gz2hrzkll_d-pUjNMw6tRtxUslZozVSlldtzdvVRtttuuMzR_thnymzl_x7rtxT__U7bTzkljhRVXhx1lwqtlvNwylNsswzV_cyhzEJfeqUFGw8mz0i3MTeHTegirAF7ZqCqDMGlZgV78NTM4tO2_o7WTK_8VFVhDEqjZjnHnnqToeCqMKq8w4-_697tnZx-t55SJWR-krEjOzAWH0Rho2fI-b0KUtA_AWOJg7H7XXzjaxdx5vdjazrU2vavrzdLSiA-z9oBbN9wb_Oic-e3Lluuv4_oL3_tnp7gNqCrTOUoETEVX9bt9vUqYFad4tTS4z7U1yQBv4naJaKs0JjSfnp87zhYyXJ6_MA4vMvLH1BAKDjhB633KdEEniffanJbRuKnuQtd9jKpeXB1Bkk5uwhN7P7LyQ8pkTyMbOOm35hSGSQTLxoxmxMCijDhXiN-N2HImLuXoYV9lD3RIgSZJkzeb8PflftnutayY4fM71pYWHgckwXGVv-VkmdA5FXXDA9kXJ9PFasvx8wkg3pZzva3kT_tahUimRuMXIlMUL6aIftVu3JscPnO_B8nf6x1FytflUYTUXdFapF2WxTN4OEmp9VrNjxW3cfPyh17bUQdM80VhfCMjYbkRlM9mYNNIV6v7KUVoxjlmvrYkkzrRzWn8sTJHjWPIfveoSttxAhSCNLB78T2pQySmsn4agOrdTJUITipqdH_yzkra1S9m-llYSYDrufuYoAl7UVm30E2HB0w5BkbHPIQ4NTs8999B8SIQimuZxhdNhn3zzTAOSeTbQYEXwmxIb8cBkpgAbceQq4jz6_ceyWso2fWBQVylCi2YSnQnkgXQb1OCDATsN28oiUW0aIr8NExNlATg4qtCvsFC3scs1qazGChhv-ZZ7HnUASNb8vHUQ2r1URrnWyyKsbulG4M-gKvLhcZ38rlK8kKA_mwhKAOt_oEF3xXltTVTIU731iJmnsRyA6ydM2jtavN7dl9wh3Co92jZBIhukgCCIPrxPTHRQZN11klpUxMnIYsmWE8GLwMHwgQY-ua8tU6CdebpMlgHbTUahE2A4_nds9zXMfzonkcABbGIVZqZq_-35ioA4lQXTKMrLlYBhoCM1WHWBTmCfIwJ7SuAyTLJgvkYVCkNGTQ-MTPiivqJY-LkwEvEqy5vTgQKB8jzX7BuYVkuWJrpwbwq1UPBZ2EgewitchHvtzd87OdPvnzevWyTyZg-vLJzi4kCAN1MryRWTxqXQmXJqjFFl_iJo5X6ou2Ksz1DrbvKSowOwIZ4T9k2CbKGKHlEJH6AJXUlRKqTfrougWB0GIKJHoDX6cnALSJplzSY-teJKHY_j2BgrySayHOHiR13cjty0wh3Td4leMJad7qWIIBpQvfBxEIr0zi1JwDcWoT-sEq1pPGFJnwS9Z0D_CibU6saZUCUJjvP9wS19dd5nT-F8rF_dWXhQlrfmV7y8s9Dyy7nbKiCJH567sZ97eMvwfrvSsQ5BRzIat13kEC7vq1V81-idh5ZXeFtT4-HIrXNsZvG5jZjjPsSyBLlHJWGwA7S3caLhi4s7Wtt7GVLvnHyOoeE1pJ534gwJfwRpJnXth1BgYKzTgDetraRVm4qOSOueIIr724Dwn70Ht5TwaUvqEPVM5t40DvbT1LnZKbBoz3Jq9-eSj7WYBqEB08iyz0sJtMaA4yh0iM6e1-id4iMqMkgDakUgPVok5d4BrP0Sw7aQ0FWSfc68Q9OaCSbTYsGWC8G37JMyHTPn7a-3BJgmq_l0VRPRUWiJdeC27AHC59q4S1uleBpVQ0CgXuPKSDsm3QLe3k3S_Grj5DHJgi4SgxQlgxxvXxz9kKoQikbU5LoJO3OhBDM0cY0yrE4zkkuRNUegicGp3QIQOMUlw7uBtTrirObxWxBG3hAT_68NH74T4OesfqvjtTorfOOoLJ5oU89VRL9sOSH9_3HlKIeuighw1kCk7D9T2sMhLk9pScZMBYLhCrS2Bl-YJqpwz3m5RA1hN3KRVkEUDtB8I7OmDxdBBcHGmkSVR64k8DP8zUmcPeIPqIggDeuLMQCaYeNGCaGc--FT2P6lXPMQBx0HAC7SxfU8bq14RASZT8ToN6Y9uiCwxPXcmRSig8fb_gN53TVFDmS1l5eZhhHFk4ZbDS6haTzjm43Rta6J4--eO0CeMDNNHbPBewjFAqmrlbqepcI1yxGR4sjwSoE6164SawPrCheZaWp80yUXzpfvCqdAJZXiA2GgIdE794ZA5TrEAqAAo2vbatNXfqiYzI2PhVBulnwODY53jLnFgzOJCynQwztkvxex9HbMIMnM5VSVzBRz3MtVO3yLKYmnNeY2BxJXmsu7v-JYpGcZb4-BHpBPiJlGfVkQSQDVsJJtGmW7DGixAT0iyXwsArnJeDJy5Qbmru6f4NFJ_IGGCEHWhLulpAEULdGNzl6w8of_4jNATNeQS__VHPI1pjOHd3cSFTOnDJN2UFuSOlpyM1xjkobHT98_GCBRz4yrIWkPMdyGIy2yD429K2cWKlWz6wJWcuWOUbHo1qW49cn8mxp4vGUd2YpSnVgzObp17TC5VbWHf0L0xBrZavrkOujE7qzHQX9yy_UVOyH3TXD7YcjxrZRFdRdQY_wo83L8lKst1RKvuJHijrMZ9n_l4DLjefb_qzxHv632k3_4TMUwqTE0sbx8Ulm3Ez_WQnH3KUwGWB0up4zEPpKAcW4o-3ZyHHt0OPaM5ggGWZrtatocqDDGoy1cbTpEH1Guza-Ec72xGehgOoofiyFSQPYduqcrRRCOLmC5XcHNaWWDJr7IOawbFW3T2VQoQOQfP3Qwrx66kMMOp67lJjcmGv1sfOxQXHgIrcjkWFrg1VFcQ4wcNS6QCpJHsUQTNFWB2huOCtKYMufhheA6gjXXDjWEu7Y9hkcMg0RWDNWjfDf4Jt3evYf-qgReuq2cVMm-fohvKVLjkXyv5PGabGYr4LrQo_wbqKo1h81T1AU9XNPQlimy8vXYf0cYxV07nJ3ONKPOert6aDr4gnXgC0pUz1XMjiiCgz84Qt1sYDN6Ha5iLHOGbYpzOWjk9OLA_oeTVO1JuDAWL8yMR1k0-eO_2fCq_WG29x5H_3F28h1dOAZfsEeFC4TmdE3btbDjsqgLP3CVkeDvRP7fr6kHpqPDzEeSzJlUFEihzpxI6FvbnCsX0S8vqNPa1pwBn4hSd3bqZJao7c0NmBXEuRWA0FXT0yk36StObQdeFJcArSfDiz1kdWjYKs59Sdcm8wvlgcPLaPfpYRI8CNBJVuwiklC4uEg0rcLFhyIOZrAMmBlglx4oRrSh8dAXnakL_ouhURBpclLKwjIqJzPFSfWGsN5IcNeFv-e1r1uEiayCZpXJTChYwdTANh07gz1bLAr5L0KQvXEDPEHZJyWmLY2-rQ3s2GsvI-35Z4nQIk6IuqoCL4zkBC9zJ34hGusAXcTHL6jebvWIpJdPNv_wYbkI8Bx0-z0aR6CGk4x_dFxijMJno7APT7wzdWnvyzo6Qm43zk0VTehuF5gAPbGelKb24750uvfyQmzIZ2mCJu20Qd1mtWLxQXw1XtUD1ICklYK6LxrCPHDU4LbHCzRQumET7ZAadqu66TtUiSUgW9sKUnUvt8-srj3z3Bxu2FcNm2rLYMbGWH_-pOctMNXtw-FBJEp9q5U2DqSwCCbmBthcjvS_QaP0S-uj1Ym3vO2BkgRmFuKnsyxnmZ4iTXMeA_vQ37Lt6DkBSOByy8MpPuV4oYtvrqqTxH-_Z8bGPVUEpUK3teZ4o8bK0GC-hFwQolxGBKxrZoU0TZa1e-QdoC-0HukBgUo-wITSCpGdb0ZNqnPBwgPZmrtdIZh4CHSdqvfK0zuyqkcQwFJAZP_2cid3ilAqBcu8Gwt_GjXJUtlS7oKYaa-YDlOUiH113aJljwcE0CYPm198Gza8EQRfa1cbic-f2Cckn9bQJiXMHxfLANZ9DQmJvF2rDEHpLJgc9kHiInpPSkgjgP54JEkE-WAXT5DCVLslKrZDEKYpwP1NT--IYuRzAJ90kgMmiHknUnTf2FoIIF3sPSfhjoSgJ1QWqN0IShBW0Ptg22dYAddKTVR6r_6roa_ny0\" class=\"img_E7b_\"><p>最后，还推荐了何帆的新书，一本准备每年写一本， 长期主义写 30 年的书：《变量》 —— 我当即下单买了一本。</p><p><img loading=\"lazy\" src=\"http://s8.sinaimg.cn/middle/001LG4PIzy7qptoy3lU6a\" alt=\"变量\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2019/01/01/frend.with.time.2019",
            "title": "时间的朋友",
            "summary": "2018.12.31 深圳春茧 倒数第17场时间的朋友",
            "date_modified": "2019-01-01T10:32:09.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "小趋势",
                "非共识",
                "长期主义",
                "变量"
            ]
        },
        {
            "id": "/2018/12/29/jupyter.nbextensions",
            "content_html": "<ol><li>jupyter-nbextensions-configurator</li><li>jupyter-contrib-nbextensions</li></ol><p>都叫 nbextensions，哪个更 nb? 哪个是官方的?</p><table><thead><tr><th>扩展</th><th>Pypi</th><th>Github</th></tr></thead><tbody><tr><td>jupyter-nbextensions-configurator</td><td><a href=\"https://pypi.org/project/jupyter_nbextensions_configurator/\" target=\"_blank\" rel=\"noopener noreferrer\">pypi</a><br>提供图形 UI 供用户使能扩展，属于 jupyer server 端配置</td><td><a href=\"https://github.com/Jupyter-contrib/jupyter_nbextensions_configurator\" target=\"_blank\" rel=\"noopener noreferrer\">github</a></td></tr><tr><td>jupyter-contrib-nbextensions</td><td><a href=\"https://pypi.org/project/jupyter_contrib_nbextensions/\" target=\"_blank\" rel=\"noopener noreferrer\">pypi</a><br>nb 的扩展集合，多是前端浏览器的 js 脚本。<br>特别声明：非官方</td><td><a href=\"https://github.com/ipython-contrib/jupyter_contrib_nbextensions\" target=\"_blank\" rel=\"noopener noreferrer\">github</a></td></tr></tbody></table><p>2 个扩展本是一家，名为：IPython-notebook-extensions. 不知道什么时候分家了，拆成现在的这 2 个。一个专注于 Server 端的扩展管理，一个专注于前端的 js 脚本。从这里也可以看出，扩展肯定不止 1 个（我们后面再谈）。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"先说专注于-server-端的-jupyter-nbextensions-configurator\"><strong>先说专注于 Server 端的 jupyter-nbextensions-configurator</strong><a class=\"hash-link\" href=\"#先说专注于-server-端的-jupyter-nbextensions-configurator\" title=\"Direct link to heading\">​</a></h2><p>安装：<code>pip install jupyter_nbextensions_configurator</code></p><p>然后就多出了 jupyter-nbextensions_configurator 命令，执行此命令使能之：</p><p><code>jupyter-nbextensions_configurator enable</code> == <code>jupyter nbextensions_configurator enable</code></p><ul><li>会提示已把配置写入了 <code>~/jupyter</code>，其实是 <code>~/.jupyter/jupyter_notebook_config.json</code> 文件，打开可以看到这种字样：<ul><li><code>\"jupyter_nbextensions_configurator\": true</code></li></ul></li><li>并且默认使能了 2 个最基本的扩展<ul><li>config_menu（文档里又称为： edit menu）</li><li>tree_tab</li></ul></li></ul><p>此时如果顺利的话，<code>jupyter notebook</code> 就可以看到多出了 <strong>Nbextensions</strong> Tab 页</p><p><img loading=\"lazy\" src=\"/assets/images/config_menu-4494c763a4e978ba197497764dda565d.png\" width=\"1824\" height=\"974\" class=\"img_E7b_\"></p><p>如果看不到此 tab 页，可以直接打开 <a href=\"http://localhost:8888/nbextensions?nbextension=nbextensions_configurator\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:8888/nbextensions?nbextension=nbextensions_configurator</a> ，检查关键的 2 个扩展是否确实勾选了，如下图：</p><p><img loading=\"lazy\" src=\"/assets/images/nbexts-9bd1dbf6494b2d8e2a36eb6a080f843b.png\" width=\"1824\" height=\"974\" class=\"img_E7b_\"></p><p>前面默认使能的 config_menu 和 tree_tab 分别对应上图中的 dashboard tab 和 edit menu item 两个勾选，没有勾选 dashboard tab 就会看不到 tab 页。</p><p>从上图中还能看出，此时的扩展是很少的，还需要我们继续添加。</p><p>我遇到过还是看不到 tab 页的情况，最后是用 <code>jupyter --paths</code> 检查 jupyter 用到的 config path 、 data path，发现我安装了 3 套 jupyter 和 nbextensions，2 套系统（python2、python3），1 套虚拟环境，把 3 套统统卸载掉，然后重装虚拟环境的，最终 OK。</p><p>关键操作有：</p><ul><li><code>pip uninstall jupyter-nbextensions_configurator</code></li><li><code>pip3 uninstall jupyter-nbextensions_configurator</code></li><li>删除后仍遇到多套扩展的 yaml 文件，打印出的信息：<ul><li>[jupyter_nbextensions_configurator]<!-- --> nbextension 'rubberband/main' has duplicate listings in both '/Users/wangkevin/workspace/python-venv/py3-venv/share/jupyter/nbextensions/rubberband/rubberband.yaml' and '/Users/wangkevin/Library/Jupyter/nbextensions/rubberband/rubberband.yaml'</li><li>说明 uninstall 并没有吧 yaml 文件删掉，手工删除：<code>rm -rf /Users/wangkevin/Library/Jupyter/nbextensions</code></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"再说扩展集合-jupyter-contrib-nbextensions\"><strong>再说扩展集合 jupyter-contrib-nbextensions</strong><a class=\"hash-link\" href=\"#再说扩展集合-jupyter-contrib-nbextensions\" title=\"Direct link to heading\">​</a></h2><ul><li><code>pip -V</code> pip 安装之前先确认一下 pip 是哪个？我一般都是只安装的虚拟环境的</li><li><code>pip install jupyter-contrib-nbextensions</code></li><li><code>jupyter contrib nbextension install [--user]</code> 安装具体的多个扩展<ul><li>从 log 中可以看到从 <code>site-packages/jupyter_contrib_nbextensions/nbextensions/</code> 把扩展都拷贝到<ul><li>无 <code>--user</code>： <code>/usr/local/share/jupyter/nbextensions/</code></li><li>有 <code>--user</code>：<code>~/Library/Jupyter/nbextensions</code></li></ul></li><li>如果 2 个地方都安装了，可以卸载 1 个：<code>jupyter contrib nbextension uninstall [--user]</code></li></ul></li></ul><p>再看扩展，就多了很多：</p><p><img loading=\"lazy\" src=\"/assets/images/nbextensions.ok-2c235523d8bd19e1e2f35e2af0b9372f.png\" width=\"2290\" height=\"1184\" class=\"img_E7b_\"></p><p>集成进去的扩展很多，需要各位慢慢去试用，我个人最喜欢的有：</p><ul><li>Collapsible headings：ipynb 内折叠</li><li>Codefolding： cell 内代码折叠</li><li>Table of Contents: 树形目录</li><li>Notify：如果有长时间执行的 cell，则可以切换浏览器的到其他 tab，cell 执行完会给个通知</li><li>ExecuteTime</li><li>Exercise</li><li>Export Embedded HTML</li></ul><p>点击每个扩展，下面都有解释说明。</p><p>还有几个特别的小工具顺带一下：</p><ul><li><code>%debug</code></li><li><code>%lsmagic</code></li></ul>",
            "url": "https://wkevin.github.io/blog/2018/12/29/jupyter.nbextensions",
            "title": "Jupyter 扩展",
            "summary": "jupyter nbextensions",
            "date_modified": "2018-12-29T21:29:54.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "jupyter"
            ]
        },
        {
            "id": "/2018/12/28/interconnecting.smart.objects.with.ip",
            "content_html": "<ul><li><a href=\"https://www.amazon.com/Interconnecting-Smart-Objects-IP-Internet/dp/0123751659\" target=\"_blank\" rel=\"noopener noreferrer\">《Interconnecting Smart Objects with IP》</a>: JP Vasseur, Adam Dunkels; 2010; 4.5 星</li><li><a href=\"https://book.douban.com/subject/6722585/\" target=\"_blank\" rel=\"noopener noreferrer\">《基于 IP 的物联网架构技术与应用》</a>: 人民邮电；田辉（等众人）；2011.8；</li></ul><p>Smart Object，译者翻译成 <strong>智能物件</strong>，见词知意，指物联网的终端设备、现在时髦点说 Edge 设备、尘设备、雾设备…… 2010 年那是还没有 IoT 这个词，物联网这个词也是刚刚兴起，所以在书中看不到 IoT、NB-IoT、LoRa……这些名词和技术。</p><p>但译者不厚道的是原书只是讲智能物件的，即：物联网终端，译者翻译成物联网架构 —— 我觉得这是故意的张冠李戴，恶意的曲解原意，只是为了书的销量。</p><p>一本老书，在当下飞速发展的物联网技术中，很多应该都过时了，我为啥要读它？—— 其实我是被作者 Adam Dunkels 吸引而已。</p><p>我在 10h 之前还不认识这个名字，但在 10 年前就用过 FreeRTOS+LwIP，还清晰的记得当年调试一块 LPC2468 的板子时被 LwIP 协议栈折磨的场景，3 个通宵好像是，才解决一个 bug。昨晚偶然下载到这本书，看到作者介绍说：Adam 就是 LwIP 的作者 —— 嘿！一种那啥见面，分外眼红的感觉。</p><p><a href=\"https://en.wikipedia.org/wiki/Adam_Dunkels\" target=\"_blank\" rel=\"noopener noreferrer\">Adam 的 Wiki</a> 介绍他是瑞士的程序员和企业级，父母都是教授。从小喜欢嵌入式，先后写出了开源的 LwIP、uIP、Contiki……还是 IPSO（基于 IP 的 Smart Object） 联盟创始人。还有……他是 1978 年人，晕倒，同龄人，看人家都功成名就了。</p><p>怀着无比崇敬的心情，准备读一下此书。</p><p><strong>智能物件（SO）</strong>这个词可能从来在中国没有流行起来，很少在各大杂志、展会、宣传中看到这个词汇，百度指数中也没有收录，而 IoT、物联网这类词汇则是连年增长的。</p><p><img loading=\"lazy\" src=\"/assets/images/baidu.trend.iot-dcbb6023fdfa1b7ea7186491899f97a1.png\" width=\"1324\" height=\"550\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/baidu.trend.wlw-33376e31b941017c7f7acc230611a7dd.png\" width=\"1322\" height=\"552\" class=\"img_E7b_\"></p><p>本书我用 4h 看完中文版的，我来总结一下<strong>作者的想表达的重点</strong>：</p><ul><li>SO 一定要用 IPv6，不用 IPv6 的都是耍流氓 —— 第 3、4、19 章<ul><li>不用 IP，用网关做协议转换的没前途，看 Zigbee 都撑不住转用 IP 了吧</li><li>我不禁为 LoRa 捏了把汗，哈哈</li></ul></li><li>对比了 3 个 SO 的 OS：TinyOS、Contiki、FreeRTOS —— 第 11 章<ul><li>当然是作者的 Contiki 全面胜出</li></ul></li><li>SO 的 PHY 和 MAC 层协议 —— 第 12、 16 章<ul><li>IEEE802.15.4：基于它发展出的有：Zigbee、LoRa</li><li>IEEE802.11：基于它发展出的 WiFi</li><li>PLC：电力线通信</li></ul></li><li>SO 的 IP 层 —— 第 13、 15 章<ul><li>浓墨重彩的介绍了作者自己的 uIP<ul><li>2001.9 发布 V1，与 Contiki 同步</li><li>支持 3 种传输层协议： ICMP、TCP、UDP</li><li>​ 路由和转发分离</li><li>​ 摒弃多线程 SockertAPI，使用事件驱动的 API</li><li>​ 不支持多个数据包的同时重组</li><li>​ 不使用滑窗，不缓存已发送的数据包</li><li>​ 基本不实现流量控制、去掉拥塞控制</li><li>特色挺多，裁剪的厉害，有兴趣的看原书吧</li></ul></li></ul></li><li>SO 中的用的路由协议 RPL —— 第 5、17 章<ul><li>第 17 章 ​34 页，是全书最长、最复杂、最有技术难度的一章</li><li>这估计也是作者实现 uIP 时遇到的最棘手的技术难题吧</li></ul></li><li>服务发现和 WebService —— 第 7、9 章<ul><li>这是物联网的重点，即提供的局域网服务、和云端服务</li><li>嵌入式量大，但不和普通用户直接耦合，工程师搞定机器容易</li><li>云端服务需要搞定各种业务需求，难！</li><li>书中介绍了一个云端系统：Pachube，大概介绍一下这个平台：<ul><li>​2007 年英国建筑师 UsmanHaque 创建，命名 Pachube</li><li>​2011.3，福岛核事故发挥作用，名声大噪</li><li>​2011.7，LogMeIn 收购更名 Cosm</li><li>​2013.5，更名 Xively，意为互联（X）的 生活（lively）</li><li>2016，淡出物联网界</li><li>2018.2 Google 接盘</li></ul></li><li>2010 年写书时，正式 Pachube 蒸蒸日上的时候，10 年之后，物是人非</li></ul></li><li>组织和协会 —— 第 14、18 章<ul><li>IETF 个人组织<ul><li>1986 成立，信条是：<strong>​ 我们反对国王、总统以及选举，我们信奉非共识以及运行代码</strong></li><li>2004 年成立了一个工作组： <strong>6LoPWAN</strong>（IPv6 Lower Power WAN）</li><li>2008 年成立了一个工作组： <strong>ROLL</strong></li></ul></li><li>IPSO 联盟<ul><li>2008.9 Cisco 等 10+公司联合创立，Adam 也是创立人之一</li><li>主要任务是撰写白皮书，大多是对 IETF 文档的解释</li></ul></li></ul></li><li>遗憾的是完全没有介绍作者的 OS： Contiki</li></ul><p>总结完毕，书是好书，值得一看，只不过大部分内容要当历史书看。</p><p>最后放几个链接：</p><ul><li>Adam Dunkels 的 <a href=\"https://github.com/adamdunkels\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a> —— 已经多年不提交了<ul><li>uIP 的<a href=\"https://github.com/adamdunkels/uip\" target=\"_blank\" rel=\"noopener noreferrer\">源码</a> —— 已经 6 年没更新了</li></ul></li><li>Contiki 社区的 <a href=\"https://github.com/contiki-os\" target=\"_blank\" rel=\"noopener noreferrer\">github</a> —— 活跃中<ul><li>Contiki 的<a href=\"https://github.com/contiki-os/contiki\" target=\"_blank\" rel=\"noopener noreferrer\">源码</a></li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2018/12/28/interconnecting.smart.objects.with.ip",
            "title": "基于IP的物联网架构技术与应用",
            "summary": " ",
            "date_modified": "2018-12-28T14:50:19.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Contiki",
                "uIPv6",
                "6LoWPAN",
                "RPL",
                "IPSO"
            ]
        },
        {
            "id": "/2018/12/24/libs.in.ld.by.gcc",
            "content_html": "<blockquote><p>摘要：<br>\n<!-- -->使用 ldd 查询依赖库；<br>\n<!-- -->使用 readelf 查询 rpath；<br>\n<!-- -->使用 ln-s、LD_LIBRARY_PATH、-WL,-rpath 解决问题。</p></blockquote><h1>现象</h1><p>gcc 编译好了，执行过程中不免会遇到这种场景：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ ./drawing.bin</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">./drawing.bin: error while loading shared libraries: libopencv_core.so.3.4: cannot open shared object file: No such file or directory</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>找不到依赖的 .so 文件，linux 提供了 ldd 命令可以查看：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ ldd drawing.bin</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        linux-vdso.so.1 =&gt;  (0x00007ffe7ff2b000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libopencv_core.so.3.4 =&gt; not found</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libopencv_highgui.so.3.4 =&gt; not found</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libopencv_imgproc.so.3.4 =&gt; not found</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fe6540c2000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fe653eac000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fe653ae2000)</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>能找到的列出来，找不到的写 <strong>not found</strong>，很好。</p><p>弄一个正常的看看：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:2_图像显示$ ldd ShowImage.bin</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        linux-vdso.so.1 =&gt;  (0x00007ffdf0aa3000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libopencv_core.so.4.0 =&gt; /home/kevin/opencv/installation/OpenCV-4.0.0/lib/libopencv_core.so.4.0 (0x00007ffb45137000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        此处略去100行……</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>差别很明显了，drawing.bin 和 ShowImage.bin 所依赖的 so 文件一个找不到，一个 OK —— 如何造成？怎么解决？</p><h1>成因</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"rpath\">rpath<a class=\"hash-link\" href=\"#rpath\" title=\"Direct link to heading\">​</a></h2><p>gcc 在编译和链接的过程中，可以送入这样一个参数：<code>-Wl, -rpath=&lt;my_lib_path&gt;</code></p><ul><li><code>-Wl</code>: 表示编译器将后面的参数传递给链接器 ld</li><li><code>-rpath</code>: <code>man ld</code> 可以查看 ld 拿到这个参数干什么<ul><li>链接时定位动态库</li><li>写入编译出的二进制文件（elf 文件），给加载运行时使用</li></ul></li></ul><p>可以使用 readelf 命令从编译出的二进制文件中读出这个配置：</p><p>不能运行的第一个例子：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ readelf -a -u drawing.bin|grep rpath</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"> 0x000000000000000f (RPATH)              Library rpath: [/opt/opencv/lib]</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>指向的 <code>/opt/opencv/lib</code> 下未能找到所需的 .so 文件。</p><p>能运行的第二个例子：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:2_图像显示$ readelf -a 2_ShowImage-4.0.0.bin |grep rpath</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"> 0x000000000000000f (RPATH)              Library rpath: [ /home/kevin/opencv/installation/OpenCV-4.0.0/lib]</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>从这里我们可以看到程序的开发者是如何考量这个问题的：</p><ul><li>需要程序具有通用性，拷贝到不同的电脑都可以运行，则需要指定一个通用的路径，或不指定 rpath</li><li>不需通用性，尤其是开发者自己调试过程中，可以指定一个特殊的、或过程的版本</li></ul><p>除了 rpath，运行程序时还会在哪些路径搜索库文件呢？</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"ld-的搜索路径\">ld 的搜索路径<a class=\"hash-link\" href=\"#ld-的搜索路径\" title=\"Direct link to heading\">​</a></h2><p>ld 是 linux 下的链接器和加载器，其实 ld 是个 shell 的可执行命令，它本身依赖和使用的是 <strong>ld-linux.so</strong>，而它是静态链接的。</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ which ld</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">/usr/bin/ld</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ ldd `which ld`</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        linux-vdso.so.1 =&gt;  (0x00007fffb8dde000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libbfd-2.26.1-system.so =&gt; /usr/lib/x86_64-linux-gnu/libbfd-2.26.1-system.so (0x00007f8245ce5000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f8245ae1000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f8245717000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        libz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007f82454fd000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        /lib64/ld-linux-x86-64.so.2 (0x00007f824602a000)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ ldd  /lib64/ld-linux-x86-64.so.2</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        statically linked</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>使用 <code>man ld</code> 在 rpath 章节中可以找到，ld 在加载一个 elf 文件时，寻找依赖库（libs）是有优先级顺序的，一旦找到，则退出寻找。顺序如下：</p><ol><li>elf 头中自带的 rpath-link 或 rpath 变量<ul><li>rpath-link 对可执行文件无效</li></ul></li><li>环境变量 <code>LD_RUN_PATH</code>、<code>LD_LIBRARY_PATH</code>、<code>-L</code>（macOS）</li><li>默认路径：<code>/lib</code> 和 <code>/usr/lib</code></li><li>根据 <code>/etc/ld.so.conf</code> 中指定的路径，比如我本机有这些：<ol><li><code>/lib/x86_64-linux-gnu</code></li><li><code>/usr/lib/x86_64-linux-gnu</code></li><li><code>/usr/lib/x86_64-linux-gnu/mesa-egl</code></li><li><code>/usr/lib/x86_64-linux-gnu/mesa</code></li><li><code>/usr/local/lib</code></li></ol></li></ol><h1>解决</h1><p>理解了 ld 的工作原理，解决方法就浮出水面：</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"1-用户级方案\">1. 用户级方案<a class=\"hash-link\" href=\"#1-用户级方案\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"11-ln--s\">1.1 ln -s<a class=\"hash-link\" href=\"#11-ln--s\" title=\"Direct link to heading\">​</a></h3><p>在 <code>/lib</code> 或 <code>/usr/lib</code> 下创建软链接，问题是 lib 一多就麻烦了，单个还能玩一玩。</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:~$ ln -s /home/kevin/opencv/installation/OpenCV-3.4.4/lib/libopencv_core.so.3.4 /usr/lib/</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"12-ld_library_path\">1.2 LD_LIBRARY_PATH<a class=\"hash-link\" href=\"#12-ld_library_path\" title=\"Direct link to heading\">​</a></h3><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"121-临时方案\">1.2.1 临时方案：<a class=\"hash-link\" href=\"#121-临时方案\" title=\"Direct link to heading\">​</a></h4><p>运行前先设置一下环境变量</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/kevin/opencv/installation/OpenCV-3.4.4/lib</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:cpp$ ./drawing.bin</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">This program demonstrates OpenCV drawing and text output functions.</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">Usage:</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">   ./drawing</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h4 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"122-永久方案\">1.2.2 永久方案<a class=\"hash-link\" href=\"#122-永久方案\" title=\"Direct link to heading\">​</a></h4><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@cpp$ echo \"export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/kevin/opencv/installation/OpenCV-3.4.4/lib\" &gt;&gt; ~/.bashrc</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@cpp$ source ~/.bashrc</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"13-增加-conf\">1.3 增加 conf<a class=\"hash-link\" href=\"#13-增加-conf\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:~$ tourch /etc/ld.so.conf.d/opencv.conf</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:~$ echo \"/home/kevin/opencv/installation/OpenCV-3.4.4/lib\" &gt;&gt; /etc/ld.so.conf.d/opencv.conf</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>如果不是源码编译安装的，而是 <code>apt install</code> 或 <code>yum install</code> 的，则有可能已经有了对应的 conf，请仔细检查后再操作。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"2-开发者方案\">2. 开发者方案<a class=\"hash-link\" href=\"#2-开发者方案\" title=\"Direct link to heading\">​</a></h2><p>前面 3 个都是二进制文件已经编译好，用户级的解决方案，如果是开发者，看看能怎么做。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"21-rpath\">2.1 rpath<a class=\"hash-link\" href=\"#21-rpath\" title=\"Direct link to heading\">​</a></h3><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">kevin@:~$ gcc -I... -L... -Wl,-rpath=/home/kevin/opencv/installation/OpenCV-3.4.4/lib ...`</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>这样指定虽然能解决问题，尤其是调试过程中，开发分支众多的情形特别高效。但缺点也十分明显：如果开发的程序需要在用户的环境下也能用，则千万不可像这样指定一个非通用路径。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"22-make\">2.2 make<a class=\"hash-link\" href=\"#22-make\" title=\"Direct link to heading\">​</a></h3><p>make 及基于 make 的二次工具，也可以处理 rpath 的问题</p><ul><li>qmake 通常不自动设置 rpath</li><li>cmake 则比较智能，设置 target_link_libraries 时会自动加上。</li></ul>",
            "url": "https://wkevin.github.io/blog/2018/12/24/libs.in.ld.by.gcc",
            "title": "找不到依赖库可咋整",
            "summary": "运行可执行程序或加载动态库时找不到依赖库的解决办法",
            "date_modified": "2018-12-24T18:16:04.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "ldd",
                "LD_LIBRARY_PATH"
            ]
        },
        {
            "id": "/2018/12/18/Githu.Private.Rss",
            "content_html": "<p>进入 Github 个人 Dashboard 后，拉到最下面，就可看到 <strong>Subscribe to youre news feed</strong> —— 老是忘记，记录一下。</p><p><img loading=\"lazy\" src=\"/assets/images/screenshot-3af78876171a5831d08d38ca00476927.png\" width=\"682\" height=\"142\" class=\"img_E7b_\"></p><p>添加到 Feedly 后的效果是这样的：</p><p><img loading=\"lazy\" src=\"/assets/images/feedly-171967fca0d6276b1cce6f166414fb7e.png\" width=\"911\" height=\"408\" class=\"img_E7b_\"></p><p>最大的优点是对于 push 的条目，快捷键\"<strong>v</strong>\"（查看源地址）直接打开的是对比视图，查看具体修改内容，可以在电脑上方便、顺畅、快速的实现工作流。</p><p><img loading=\"lazy\" src=\"/assets/images/compare-cee2e330f89a6098acd3eec22b8aa37d.png\" width=\"1639\" height=\"765\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2018/12/18/Githu.Private.Rss",
            "title": "Github Private Rss",
            "summary": "Github 个人 Rss 种子",
            "date_modified": "2018-12-18T14:36:17.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "github"
            ]
        },
        {
            "id": "/2018/12/17/mkdocs.to.project.doc",
            "content_html": "<p>markdown 写的文档，在项目组内外分享时不能要求读者也将就着读 markdown，最好还是读网页的友好形式 —— mkdocs 是个不错的选择。</p><p>mkdocs 之前，我都是 <code>git push</code> md 文档后，触发 http server 上的 <code>git pull</code>，然后利用一些零散的 js 脚本实现 md-&gt;html 的动态编译，包括：TOC（目录）、CSS、Theme…… mkdocs 则方便且优雅的完成这一切。</p><ul><li>mkdocs： <a href=\"https://www.mkdocs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.mkdocs.org/</a></li><li>github：<a href=\"https://github.com/mkdocs/mkdocs\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/mkdocs/mkdocs</a></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"安装\">安装<a class=\"hash-link\" href=\"#安装\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt; sudo apt install mkdocs</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"创建新项目\">创建新项目<a class=\"hash-link\" href=\"#创建新项目\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt; mkdocs new k-project</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"启动自带的-http-server\">启动自带的 http-server<a class=\"hash-link\" href=\"#启动自带的-http-server\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt; mkdocs serve</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">INFO    -  Building documentation...</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">[I 181213 15:43:02 server:271] Serving on http://127.0.0.1:8000</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"撰写和预览\">撰写和预览<a class=\"hash-link\" href=\"#撰写和预览\" title=\"Direct link to heading\">​</a></h2><p>下图左边是 VSCode 打开的 k-project，右边是浏览器打开 <code>http://127.0.0.1:8000</code><br>\n<!-- -->新建的项目只有 2 个文件：</p><ul><li>mkdocs.yml —— <strong>配置文件</strong></li><li>docs/index.md —— 自动生成的官方宣传页</li><li>下图配置了网站的名字（site_name）</li></ul><p><img loading=\"lazy\" alt=\"snapshot1.png\" src=\"/assets/images/snapshot1-82ed380fc81ca1bb7eb47a5df9378180.png\" width=\"1680\" height=\"1050\" class=\"img_E7b_\"></p><p><strong>docs</strong> 目录下就自由的写文档吧，我随手创建了几个：</p><ul><li>about.md</li><li>foo/bar.md</li><li>develop/hello.md</li><li>develop/world.md</li><li>img/ 几张图片</li></ul><p>mkdocs 会自动把所有 md 文件编译到网站的导航栏里，官方说是：</p><ul><li>index.md 永远是第一个</li><li>其余的按字母顺序排列 —— 但我自己的操作貌似是按创建时间顺序</li><li>img 只有图片，不列入导航栏</li></ul><p>效果如下图，可看到导航栏有了 Home、About、Foo、Develop，没有 img</p><p><img loading=\"lazy\" alt=\"snapshot3.png\" src=\"/assets/images/snapshot3-14b2afcd4b2ff2ef5edd27aaa918f936.png\" width=\"1680\" height=\"1050\" class=\"img_E7b_\"></p><p>用自动生成的导航栏基本不会是我们想要的，顺序、显示肯定要调一调。\n新增和修改 mkdocs.yml 的 <strong>pages</strong>（以前是<strong>nav</strong>）可以实现。\n如下图：</p><p><img loading=\"lazy\" alt=\"snapshot4.png\" src=\"/assets/images/snapshot4-73219b73149ebd1e4148e42440af7c25.png\" width=\"1680\" height=\"1050\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"编译\">编译<a class=\"hash-link\" href=\"#编译\" title=\"Direct link to heading\">​</a></h2><p>在有 mkdocs.yml 文件的目录下执行</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">&gt; mkdocs build</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>会生成 <strong>site</strong> 文件夹，其中是编译好的静态 html 文件，利于部署。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"总结\">总结<a class=\"hash-link\" href=\"#总结\" title=\"Direct link to heading\">​</a></h2><ul><li>适合做项目文档的展示，没法做 Blog。</li><li>把 site 加入 .gitignore ，能和 git 项目完美融合。</li><li><code>mkdocs build</code> 命令使其可以融入 CI。</li></ul>",
            "url": "https://wkevin.github.io/blog/2018/12/17/mkdocs.to.project.doc",
            "title": "使用 Mkdocs 制作项目文档",
            "summary": " ",
            "date_modified": "2018-12-17T14:28:02.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "mkdocs"
            ]
        },
        {
            "id": "/2018/12/14/build.and.install.opencv",
            "content_html": "<p><a target=\"_blank\" href=\"/assets/files/build.and.install.opencv-814eec82d6cee8dd7e97f1492ce23d55.sh\">完整脚本下载</a></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"参数解析\">参数解析<a class=\"hash-link\" href=\"#参数解析\" title=\"Direct link to heading\">​</a></h2><p>我设置了 3 个参数:</p><ul><li><code>--cvversion</code>: 指定 opencv 的待编译版本</li><li><code>--pippkg</code>: 由于我在公司 proxy 后面，不希望每次都下载，所以事先用 <code>pip download</code> 下载好，这里指定进去，如果不担心流量问题，可忽略</li><li><code>--pre</code>: 我把此脚本分两大部分，准备环境、编译。环境只需一次，编译可能多次，此参数是跳过准备环境步骤。</li></ul><p>举例: <code>$ build.anf.install.opencv.sh --cvversion 4.0.0 --pippkg /var/pippkg/ --pre false</code></p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cvVersion=\"master\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">PipArg=\"-i https://mirrors.ustc.edu.cn/pypi/web/simple \"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if [ \"$http_proxy\" ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    PipArg=$PipArg\" --proxy \"$http_proxy</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">pre=\"\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">while [ $# -ge 2 ];</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">do</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    case \"$1\" in</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        --cvversion) cvVersion=$2 ; shift 2;;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        --pippkg) PipArg=\"--no-index -f $2\" ; shift 2;;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        --pre) pre=$2; shift 2;;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        *) echo \"unknown parameter $1\"; exit 1; break;;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    esac</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">done</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"============================\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"cvVersion: $cvVersion\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"PipArg: $PipArg\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"doPrepare: $pre\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"============================\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cwd=$(pwd)</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">venvname=py3venv_build_opencv-\"$cvVersion\"</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"安装依赖包\">安装依赖包<a class=\"hash-link\" href=\"#安装依赖包\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">## Update Packages</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y update</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y upgrade</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y remove x264 libx264-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">## Install dependencies</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install build-essential checkinstall cmake pkg-config yasm</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install git gfortran</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libjpeg8-dev libjasper-dev libpng12-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libtiff5-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libtiff-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libavcodec-dev libavformat-dev libswscale-dev libdc1394-22-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libxine2-dev libv4l-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd /usr/include/linux</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo ln -s -f ../libv4l1-videodev.h videodev.h</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd $cwd</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libgtk2.0-dev libtbb-dev qt5-default</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libatlas-base-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libfaac-dev libmp3lame-dev libtheora-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libvorbis-dev libxvidcore-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libopencore-amrnb-dev libopencore-amrwb-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libavresample-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install x264 v4l-utils</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># Optional dependencies</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libprotobuf-dev protobuf-compiler</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libgoogle-glog-dev libgflags-dev</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install libgphoto2-dev libeigen3-dev libhdf5-dev doxygen</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"安装-python-及虚拟环境\">安装 Python 及虚拟环境<a class=\"hash-link\" href=\"#安装-python-及虚拟环境\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">## Install Python Libraries</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install python3-dev python3-pip</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo -H pip3 install -i https://mirrors.ustc.edu.cn/pypi/web/simple --proxy http://proxysz.zte.com.cn:80 -U pip numpy</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">sudo apt -y install python3-testresources</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"># create virtual environment</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd $cwd</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if [ ! -d $venvname ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    python3 -m venv $venvname</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">source \"$cwd\"/$venvname/bin/activate</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">pip install $PipArg -U pip</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">pip install $PipArg wheel numpy scipy matplotlib scikit-image scikit-learn ipython dlib</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">deactivate</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"下载-opencv-源码\">下载 opencv 源码<a class=\"hash-link\" href=\"#下载-opencv-源码\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">## Download scr</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if [ ! -d \"opencv.git\" ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    git clone https://github.com/opencv/opencv.git opencv.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd opencv.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">git checkout $cvVersion</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd ..</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if [ ! -d \"opencv_contrib.git\" ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    git clone https://github.com/opencv/opencv_contrib.git opencv_contrib.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd opencv_contrib.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">git checkout $cvVersion</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd ..</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"编译-opencv\">编译 opencv<a class=\"hash-link\" href=\"#编译-opencv\" title=\"Direct link to heading\">​</a></h2><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd opencv.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">if [ ! -d \"build\" ]; then</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    mkdir build</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">fi</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd build</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">starttime=`date +'%Y-%m-%d %H:%M:%S'`</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">opts=\"-D CMAKE_BUILD_TYPE=RELEASE \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D CMAKE_INSTALL_PREFIX=$cwd/installation/OpenCV-\"$cvVersion\" \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_QT=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_TBB=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_V4L=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_PNG=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_JPEG=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D WITH_OPENGL=ON \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D BUILD_EXAMPLES=OFF \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D OPENCV_PYTHON3_INSTALL_PATH=$cwd/$venvname/lib/python3.5/site-packages \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib.git/modules \\</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      -D BUILD_opencv_world=OFF \"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cmake $opts ..</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">make -j8</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">endtime=`date +'%Y-%m-%d %H:%M:%S'`</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">start_seconds=$(date --date=\"$starttime\" +%s);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">end_seconds=$(date --date=\"$endtime\" +%s);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">echo \"本次运行时间： \"$((end_seconds-start_seconds))\"s\"</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">make install</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">cd $cwd</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"编译结果\">编译结果<a class=\"hash-link\" href=\"#编译结果\" title=\"Direct link to heading\">​</a></h2><p>脚本中默认编译了 opencv_contrib，则最终生成的 modules 会多很多，我对有无 <code>-D OPENCV_EXTRA_MODULES_PATH</code> 做了对比</p><ul><li>最终安装到 python 环境的 cv2.cpython-35m-x86_64-linux-gnu.so 文件：3.9M、6.8M</li><li>build 文件夹体积：分别是 5G、12G<ul><li>其中 modules 文件夹差异最大，如下图：</li></ul></li></ul><p><img loading=\"lazy\" src=\"/assets/images/compare-91f2d08d036893090ac931702f5f009f.png\" width=\"941\" height=\"890\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2018/12/14/build.and.install.opencv",
            "title": "Opencv4.0 安装脚本",
            "summary": " ",
            "date_modified": "2018-12-14T15:08:53.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "opencv",
                "ubuntu"
            ]
        },
        {
            "id": "/2018/12/13/Have.a.rest",
            "content_html": "<p><img loading=\"lazy\" src=\"https://images.unsplash.com/photo-1523540451401-62a9b7d94b02?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1951&amp;q=80\" class=\"img_E7b_\">\n唐代：杜甫</p><p><strong>锦城丝管日纷纷，</strong><br>\n<strong>半入江风半入云。</strong><br>\n<strong>此曲只应天上有，</strong><br>\n<strong>人间能得几回闻。</strong></p>",
            "url": "https://wkevin.github.io/blog/2018/12/13/Have.a.rest",
            "title": "赠花卿",
            "summary": "偷得半日闲",
            "date_modified": "2018-12-14T10:16:44.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "诗词",
                "杜甫"
            ]
        },
        {
            "id": "/2018/06/26/speed.net",
            "content_html": "<blockquote><p>摘要：\n如果加载某些网站龟速，可以试试安装 Gooreplacer 插件，然后 online-rules 中填入 <code>https://raw.githubusercontent.com/wkevin/configs/master/gooreplacer/gooreplacer.gson</code>。</p></blockquote><p>作为一个程序员，肯定有用到 stackoverflow 的时候，长时间的等待才能加载出一个“丑陋”的网页…… No！这不是我们想要的。</p><p>读完本文，你将：</p><ul><li>秒开大部分以前需要等待的网站</li><li>理解背后的原因</li><li>我为您推荐跨浏览器（ff、chrome、safari）的方便手段</li></ul><p>我们在浏览器上敲入网址，回车后要经过很多步骤才能看到网页，其中有这样几步：</p><ol><li>找 DNS 服务器，将网址换算为 ip</li><li>加载网页内容<ol><li>加载网页核心内容</li><li>加载网页使用到的指定的 css、js、font…… —— 这些内容大都用 CDN 分发</li></ol></li></ol><h1>为什么慢</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"原因-1dns-被墙\">原因 1：DNS 被墙<a class=\"hash-link\" href=\"#原因-1dns-被墙\" title=\"Direct link to heading\">​</a></h2><p>如果 DNS 被污染，ip 地址将不能被正确换算，打开这类网址是这个情况：</p><p><img loading=\"lazy\" alt=\"alt\" src=\"/assets/images/google-d6e4d5d064953b24d861475be17814d7.png\" width=\"2144\" height=\"1540\" class=\"img_E7b_\"></p><p>图中我打开了 ff 自带的调试工具（network，Ctrl+Alt+E），显示只有一行，然后没有了任何内容，如果科学上网之后，则是：</p><p><img loading=\"lazy\" alt=\"alt\" src=\"/assets/images/google-ok-2e433846e3f4506fd3d472d12434030c.png\" width=\"2144\" height=\"1540\" class=\"img_E7b_\"></p><p>DNS 被污染或数据被截取重组等的情形，不是我要说的重点，如果撞墙了就科学上网，如果没被墙就等着修复。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"原因-2cdn-被墙\">原因 2：CDN 被墙<a class=\"hash-link\" href=\"#原因-2cdn-被墙\" title=\"Direct link to heading\">​</a></h2><p>CDN--是一些网络服务商/运营商或大公司（Google、Facebook 等）提供的免费的资源分发服务，人家有钱有闲有追求，所以一般网站直接在人家服务器上使用这些资源即可。</p><p>这些网站自身没有被墙，因为用到的内容（css、js、font）下载链接在 Google 的 CDN 服务器上，所以被墙了，导致无法加载、加载慢。这些网站有：stackoverflow、askubuntu、pocket…… 通常是些向 google、facebook 等靠拢的科技型网站。</p><p>比如没有做任何手段的话，访问 stackoverflow 是这样的：</p><p><img loading=\"lazy\" alt=\"alt\" src=\"/assets/images/sof-c7e38bbf1b8625264dc6fa4fb5e90a9b.png\" width=\"2144\" height=\"1540\" class=\"img_E7b_\"></p><p>漫长的等待后（看上图中倒数第 4 行长长的一条红色，显示耗时 91999ms），因为在向 <code>ajax.googleapi.com</code> 要 jquery.min.js 脚本，撞墙。</p><p>这类情况即使最后也能显示出网页，功能也会有缺失，速度会显得奇慢无比，有些则完全加载不了。</p><p>本质上，这也是 DNS 被墙了，只不过是 CDN 服务器的 DNS 被墙了 —— 这个通常是有办法绕过去的。</p><h1>如何加速</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"下策屏蔽被墙的-cdn\">下策：屏蔽被墙的 CDN<a class=\"hash-link\" href=\"#下策屏蔽被墙的-cdn\" title=\"Direct link to heading\">​</a></h2><p>加载不了的内容不加载它，显然可以加速整体网页的加载，常用的浏览器插件：<strong>ABP</strong>(adblock plus) block</p><p>比如吧 <code>ajax.googleapis.com</code> 屏蔽掉，可以如下操作：</p><ul><li>ABP -- Options -- Advanced -- My filter list（最下面） -- Edit Filters</li><li>加上： <code>||ajax.googleapis.com/ajax/libs/jquery/1.12.4/*</code></li></ul><p>但强调一下：如果是关键性的脚本，这种方式可能会造成网页的功能不完整。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"上策重定向工具\">上策：重定向工具<a class=\"hash-link\" href=\"#上策重定向工具\" title=\"Direct link to heading\">​</a></h2><p>用一些重定向工具，把被墙的服务器地址重定向到国内可以的地址上，达到正常加载 CDN 内容的效果，才是正道。</p><p>这样的浏览器插件有好几个，推荐一个 ff、chrome、safari 通用的： <strong>Gooreplacer</strong></p><ul><li>安装：略</li><li>主要功能<ul><li>单条添加重定向规则、Cancel 规则（和 ABP 同理）、请求/应答数据包的包头。</li><li>Online-rules：添加在线的规则脚本，用正则表达式来定义重定向、Cancel、包头等过滤和处理规则。</li></ul></li></ul><p>话不多说，Online-rules 中添加我写好的规则吧：</p><p><code>https://raw.githubusercontent.com/wkevin/configs/master/gooreplacer/gooreplacer.gson</code></p><ul><li>涵盖了 10+条 google、cloudflare、twitter、facebook 等被墙网站 CDN 的处理规则</li><li>至于我都是从哪里找的这些国内镜像 —— 哎，都是慢慢找、一点一点积累的，一根一根白头发换来的。</li><li>遇到新问题可以更新一下，说不定我已经添加进去了。</li><li>其中有一条要特别说明： <code>www.google.com/recaptcha/</code> 重定向到 <code>recaptcha.net/recaptcha/</code><ul><li>这个 recaptcha 是 google 提供的真人识别、验证服务，比如出 9 幅图，让点击带火车的几幅</li><li>我最爱的 Pocket 登录使用 recaptcha 验证，不重定向这个无法使用 Pocket 网页版</li></ul></li></ul><p>OK，科技类的网站基本可以不依赖 Google 了，可以自由、快速驰骋了。</p>",
            "url": "https://wkevin.github.io/blog/2018/06/26/speed.net",
            "title": "告别等待，秒开网站",
            "summary": "摘要：",
            "date_modified": "2018-06-26T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "cdn",
                "dns"
            ]
        },
        {
            "id": "/2018/06/14/Python-IDE-Compare",
            "content_html": "<p><img loading=\"lazy\" src=\"http://img.mp.itc.cn/upload/20160902/d4d813ba49224604b5b3de8d99296c0f_th.jpg\" class=\"img_E7b_\"></p><table><thead><tr><th align=\"center\">使用频率</th><th>动作</th><th>Pycharm</th><th>Wing</th><th>VSCode</th><th>jupyter notebook</th></tr></thead><tbody><tr><td align=\"center\">★★★</td><td>Search Everything</td><td><strong>Shift×2</strong></td><td></td><td>/</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Search File</td><td>Ctrl+Alt+N</td><td></td><td><strong>Ctrl+P</strong></td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Search Symbol (Class)</td><td>Ctrl+Alt+Shift+N (Ctrl+N)</td><td></td><td>Ctrl+P,# ; <strong>Ctrl+T</strong></td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Search Symbol - 当前文件</td><td>Ctrl+F12</td><td></td><td>Ctrl+P,@ ; Ctrl+Shift+O</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Search Command</td><td>Ctrl+Shift+A</td><td></td><td>Ctrl+P,&gt; ; <strong>F1</strong></td><td><em>P</em><br>Ctrl+Shift+F</td></tr><tr><td align=\"center\">★★★</td><td>Search Usage</td><td><strong>Alt+F7</strong><sup>【1】</sup></td><td></td><td><strong>Shift+F12</strong>(仅当前文件)</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>自动补全/智能感知<sup>【2】</sup><br>1.补全选项<br>2.信息提示<br>3.元素列表</td><td>1.Ctrl+空格【× 2】(包含未import) or 自动显示<br>2.Crtl+P/Q<br>3.Ctrl+空格 or 自动显示</td><td></td><td>1.Ctrl+空格 or 自动显示<br>2.Ctrl+空格<br>3.Ctrl+空格 or 自动显示</td><td>1./<br>2.Shift+Tab <!-- -->[×2]<br>3./</td></tr><tr><td align=\"center\">★★★</td><td>跳转到定义</td><td>Ctrl+B</td><td></td><td>F12</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>跳到前一个位置</td><td>Ctrl+Shift+Backspace</td><td></td><td>Ctrl+Alt+-</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>跳到后一个位置</td><td>/</td><td></td><td>Ctrl+Shift+-</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>列选择</td><td>1.Ctrl+Alt+Insert 打开列模式，鼠标/键盘拖选<br>2.先左键，再 Alt，拖选</td><td></td><td>1.Ctrl+Shift+键盘<br>2.Alt+Shift+左键/键盘</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>选中光标下 word 的同词</td><td>/</td><td></td><td><strong>Ctrl+D</strong></td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>行-移动</td><td>Ctrl+Shift+↑↓</td><td></td><td>Alt+↑↓</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>重构-重命名</td><td><strong>Shift+F6</strong></td><td></td><td>/</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Run</td><td>Shift+F10</td><td></td><td>Ctrl+F5</td><td>Shift+Enter：运行并下跳<br>Ctrl+Enter：运行但不下跳<br>Alt+Enter：运行并下插</td></tr><tr><td align=\"center\">★★★</td><td>Debug/StopDebug<br>StepOver<br>StepIn<br>StepOut</td><td>Shift+F9/Ctrl+F2<br>F8<br>F7<br>Shift+F8</td><td></td><td>F5/Shift+F5<br>F10<br>F11<br>Shift+F11</td><td>/</td></tr><tr><td align=\"center\">★★★</td><td>Cell 操作</td><td>/</td><td>/</td><td>/</td><td><em>增拷粘剪删：A/B/C/V/X/D×2</em><br><em>变为 Code/MD/Raw: Y/M/R</em></td></tr><tr><td align=\"center\">★★</td><td>窗口间选择</td><td>Alt+1/2/3.. : 工具栏<br>Esc : 编辑窗口<br>Alt+F12 : CMD 窗口</td><td></td><td>Ctrl+0：工具栏<br>Ctrl+1/2/3.. : 编辑窗口<br>Ctrl+<!-- -->`<!-- --> : CMD 窗口</td><td>/</td></tr><tr><td align=\"center\">★★</td><td>加、去注释</td><td>Ctrl+/<sup>【3】</sup></td><td></td><td>Ctrl+/ <sup>【4】</sup></td><td>/</td></tr><tr><td align=\"center\">★★</td><td>高亮并保持</td><td>Ctrl+Shift+F7<br>（F3，Shift+F3）</td><td></td><td>/</td><td>/</td></tr><tr><td align=\"center\">★★</td><td>行-拷贝+粘贴</td><td>Ctrl+D</td><td></td><td>C+A+S+↑↓</td><td>/</td></tr><tr><td align=\"center\">★★</td><td>当前可用 Action</td><td>Alt+Enter</td><td></td><td>/</td><td>/</td></tr><tr><td align=\"center\">★</td><td>打开最近使用文件</td><td>Ctrl+E</td><td></td><td></td><td></td></tr><tr><td align=\"center\">★</td><td>方法之间跳转</td><td>Alt+↑↓</td><td></td><td></td><td></td></tr><tr><td align=\"center\">★</td><td>tab 标签选择</td><td>Alt+Home</td><td></td><td>推荐 AutoFileName 扩展</td><td></td></tr><tr><td align=\"center\">☆</td><td>Code-Override Methods<sup>【5】</sup></td><td>⌃O</td><td></td><td></td><td></td></tr><tr><td align=\"center\">☆</td><td>输入、搜索 inspection</td><td>Ctrl+Alt+Shift+I</td><td></td><td></td><td></td></tr><tr><td align=\"center\">☆</td><td>虚拟环境的支持</td><td>★★★</td><td></td><td>★★</td><td>★★★</td></tr></tbody></table><p><strong>说明</strong></p><ul><li>主要是功能对比，快捷键 Pycharm、Wing、VSCode 都是支持多种模式（vi、vs……），此处仅为默认模式，且<strong>基于 Linux 版进行对比</strong>。</li><li>记住<strong>3★</strong>的项目，基本可以脱离鼠标操作</li><li><strong>粗体</strong>：特色功能</li><li><strong>/</strong>：没有此功能</li><li>空白：有此功能，但没有快捷键（或待补充快捷键）</li><li><em>斜体</em> : notebook 的 Command Mode，否则为 Edit Mode</li><li>VSCode、Wing、PyCharm 都是 Windows、Linux、macOS 3 操作系统通用的优秀软件，个人适用建议：<ul><li>notebook：适用于教学和演练</li><li>VSCode：适用与小型项目</li><li>Wing：适用与中型项目</li><li>PyCharm：适用于大型项目</li></ul></li></ul><p><strong>引用</strong></p><ol><li>Ubunut 系统快捷键 Alt+F7 是 Move Window，和 Pycharm 冲突，需要修改其中一个，或用<code>右键--Find Usage</code> 或 <code>Shift×2 - Find Usage</code></li><li>VSCode 提出了<strong><a href=\"https://code.visualstudio.com/docs/editor/intellisense\" target=\"_blank\" rel=\"noopener noreferrer\">IntelliSense 智能感知</a> </strong>的概念，集成了多个功能，此处沿用<ul><li>补全选项：在输入各种符号（func、class、变量、关键字、snippet……）时列出可供选择的项，需要软件创建字符串索引<ul><li>补全选项的选择和上屏效果各个软件略有不同<ul><li>PyCharm：<ul><li>Ctrl+Enter/. ：选择第一个补全结果</li><li>Tab：选中的那条上屏，但会替换掉原来的变量</li><li>Enter：选中的那条上屏，但不会替换原来的变量</li></ul></li><li>VSCode：<ul><li>Tab、Enter 同效：选中的那条上屏，不会替换原来的变量</li></ul></li></ul></li></ul></li><li>信息提示：为自动补全的候选项显示其详细信息（注释、说明等），适用于函数、入参、snippet……，需要软件能够抓取目标上下文信息</li><li>元素列表：当在 class、struct 等变量后输入<code>.</code>之后，能够列出所包含的元素，需要软件能够分析成员、尤其是类的继承、重载等关系分析</li></ul></li><li>会自动走到下一行</li><li><code>auto-comment-blocks.singleLineBlockOnEnter</code>可以控制<code>回车</code>or<code>Shift+回车</code>才是默认加上注释符号</li><li>Code-Override Methods: 重载某方法，弹出父类中可重载的方法，选中后自动生成模板代码</li></ol><p><strong>版本历史</strong></p><ul><li>V2018.06.14: 完成 Pycharm、VSCode、Notebook 的第一稿</li></ul><p><strong>ToDo</strong></p><ul><li>Wing</li></ul>",
            "url": "https://wkevin.github.io/blog/2018/06/14/Python-IDE-Compare",
            "title": "Python IDE 常用功能及快捷键对比",
            "summary": "| 使用频率 | 动作                                                                           | Pycharm                                                                                 | Wing | VSCode                                                              | jupyter notebook                                                               |",
            "date_modified": "2018-06-14T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Python",
                "PyCharm",
                "VSCode",
                "jupyter"
            ]
        },
        {
            "id": "/2017/05/06/Fonts-source-han",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/serif.7kindsbold-edc1142ff036e8badd8bd5330bb853cd.png\" width=\"1048\" height=\"203\" class=\"img_E7b_\"></p><p>Google 与 Adobe 合作，为亚洲日、韩、中简、中繁四种预研创造了两种字体：思源黑体和思源宋体，覆盖 15 亿人群，功德无量。</p><p>思源黑体是 2014 年发布的，思源宋体是 2017 年 4 月发布的，黑体无衬线，宋体有衬线。</p><p>衬线并不是中文字体才有的，所有文字都有，无衬线是大老粗，有衬线是装逼，哈哈。</p><p><img loading=\"lazy\" src=\"/assets/images/serif.and.sanserif-4a30eab313794276a7fc888c9cfbc491.png\" width=\"276\" height=\"233\" class=\"img_E7b_\"></p><p>衬线的英文：serif；无衬线的英文：sanserif，这个 san 前缀是拉丁语中无的意思。所以看到字体名称中 sans--表示无衬线、serif--表示有衬线。</p><p>正式介绍思源字体的英文名称：</p><table><thead><tr><th>字体</th><th>Adobe 命名</th><th>Google 命名</th></tr></thead><tbody><tr><td>思源黑体</td><td>Source Han Sans</td><td>Noto Sans CJK</td></tr><tr><td>思源宋体</td><td>Source Han Serif</td><td>Noto Serif CJK</td></tr></tbody></table><p>思源黑和思源宋都包含了 65535 个字，支持多种字符编码，具体到简体中文遵守<strong>GB18030</strong>和<strong>通用规范汉字表</strong>，GB18030 不是国际标准，是中国标准，但她不是只有简体汉字，GB18030 我国做出来是为了全中国多民族共用的，所以包括了简体、繁体、韩、蒙、傣……格局和目标虽然比 Unicode（UTF）低了一点，但在中国还是通吃的。所以思源黑和思源宋全力支持了 GB18030。</p><p>思源黑和思源宋各自都有 7 种粗细，对应 7 个名称：</p><p><img loading=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAABkCAYAAACywfsIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFDhJREFUeNrsnd11nMgWRvGsSYB5vPeNCYEJoR1CO4RWCK0QpBC6QxAhiBBECOLtzqMJQbfLU3hKGKh/uoC91+ql8diN4HDqnK9O/X35+PjIAAAAAFLgN0wAAAAACBMAAAAAhAkAAAAgTAAAAAAQJgAAAIAwAQAAAECYAAAAAMIEAAAAAGECAAAACBMAAAAAhAkAAAAgTAAAAAAQJgAAAIAwAQAAgGT5z3/+e7h9zlt7rt95tQAAkFjCLW8/xKf5++//NVjkh00KaZP+c1D+rrvZ6YowAdhncMhvPwqC5WTgPMig+XizUYdVfvGdg5JUvt1s1GKZf3r+g4Sby7+qb5+vOxZnql2KmX9+un0QJit8wU/y5f5JwBwNCuJzvH3am32+YpVP9jkqAbOU/+9PksrPZHsZCZzCNs/Y54fv9O1rmFhECf5h577zovb8RxBDFYdbW6t3aKKDzFsmlCLPbaXDtJc5Jq0MnLlUljBwahkkCxkIjpjklwBx7kWJklR2jxT5Y725s0w8e6eQMWest3uSVaY9+46JuN9rzLatgGzGTr/tqAFcCZizDaAjEExSkVRmGauM0AkYb1tDjrQtLcc9tjWZtyqLrxy3ktu+fHx87OIlS8d+l38U49+7LzMP7HMZJJKvOy2fTtnnLftcMcGP/rVNLtvWMCiKCXl/YJ9f2hY2+mwf4Ts64ZFUW5MrYZ529qoWewe7ESbSmV5kD4WAOS/cBDVzTT7ZRySWyzCpZMxZ0iXfhy2tFnC0jRC0bzP/JEkb3e77aUSMx6AcEbXZSFuLOn/CJt4hTOKyt1U5z1KY5CLR7D1gDhple7OJqJD0E9HEXJOCCZ4/qWQgUgNoLv0pWT+SE5uXYMpPRHl5CR9qbX1VmRR/b84LzOsSy24fHQTDIRFXzhO6F0CYBE2+zS0ANLLBrWJ5laxkLDW+Wg8avwiY1UK/u3URQQv26qZ4WmiysEtiEbze2YUPCyWUx8x+FVAqyW7JNg6AMDFMvC8LB4EfvQE5b2CxHrdjGex4x17dKVtuAqNLYkmhV0dPDgBgS8JEBvZ79XiX/L1MJAUAAFiBMBn2ml3FzdnzGj19dUL03kNOamSnUAAAgJUJk6vLCgc5ie3scw15nVwRJlWCu+g5rZS5PZeYZ9APNzjPrA51nciIeSq2c4eGQ2V1Zl/h6jfS+uTPmdkGUiaEFMmPns/lYuOxTcZC2gfhD4AwAUiS1lYwyQm0QwFoe43DSAKvUtwLxubZJp6rdbRPsQb7SEw7AFOTr4XoMp04fszG53I1mX8FOIawVQXqnLDUDdObLAHWTQzW3QMgTAAA1o+pYBKnus4IZNNrTCXvLvFNDq9zAlWK0blVYY2uAmywX8g18U0OJyvLt2cz2URsskpuYF/tPaTKbxkAAAAAwgQAAAAAYQIAAACJwhwTAACAOJw8j4Uo5WrIMfKF7sF112mECQBAKCwC+VRyKCyuMbXqJA9x1lHECbS6hKdLnHNJV2ebUElX8Bhxawjf4wZC7Cy9uiMPUhMmoiG6vjzfa4xdJw8QFLrA9jl4Plfh0ZBDXUelDXxQYCFn8vtwcPChsYZ/nFlxYeNDQWfUG64G0NknxLHkrx5ttSfWKdi+ZwyFOM6hzMKcdfSFpOskLgFh8oP3RK6RBQoIIgk8ByyDhQhUoc6/CXUd1zNy5gKV79lCoQ6eC3XO0KqW+gEA+MDkVwAAAEiG1ComoiTrMvShnlDseg2BKOn1FYlvmd+Ogk9Z+FNnTXZKHKPM/i1X+uyUGOM6AAAAyQqTxvGsHO9ryOuoybL1mRA1syOkr318z8q5BjorJ9R1QrP2s3IOEW3Ts9azcsbuBQAQJgBJs+qzcqTIjipM1npWzsS9xGJtZ+WUmf/cKgCECQBAiqztrJwAq5tcePQ8K6cOcFaO9hyYQCvIXJmrvpoIybnqpGkFceoekq1AIkwAAAAiCZOZQ/yMhMnM900riKP3sHAF0gpW5QAAAADCBAAAAABhAgAAAMnCHBMAAIA4PBnOJZkixPEPvveAMAEAuDcrPMSvvIOZSLqwWWHCDqAQ1J8CHC7ockDhWGIoAx0GGDrpvnq2z9LyGlP2ebLciHDJWLGlQ/wAECY+DdFxx9QiwDWGga/w3Bsgj2Qfl0ClJgWfY8JjXCe4jbJ0DjpMtSfnK9xCnAp7r14+QAgKTLAfYfKayDUELylWA7I0jgkPeR0AkkuaIBzxnbvAqhxYOwwFTjCzoyjgO9gHkiW1iskfWzOw64GCE70Wm/M31kIb0D799Vqa9mRicT2hOlUaXjMAwiQ0fUmsC5DEt55cWttD4XaI86nHO8HphOq92SizO4F5r2wlFrnkHapJGxcmuUnPWZalxYFOogrxLeQNyEmc/UTFr2sUSLdnEALv2P85ZHKOeW1YRRD29R/Rxn8ZVkpAZE8ll3rvHQDZ5mfZucA1HSbdgo0Wjxlr2sck75OjCHQRxMPax+OL7PMqkOeVXDtGb3cs0P5ySunNh74EDOTD/RgeExBwhal9Jp4hlI2mVkp9ubN9SptAPLPnxldfITNz7Xv5kU6YdCPP8BpLyBisRhR2Sm1Yr1H9QsYgrQi4fefqYB+Ta6+mU5lSxYRhHH2AYDz9c2M8YAWnigBAjA5AzPZ4COHr/YRwHxFjMal8mNNMtg8QQubqcFumWxM8a8SN2Cbh271FXgqrcgqEiVfPBWBPYjQPuNpoKpm1K7bNUyD7lBvzG7Ev1eX2n2+3z6unjUwFf7cS24gdeN+kuCkC2GcTwiRfczCYeNFHkzHanSYWESDOct5B8MSy5rkBMrG83D6nQJcsDXu6a7GPsMt7wMBpNZSTuN+cpW3Ez7eAPjRFsxLb9ILkPft308Rc+tAxsjBpErfNQQ6RvQ7aQm+f073ujaGcwC9aqk7xkrvbn7+GLBmuPOkWMmj2zn6U9vF575sQf1KknaR9cmmbzGWs2TGArkGQnAfvWwTOh5uNYiyfb1fqNyoXTx+ynmOSYCw+ZtM7OAt7vUgfuga2jVebtRiiFqs0W8f2JGxz0MSOS6A4tEphUq5ZmMjgcBwJnJn8/z6qefWJRTay80gjKGVyCbkKql2h78wllvJmm4eQwm0t4laxzWkiEfgkltn5SS7BfmHblNIuR02M8PGhInRbczhOw2pCqxKLT5n5UNRFLqZ4Dmgbn4qJzZEaYkn7s+U7eLcUVncRJ78nEHzWmlSmgoNIsuIlPgfeXK1ZkW0KJUBMNYIQNjqstKer6839FLa3f1t5iIkiwL2eHb/auNy3hW1+thHHVXoh55e8OpyrVdusUlGSrq6nO0ScadU6rMbQJfYuQHsN2TE7Z+6Tb8W8nMJCwJm2qxQ72y4x4SLts9jePr8nZKTWsrF59axdSsBKwj2ONNxGJtsq0j4oneW9+hwnXtsu7VMCZ59YpoK+sNE1kI1yn6TiaSOrZZyGYi2YnSbmYLgIHNeDCB9Nf5+8175dFYZtoZLCtg0Qe1IWt0J4vcy0KZ0fPTv2dnWiILWOks+KIGGnxkLgGlVjEly+7IOYF9gttdz43sIkV16iTUDwPbW1yQy3dtf0VPoAWUUqkSddMTEUI5lioyqifZJLKhohm00IhypQ2TRPvQenLE807cWFFLbFShKuiyCppI1qx/eiS/Jb2aW7lsKttmzTJpWcLYkSH4G7SmFS3imhdIYJ5TChxPu15nXkBlqkmFTk5CmdGGkUQdJGuIci8d7u2VBA90N/VeAe1hpW5Jh2MPq2VkW2T3LizTJ59IKkjWSbLSTdVmlvbQTbJNlJ8hBu1R4nvxaOjv5HREHwNtGbqpVEu1Twcq6YhNzVdITLPcSIQYBIKRjkGjFSRUi2axMmul5/HbG9lRtIurH8SFfBWpswCWmnmBNfU7HVNZDApWISqVFWikMv2pMaKaem6uhVL0gWduSxFScpibd7iJHgwm1BG3VSiMQUI1Nty7edXR1s2yXsR7qhnDVUA2LZyXgpLwJ3/cIkpaT7KF9Qk4htfjh5YmO6YgJUc2cnHgaIFJfBNkqiXcyf5DDXULh1CS6D7StszcLLmKeqJa7trIp8/42SOJrIvpPHqpgsIHJbxU51JNscLN5ZyrR9R0CN43Ii+t3zzd2EyaDXktJLvCYiApI9I2fJZWMWwiS1QHDPQ/ym5kVlifnRXwmI/tSTiZMfeRx0ejR4byna6ZtpR0nmntIh1kfd+Kxvp5FPbX7M5qvb4hnFqtfne8wt6bnnlvRlgJe4ZVIVbndnYilsu8HnzD3bVrZlH/LYY+W40l6uDRfHox90kztT3aDPVoSJidfv8mwh03kjq6+WCJFrkG8L6T/v0ocW32H7nsLksIekK5Ko7Sm4I6X4esP2eXFw/FVUBALw7phcDnsQJtk/G2NZBU/N+Shb8qFcJt/vso0dDf1IVzHZgo0KxUZn2c5+nA2j8SPTpdvNyv1GtVMv4F4M7LMJYVJu4CWavuhXeXqjS4+u29hGPWPP+m65XfUwQGy16vYpuZgK4WzFW9E7Jpk+eJpUUKY6CVtrZ8WgvQj/+W4g2nTipd5Iuxrzi/6wvzHbHDLznWjXbKNyJuZeZDuLfvLwXeaYDF5yle0Dm5epJt7N2mfQgzsYfqcYsWW9QduUjr21sX9XbdA+rjt9HndQLcmy8QmsOvFusrHaFsRb7lDtMG1/7ZiNPE4yHsaEXM0nEeaxaSsiS/jAvSa/Hjfe0x170Z2h8w0T75arJS7PedxBUhkLnjX20dJ4VAQ2Y6OZIZtW8x3d+USVxra+CVddESREUqzNveYEWOdoG50fmX6/EPNelNhYaMSC7SF+h6nqqRT7wQ9vXKMw2UO1JLd8ocet93ZNA4JhA+9SWXu/dM9lIjkULhUTj4m2w2v8TDKRZ/WXDj6kOzZBZ1sXW6j3elD+LP7+a6QhNpfJvSaJs/b5vhxqU0VIyIm2pcm/lyKotPydJ4v7qEf84JKZT5wV7ddlUneXmQ01ibkijYNgW7SjvLgw2eEwjlXFZNAIbDaaygO8FzVoLrH3RmmjxCcUfeXwu2x7cuXANuJnE3lZX+EQEMYCqOnmgEcDe6jCo1BsMZZk+mMb5q5XeFRMfwmic/6qHDOR2dpIPvdcsjgqojB38bW5d3q7tvH+JfI5Tw7iX5d8RzsA0jZPhknN54yzViPWn+Q76Gz9Zq4iYPDuJ20kKx8n39hsSGP4Dmz2YtmPMFEaQGuZ+Jwbu7JpUD9MIn4+LjSMZLy77UjitRFuB8OkUiiJpVASi3FvxWOPhLl7NnkXTsMUyum1NsLDN5iIhOK0J468r9NcwJxISAfHakk5lTTkpGSXZGtycrjovbnsmjp2oKbOD84u1RJp1xfN858CtIV64v2J3//meZr6rI3k2Ve6Cl01UQE5L5R4W4N7LCPYyEZYVCMiYAnbZNly2yUsMuS5qDAZ9Fpsy7ylhfgYipAx55gKiEUoVTgoG5q8UDV4thYbBh2HwVEGjYNhL0FXgWlHeifOR84rY7YHU4ef6AlqbSTF3tSKljeP13vQJBZxv2I1TR3g2q6Jt5sbTlHa41xyce1dFUoloxVHpo/8DtE2LrEDpq6KMGUjmbAv2TLETixTkzJNKwLVRAVmqcRbe/b0jYTFREfC9DmHfvQcSLSmUslol5r8vHTF5Ky8aGNhIpOL2uM9KHt9qB+Txt/In+1EUBC9uEreY5u5nWnRiyH1eWuDZzzMOPlcYhnr7dqUTbuBXVrV0WViUXssJ1kRWNLhzwaBYGifp8xtvNYlEEwFzhDBtJ4TgdJ3Tg7Vki5ij7ceuZdYQVoXT44WySRT/P4qBX6svRvUeREx7dMnybFn7EQnQ/rB1HOOHhmwkH1U/3nK4nIdecZnmQ+eNH70y3CbjJtVZr6ix0tUyXvMl/ahVQuTQbXEaO6E0rMeOuSLJki1AxHSzAV26UBX+btcJx/NvlCD5z1bBFq1qmHTWHu71EpybQyHGx41dvfhwcAPjpbJqE+OPu+yVkTbT7+a8KWrvMfQa/w7aXvdex0TRrOBRCYln4TYKO2sU9paN+E/ZQT7/Lj2nA/L5NLI6kdhI27l3/smxHbETp2a7MV/KzEouEicq5zJv+tFxpNlByCEfbRVJBmjnyN2NK5TE5Fle/8mOwCXzG6CeVRh0g+rKwIz1rtoltyi/svHx8dSwuSiNLo/TYYBpCO8GlRA+o/X8mOlMlMEUp7tnMMPfvdJ6bUYn48xsOuYAOmkXeoA77AvifcJJve0TS3t05g0QBkUjkogeTD43psmGTaDipaNWJsS0iZj9qa9oGeLiY/9Jki5hX2Ebd4MqmmNWllzaWeKfUIJuEbap7L4/WcluWltJL/z3UF8NJnDvh9SHITyn16cPpv6s/SHS/b5yJA/A9hnyq/6n5mJzSJVQY3aivK8T4OYq7PR90D5pBl0vPt77zT5IMTv/brkGXJLCpN+rL8ydQL5vRcZyFQB0mxxN1Ql+T5YBJJexV99kuqKbNQLuL8Mq259L7APgLVS+WgW8HknXIWkMlnzm6l4UMRbq9gnui8NNoxy6cF1nrHoL8MO0osiiNuBnaL4kTJU7SrgGk8b9QnuQddTHthHJ2q9dyFWqu+lh43qPh643I+MQ/3QyYNmLpepWBjrJFn7ujK061up6aSwXfxg28WEieJQnaWRC6WcBmC1KqjfsG6je51420cJZLs6TNPSh/qVGdXObHQyKd8r4r8adB67jdvnR3VJd0q2rGS+jIgirwqkRdtWN64zFSTtPY+xWFSYAADA9kSe7Dx2WGPSPkK41XvqICFMAAAAYBP8hgkAAAAAYQIAAACAMAEAAACECQAAAADCBAAAABAmAAAAAAgTAAAAQJgAAAAAIEwAAAAAYQIAAACAMAEAAACECQAAAADCBAAAABAmAAAAAAgTAAAA2Cv/F2AAJ0gROb/6ZKAAAAAASUVORK5CYII=\" width=\"550\" height=\"100\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/serif.7kindsbold-edc1142ff036e8badd8bd5330bb853cd.png\" width=\"1048\" height=\"203\" class=\"img_E7b_\"></p><p>两种字体在 Adobe 的官网上都有介绍，但没有下载：</p><ul><li>思源黑： <a href=\"https://typekit.com/fonts/source-han-sans-simplified-chinese\" target=\"_blank\" rel=\"noopener noreferrer\">https://typekit.com/fonts/source-han-sans-simplified-chinese</a></li><li>思源宋： <a href=\"https://typekit.com/fonts/source-han-serif-simplified-chinese\" target=\"_blank\" rel=\"noopener noreferrer\">https://typekit.com/fonts/source-han-serif-simplified-chinese</a></li></ul><p>最终我们是要下载使用的，就目前的情形来看 windows、macOS、Ubuntu、Fedora 都不打算把思源体默认安装进去，微软和苹果都有自己的字体还说得过去，Linux 还不跟上这个节奏就有点不合时宜了吧，我预测今年的 Ubunut 和 Fedora 的新发布版本估计应该会用上。</p><p>系统没自带，我们自己安装吧，安装包有点大，全部下载每种字体要 1.7G，单独下载中文简体思源宋要 156M，思源黑也要近 200M，所以先找好一个好网络是很重要的。</p><p>开源字体，Github 上下载：</p><ul><li>思源黑： <a href=\"https://github.com/adobe-fonts/source-han-sans/tree/release/\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/adobe-fonts/source-han-sans/tree/release/</a></li><li>思源宋： <a href=\"https://github.com/adobe-fonts/source-han-serif/tree/release/\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/adobe-fonts/source-han-serif/tree/release/</a></li></ul><p>需要注意的一点是：下载链接是在 release 分支上，所以需要 Branch 里切换到 release 分支，不要在 master 分支。</p><p>下载还没这么简单，有一个文件格式的问题：由于不同操作系统使用的字体文件格式不同，同一操作系统的不同版本也会使用不同的字体文件，所以需要在 Subset OFT、OTF、OTC、Super OTC 4 种字体中做一个选择，选择依据：</p><p><img loading=\"lazy\" src=\"/assets/images/select.filetype-a3ca9c1c7ccb45402a9972ab5e6d4195.png\" width=\"890\" height=\"275\" class=\"img_E7b_\"></p><p>不同格式下载下来的效果：</p><p><img loading=\"lazy\" src=\"/assets/images/otf.otc-1a3fec504f1938d6345508c9f4d5b629.png\" width=\"589\" height=\"247\" class=\"img_E7b_\"></p><p>下载链接里有各种组合：按格式、按语言、按粗细，windows 上下在 OTF 或 SubsetOFT 就是了。好吧，如果你是伸手党，就直接用下面的链接吧，但我不能保证一直有效：</p><ul><li>思源黑<ul><li>OTF：<a href=\"https://github.com/adobe-fonts/source-han-sans/raw/release/OTF/SourceHanSansSC.zip\" target=\"_blank\" rel=\"noopener noreferrer\">SourceHanSansSC.zip</a>（90M）</li><li>Subset OTF：<a href=\"https://github.com/adobe-fonts/source-han-sans/raw/release/SubsetOTF/SourceHanSansCN.zip\" target=\"_blank\" rel=\"noopener noreferrer\">SourceHanSansCN.zip</a>（48M）</li></ul></li><li>思源宋<ul><li>OTF：<a href=\"https://github.com/adobe-fonts/source-han-serif/raw/release/OTF/SourceHanSerifSC_EL-M.zip\" target=\"_blank\" rel=\"noopener noreferrer\">SourceHanSerifSC_EL-M.zip(ExtraLight + Light + Regular + Medium)</a>（70M） &amp; <a href=\"https://github.com/adobe-fonts/source-han-serif/raw/release/OTF/SourceHanSerifSC_SB-H.zip\" target=\"_blank\" rel=\"noopener noreferrer\">SourceHanSerifSC_SB-H.zip(SemiBold + Bold + Heavy)</a>（55M）</li><li>Subset OTF：<a href=\"https://github.com/adobe-fonts/source-han-serif/raw/release/SubsetOTF/SourceHanSerifCN.zip\" target=\"_blank\" rel=\"noopener noreferrer\">SourceHanSerifCN.zip</a>（63M）</li></ul></li></ul><p>思源黑一开始使用的是 Apache 的 License，后来修改为 OFL 了，这次思源宋一出来就是 OFL。</p><p><img loading=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAMAAABUFvrSAAAAA3NCSVQICAjb4U/gAAAAYFBMVEUzZpmDg4PN2eZmZmaZs8xwcHDm7POZmZlNZn9zjaamvNNAcJ/Z4+yAoL/A0N+zs7ONqcb///+8vLxZg6xmjLOpqans7OzMzMyMjIzZ2dl5eXnj4+P29vZzlrmzxtlNeaaVhU/fAAAACXBIWXMAAAsSAAALEgHS3X78AAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAABh0RVh0Q3JlYXRpb24gVGltZQAyNC8wMS8yMDA2MvopKwAAAmpJREFUSIntlm2zmjAQhYFNSGvAsEHJq/r//+XdbMDr7Vz80OpMp9PMEBeFh/XknGjzs9kfP+D3R/Mf/G+B9dQdT3ewtMHJ1oXgogo0pHMAKpgy0YhAnxmqPdAnrrwV2u/B83C4ZhxXsAxtTCEGE8MC6MGBQQul4slCG6TPBjBHMCHRAeH7judM3Z4wr+Bz6Q8JDD5XnMmo7mAApwAsPTMzlI/vwd2xzDis4PKdiRCcJwKmrOhWm2MFp8Uz3SOgyvYpeMaJwd0GdoUQQzB+bZFuTemzY2offFFJYXoGnpDXDQ+bFFmCcrXxQmpbujXmBymIZM+sNz4DH7HMJxTb4qXFOCmTiwARnQnKLZFU9+XUSIA2B2tLTZcGcsbSfgWPx+6gGy16FEJcRu67+tjTldH7wvA0ZC2BT9mPPpaa3pGxXBgfwbq7ig57PQrsxXXQAm8vCYgeRlZhWldtFeTPwdehGuJIRxG3GbqXgHWllW7rqjV43cA2kJ1aSjV4R2YuifVbqCnTinO9B75UizXU8YgX7l1sYPI+cEyUk/5cChPXUKsEtq0x3wGLCr6RxrU8Mf4rOMe1uIf6zHZjM++CR3YcWeHKdlif9AiurxCWxW6hlg7zGvNdKVjSjtLWsR0OPP8Clp8db6GOKT/tWPMuOQ2a7NDzI7CZH8BKBiOzqQVItYZaqbpJUMx3wCQCDgMFj9ePbZynFazQmoUSLRU6Z2VKhrbzGmqTLW3WHPM9cHObxK1amdWeR32XgkYbS3hLdGM5jVuoW3rlmO9J8bC3Zf1w9sLfvF40bwFfev0W8NzPzVvA41fu3/mH5QMGGkHpGmUtHQAAAABJRU5ErkJggg==\" width=\"88\" height=\"31\" class=\"img_E7b_\"></p><p>OFL 是由 SIL 发起的一种开源 License，全称：Open Font License ，比 Apache 更加开放一些，只要不拿来赚钱就可以随便使用、分发。</p><p>最后，为什么叫<strong>思源</strong>，本意是 Google 和 Adobe 的几位设计师想感恩东亚的祖先们创造出了完全不同于西方的文字，但使用者何尝不需要饮水思源，感恩这些设计师们。</p>",
            "url": "https://wkevin.github.io/blog/2017/05/06/Fonts-source-han",
            "title": "思源黑体 and 思源宋体",
            "summary": "Google 与 Adobe 合作，为亚洲日、韩、中简、中繁四种预研创造了两种字体：思源黑体和思源宋体，覆盖 15 亿人群，功德无量。",
            "date_modified": "2017-05-06T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "思源"
            ]
        },
        {
            "id": "/2017/04/13/exhibition-guide",
            "content_html": "<p><img loading=\"lazy\" src=\"https://images.pexels.com/photos/841286/pexels-photo-841286.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=1&amp;w=500\" class=\"img_E7b_\"></p><table><thead><tr><th>主办</th><th>展会</th><th>日期</th><th>城市</th><th>展馆</th><th>展览面积</th><th>参展商</th><th>观众</th><th>推荐</th></tr></thead><tbody><tr><td><a href=\"http://www.cetimes.com\" target=\"_blank\" rel=\"noopener noreferrer\">创意时代</a></td><td>深圳国际先进制造与智能工厂展<br>深圳国际电子展<br>深圳国际嵌入式系统展</td><td>2017.12.21-23</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>★</td></tr><tr><td>汉诺威<br>工信部</td><td><a href=\"http://www.industrial-automation-show.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">工业自动化展(IAS)</a><br><a href=\"http://www.ciif-expo.com\" target=\"_blank\" rel=\"noopener noreferrer\">中国工博会(CIIF)</a></td><td>2017.11.7-11</td><td>上海</td><td>国家会展中心</td><td></td><td></td><td></td><td>★★★</td></tr><tr><td>自动化学会</td><td><a href=\"http://www.are-expo.cn/are-expocom/index.asp\" target=\"_blank\" rel=\"noopener noreferrer\">深圳国际工业自动化及机器人展(ARE)</a></td><td>2017.9.19-21</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>中科协</td><td><a href=\"http://www.cioe.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国光博会(CIOE)</a></td><td>2017.9.6-9</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>★★</td></tr><tr><td>贸促会</td><td><a href=\"http://www.nepconsouthchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际电子生产设备暨微电子工业展(NEPCON)</a></td><td>2017.8.29-31</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>深电装会</td><td><a href=\"http://cieeie.com/cieeie/\" target=\"_blank\" rel=\"noopener noreferrer\">中国智能/电子装备产业博览会(EeIE)</a></td><td>2017.7.27-29</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>汉诺威</td><td><a href=\"http://www.industrial-automation-shenzhen.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际工业自动化展</a></td><td>2017.6.28-30</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>★★★</td></tr><tr><td>法兰克福</td><td><a href=\"http://www.gymf.com.cn/spss/cn/\" target=\"_blank\" rel=\"noopener noreferrer\">上海智能工业展(SISS)</a></td><td>2017.6.27-29</td><td>上海</td><td>上海世博展览馆</td><td></td><td></td><td></td><td>首次</td></tr><tr><td>自动化学会</td><td><a href=\"http://www.are-expo.cn/home.asp\" target=\"_blank\" rel=\"noopener noreferrer\">上海国际工业自动化及机器人展(ARE)</a></td><td>2017.5.15-17</td><td>上海</td><td>上海光大会展中心</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>汉诺威</td><td><a href=\"http://www.industrial-automation-beijing.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">北京工业智能及自动化展</a></td><td>2017.5.10-12</td><td>北京</td><td>北京展览馆</td><td></td><td></td><td></td><td>★★</td></tr><tr><td>设管会</td><td><a href=\"http://sia-asia.com/sh/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">中国(上海)国际现代工业智能装备展览会(SIA)</a></td><td>2017.5.4-6</td><td>上海</td><td>新国际博览中心</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>贸促会</td><td><a href=\"http://www.nepconchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际电子生产设备暨微电子工业展(NEPCON)</a></td><td>2017.4.25-27</td><td>上海</td><td>上海世博展览馆</td><td></td><td></td><td></td><td>☆</td></tr><tr><td>工信部</td><td><a href=\"http://www.citexpo.org/\" target=\"_blank\" rel=\"noopener noreferrer\">中国电子信息博览会(CITE)</a></td><td>2017.4.9-11</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td></td><td></td><td></td><td>★</td></tr><tr><td>慕尼黑</td><td><a href=\"http://www.photonicschina.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">光博会</a><br><a href=\"http://www.electronicachina.com.cn/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">电子展</a></td><td>2017.3.14-16</td><td>上海</td><td>上海新国际博览中心</td><td>4.9w<br>6.9w</td><td>929<br>1230</td><td>5.3w<br>6.8w</td><td>★★★</td></tr><tr><td>法兰克福</td><td><a href=\"http://www.gymf.com.cn/siaf/cn/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">工业自动化技术及装备展(SIAF)</a></td><td>2017.3.1-3</td><td>广州</td><td>广交会展馆</td><td>4.5w</td><td>545</td><td>4.9w</td><td>★★★</td></tr><tr><td>自动化学会</td><td><a href=\"http://www.are-expo.cn/are-expocom/index.asp\" target=\"_blank\" rel=\"noopener noreferrer\">深圳国际工业自动化及机器人展(ARE)</a></td><td>2016.12.7-9</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>？</td><td>？</td><td>？</td><td>☆</td></tr><tr><td>汉诺威<br>工信部</td><td><a href=\"http://www.industrial-automation-show.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">工业自动化展(IAS)</a><br><a href=\"http://www.ciif-expo.com\" target=\"_blank\" rel=\"noopener noreferrer\">中国工博会(CIIF)</a></td><td>2016.11.1-5</td><td>上海</td><td>国家会展中心</td><td>5.6w<br>27.3w</td><td>601<br>2556</td><td>1.5w<br>16.8w</td><td>★★★</td></tr><tr><td>中科协</td><td><a href=\"http://www.cioe.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国光博会(CIOE)</a></td><td>2016.9.6-9</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>10.5w</td><td>？</td><td>15w</td><td>★★</td></tr><tr><td>贸促会</td><td><a href=\"http://www.nepconsouthchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际电子生产设备暨微电子工业展(NEPCON)</a></td><td>2016.8.3-9.1</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>4.5w</td><td>未公开</td><td>4.4w</td><td>☆</td></tr><tr><td>深电装会</td><td><a href=\"http://cieeie.com/cieeie/\" target=\"_blank\" rel=\"noopener noreferrer\">中国智能/电子装备产业博览会(EeIE)</a></td><td>2016.7.28-30</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>3w</td><td>440</td><td>4.8w</td><td>☆</td></tr><tr><td>汉诺威</td><td><a href=\"http://www.industrial-automation-shenzhen.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际工业自动化展</a></td><td>2016.6.29-7.1</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>3w</td><td>450</td><td>3.2w</td><td>★★★</td></tr><tr><td>设管会</td><td><a href=\"http://sia-asia.com/sh/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">上海国际工业自动化及工业机器人展览会(SIA)</a></td><td>2016.5.16-18</td><td>上海</td><td>上海光大会展中心</td><td>2.2w</td><td>432</td><td>3.4w</td><td>☆</td></tr><tr><td>汉诺威</td><td><a href=\"http://www.industrial-automation-beijing.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">北京工业智能及自动化展</a></td><td>2016.5.11-13</td><td>北京</td><td>北京展览馆</td><td>2.2w</td><td>210</td><td>1.7w</td><td>★★</td></tr><tr><td>自动化学会</td><td><a href=\"http://www.are-expo.cn/home.asp\" target=\"_blank\" rel=\"noopener noreferrer\">上海国际工业自动化及机器人展(ARE)</a></td><td>2016.4.26-28</td><td>上海</td><td>上海世博展览馆</td><td>？</td><td>？</td><td>？</td><td>☆</td></tr><tr><td>工信部</td><td><a href=\"http://www.citexpo.org/\" target=\"_blank\" rel=\"noopener noreferrer\">中国电子信息博览会(CITE)</a></td><td>2016.4.8-10</td><td><strong>深圳</strong></td><td>深圳会展中心</td><td>？</td><td>1700</td><td>10w</td><td>★</td></tr><tr><td>慕尼黑</td><td><a href=\"http://www.photonicschina.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">光博会</a><br><a href=\"http://www.electronicachina.com.cn/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">电子展</a></td><td>2016.3.15-17</td><td>上海</td><td>上海新国际博览中心</td><td>4.2w<br>6.2w</td><td>801<br>1088</td><td>4.5w<br>6.1w</td><td>★★★</td></tr><tr><td>法兰克福</td><td><a href=\"http://www.gymf.com.cn/siaf/cn/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">工业自动化技术及装备展(SIAF)</a></td><td>2016.3.8-10</td><td>广州</td><td>广交会展馆</td><td>4.1w</td><td>521</td><td>4.3w</td><td>★★★</td></tr></tbody></table><blockquote><p>注：“推荐” -- 仅指从工业 4.0、工业自动化的相关度方面考虑的推荐指数。</p></blockquote><p><strong>展览馆、面积及排期</strong></p><ul><li>40w: <a href=\"http://www.cecsh.com/exhibition.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">国家会展中心(上海)</a>: <a href=\"http://www.cecsh.com/complex_info.aspx?cateid=78\" target=\"_blank\" rel=\"noopener noreferrer\">2017 排期</a></li><li>34w: <a href=\"http://www.ciefc.com/\" target=\"_blank\" rel=\"noopener noreferrer\">中国进出口商品交易会展馆（广交会琶洲展馆）</a>: <a href=\"http://www.ciefc.com\" target=\"_blank\" rel=\"noopener noreferrer\">2017 排期</a></li><li>20w: <a href=\"http://www.shniec.com/\" target=\"_blank\" rel=\"noopener noreferrer\">上海新国际博览中心</a>: <a href=\"http://www.shniec.com/visit_exhibition.html\" target=\"_blank\" rel=\"noopener noreferrer\">2017 排期</a></li><li>10w: <a href=\"http://www.szcec.com/\" target=\"_blank\" rel=\"noopener noreferrer\">深圳会展中心</a>: <a href=\"http://www.szcec.com/Schedule/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">2017 排期</a></li><li>8w: <a href=\"http://www.shexpocenter.com/\" target=\"_blank\" rel=\"noopener noreferrer\">上海世博展览馆</a>: <a href=\"http://www.shexpocenter.com/ExAgenda.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">2017 排期</a></li><li>3w: 上海光大会展中心</li><li>2.2w: 北京展览馆</li></ul>",
            "url": "https://wkevin.github.io/blog/2017/04/13/exhibition-guide",
            "title": "工业4.0、自动化展会推荐列表",
            "summary": "| 主办                               | 展会                                                                                                                | 日期          | 城市     | 展馆               | 展览面积       | 参展商       | 观众           | 推荐 |",
            "date_modified": "2017-04-13T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "展会"
            ]
        },
        {
            "id": "/2017/04/09/CITE2017",
            "content_html": "<p>中国电子信息博览会，China Information Technology Expo，先多看几眼这个名字，电子信息这个称呼仿佛一下回到了 N 年前，以前很多学校还有电子信息专业，尤其是几个电子科大，但这个专业显得有些面太大、太笼统，跟我学的物理似得，学完好像啥都能干，又啥都不精。当下几年讲的多的是工匠精神，追去的是在某一领域钻研，所以自动化展、光博会、工业 4.0 展……让人望文生义。相比之下，电子信息博览会名字就笼统一下。</p><p>为什么会有这样一个命名的展会，告诉你一个我发现的原因，工信部下属的 24 个司局级单位，其中有个叫做电子信息司。工信部下还有信息通信发展司，所以你会看到<a href=\"http://ptexpo.com.cn\" target=\"_blank\" rel=\"noopener noreferrer\">“中国国际信息通信展览会”</a>，今年的日期是 9.27-30，北京国家会议中心。—— 嘿嘿，就这样喽。</p><p>闲话少说，开始说今天的 CITE 吧。</p><p>CITE 是个很年轻的展会，今年才第五届，所以即使令你有些失望，也不要沮丧，人家正在成长。</p><p>我是吃了中午饭才过去的，估计到会看的很快，所以没有一大早过去，并且很明智的带了女儿一起去，这就是事先做功课的好处，呵呵，为啥这么说，后面接着看。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409124730-20b20128fd8a8febabbbf570c8f06903.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>深圳会展中心，还是老模样，一定要坐地铁过来，一号线会展中心站下来 C 或 D 出口，不行 5 分钟即可，千万别开车过来。不过这 5 分钟路程上很多手拿别人扔掉的“展会胸卡”的人，叫卖“5 元一个，不用排队，直接进入”，靠近会展中心还有卖 10 元的，真是坑人没商量啊。看到途中上面一排站了一些人么？那里的风景不错，我今天也上去瞄了瞄。</p><p>CITE 把开幕式放在一个周日是精心安排的，主要是为了积攒人气，因为深圳人周一到周六都要忙着上班和加班，哪有时间来看展会。我为了看看这开幕式第一天“摩肩接踵”的盛况，爬上一个好角度，拍下了这张：</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409125414-b31ef0e83d68897a221a08ea639af8ed.jpg\" width=\"293\" height=\"520\" class=\"img_E7b_\"></p><p>可以用月朗星稀来形容了吧，有点惨淡，先别失望，说不定都在里面看展览呢。那就赶快进去吧。进去肯定要胸卡，排队递个名片签个表格就行了，队伍很短，5 分钟搞定，省了 5 块钱。小孩还要写一个“免责声明”才允许带进去。女儿起初还有些担心，会不会里面不让小孩看，这下放心了。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"1-号馆智能制造智慧家庭物联网大数据\">1 号馆：智能制造、智慧家庭、物联网、大数据<a class=\"hash-link\" href=\"#1-号馆智能制造智慧家庭物联网大数据\" title=\"Direct link to heading\">​</a></h2><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409130302-813a3d39ac9ef5efe9c0380f75aa7f85.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>入场第一张，人多人少自己看吧，我就不多说了。仔细看你可以发现很多孩子哦，确实走在里面很多一家三口，或者爸爸带孩子来参观的，听说我们团队的兆强也带孩子去了，不过没碰到。</p><p><img loading=\"lazy\" src=\"/assets/images/20170223134006_3130-0f356068f482ebd29a21a45824997f3f.jpg\" width=\"363\" height=\"180\" class=\"img_E7b_\"></p><p>一进入一号馆，女儿就走不动了，简直就是个游乐场，机器人、游戏机、AR、VR、连 NXP 和高通的展厅都是清一色的展出消费类、游戏类产品，一家挨一家，随便上几张图吧：</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409130605-7c7306f170e5a7963a77d2b151e40d5b.jpg\" width=\"293\" height=\"520\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409131039-90f88f5cd1373944a30a32f10c08a304.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409131643-3b0711fd53a4f298a7d17687f3e54635.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409132848-de6dd38be9b21980805b279e427f5f66.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409134006-10b1dfd7f24685957678daa007e91328.jpg\" width=\"480\" height=\"216\" class=\"img_E7b_\"></p><p>一号馆里最大的展台给了：创维、海信、海尔、TCL、熊猫、长虹、暴风……哈哈，一号馆几乎被彩电厂家承包了，仅有的 3、4 家国际品牌 FUNAC、高通、联发科都被挤到一个小角落里，给了个小展台。前几天的文中说过法兰克福广州自动化展 SIAF 给日本的基恩士一个不起眼的小角落展台，这点咱的 CITE 学的有模有样的，哈哈。</p><p>最后还有卖保健品的的，按摩器、震动器、捏脚的……无语了。随处可见小朋友和大朋友带着 VR，或拿着手柄……为啥说适合带小孩来了吧，深圳人都很聪明的，都带着小孩来玩游戏来了。</p><p>不过一号馆也不是找不到我感兴趣的，比如：熊猫的 8K 屏还是不错的，虽然人物转身时有点拖尾，仔细看的话眼睛有点不舒服</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409134944-2a09f726fec617e3ace4f9e660fdc4dd.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>这个做血液测量的也吸引了女儿的极大兴趣，说以后再也不用扎手指了，女儿期待这一天早点到来。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409140226-7bc36a6ffb585eb9ee80eb288b0c489c.jpg\" width=\"293\" height=\"520\" class=\"img_E7b_\"></p><p>还有这个高通展台上的 AR 眼睛，还是工程样机，交名片才能试戴，还好我有名片，带上试试，效果非常不好，淡淡的能看到银河系。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409141024-5ffaac07ff2b831af2028dfe7f700308.jpg\" width=\"293\" height=\"520\" class=\"img_E7b_\"></p><p>裸眼 3D，我俩看了好一会，左边的美女在操控这个大触摸屏，很有科幻片的赶脚，前面的 85 寸大显示屏确实是 3D 效果，女儿说看着不晃眼、不累，第一次看到效果这么好的裸眼 3D，比商场里卖的好太多。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409131937-d80a098d883ffc14210d1e3e877506b8.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>他们公司还有手机、笔记本的裸眼 3D 产品，和技术人员聊聊，手机和笔记本只支持 1 个视点，就是只能跟踪 1 个人的眼睛，来对其调节 3D 效果，就像下图，我的两个眼睛被标成红色和绿色，说明它识别出了我的视点。但上面的 85 寸，工程师说可以同时支持 28 个视点，高级啊。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409132238-31beaab135a921be5e2d52e7789e445d.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>还看到一个小黑板，写上字后按一下 delete 键就瞬间消失了，非常有趣。</p><p>还有没啥东西硬要来凑数的，把压箱底的这都拿来了：</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409142909-84462765f4e72569894d8a491dba0da5.jpg\" width=\"293\" height=\"520\" class=\"img_E7b_\"></p><p>所谓的一号馆是智能制造、智慧家庭、物联网、大数据么，实际至于智慧家庭，另外 3 样别抱希望了，可以说几乎没有。</p><p>女儿玩累了，二号馆，走起。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"2-号馆显示\">2 号馆：显示<a class=\"hash-link\" href=\"#2-号馆显示\" title=\"Direct link to heading\">​</a></h2><p>二号馆是显示馆，主要展商是：OLED 联盟，LG、天马、ROYOLE，其他都是小展台，仍然一股浓浓的游戏风，这家卖显示屏的直接把游戏战队带来了</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409150706-e796063410f2260163fd1052c18c6137.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>一边请的职业队在打啥游戏我也不懂，没玩过，另一边给用户体验，嘿嘿！这些体验的能不能用心点，看动画片能体验出啥啊？</p><p>2 号馆几乎一半是空的，显得实在太空旷，参观指南上的很多公司都没有出现，所以主办方临时圈了展馆 1/4 的地，收费玩游戏，20 元一次，里面有 AR、VR、跳舞机、射击游戏机、电视互动游戏……</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409150912-e57a22c536d602635cf492f24229049b.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>一看收钱，女儿里面拽我走，说：这些无聊游戏我不感兴趣。👍！女儿你太棒了！</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"34-号馆智能制造机器人与智能系统\">3、4 号馆：智能制造、机器人与智能系统<a class=\"hash-link\" href=\"#34-号馆智能制造机器人与智能系统\" title=\"Direct link to heading\">​</a></h2><p>3、4 号馆非常小，两个馆加起来才有 2 号馆大，或 1 号馆的 1/3 大，所以来回走 50 米就逛完了，大概用了 10 分钟，总结都不知道说啥：都是国产品牌，大族、富士康、埃夫特、新松挑大梁，以前都了解过，展台也了无新意，就直接飘过了，只看到丹麦的 UR 机器人和几家国产机器人的展台并排防止，有种格格不入的感觉，我看 UR 的同学有点寂寞，就上去聊了聊，还拍了一小段视频，UR 的同学很 Nice，帮我拍的不错，不过最后不忘把 UR 的示教器也拍进去，哈。</p><p>剩下就是自动化集成的公司了，看到了我熟悉的创科、拓野，不过咱不是来叙旧的，而是来交新朋友的，所以也飘过了，可是一圈走下来，新朋友只交到一家：伙伴气动，其他家莫怪，上个月刚看完广州的 SIAF，再看这里确实提不起兴趣。</p><p>这是伙伴仿的 SMC 同尺寸的手动调教尺，他们提供 SMC 全系列的同尺寸产品，简单聊了聊，下周说不定再邀请到我司聊聊，哈哈。</p><p><img loading=\"lazy\" src=\"/assets/images/IMG20170409152420-ab6ec881e679e53f28bd5b147f5a2476.jpg\" width=\"520\" height=\"293\" class=\"img_E7b_\"></p><p>剩下几个馆我就不是很关心了，回家，总共逛了 2h，1 个半小时在和女儿一起玩游戏，这个展会真有趣。</p>",
            "url": "https://wkevin.github.io/blog/2017/04/09/CITE2017",
            "title": "CITE 2017 第五届中国电子信息博览会",
            "summary": "中国电子信息博览会，China Information Technology Expo，先多看几眼这个名字，电子信息这个称呼仿佛一下回到了 N 年前，以前很多学校还有电子信息专业，尤其是几个电子科大，但这个专业显得有些面太大、太笼统，跟我学的物理似得，学完好像啥都能干，又啥都不精。当下几年讲的多的是工匠精神，追去的是在某一领域钻研，所以自动化展、光博会、工业 4.0 展……让人望文生义。相比之下，电子信息博览会名字就笼统一下。",
            "date_modified": "2017-04-09T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "CITE",
                "展会"
            ]
        },
        {
            "id": "/2017/04/08/exhibition-ufi",
            "content_html": "<p><img loading=\"lazy\" src=\"https://www.ufi.org/wp-content/uploads/2016/01/1932.jpg\" class=\"img_E7b_\"></p><p>国际性的展会联盟有： AUMA, FKM, GDG, UFI, and CEFA</p><p><a href=\"http://www.ufi.org\" target=\"_blank\" rel=\"noopener noreferrer\">国际展览会联盟（UFI）</a>于 1925 年创建于巴黎，UFI 是 Union of international FairsUFI 的简称，在 2003 年该组织决定更名为全球展览业协会（The Global Association of the Exhibition industry），仍简称 UFI，官网上会同时出现这两个名称。国际展览联盟是迄今为止世界展览业最重要的国际性组织。UFI 的会员分两种：Full Members、Associate Members。Full Members 目前有 722 位成员，包括 展览公司 375 家，展馆公司 105 家，有展馆的展览公司 125 家，网站上可以方便的按地域、国家、城市查询成员，比如来查一下深圳的成员：</p><p><img loading=\"lazy\" src=\"/assets/images/ufi.full.member.shenzhen-a1f3279b9d436bafeed68c6aff15da70.png\" width=\"2262\" height=\"978\" class=\"img_E7b_\"></p><p>UFI 对展会提供两种认证方式：</p><ul><li>UFI Approved Event: 要求是必须已经举办过至少 2 次，必须提供规范的统计数据（展出面积、展商数量、观众数量等），展览必须在一个永久建筑中……</li><li>UIF Approved International Event：除了上面的，还增加了外籍参展商至少占比 10%或外籍观众至少占比 5%</li></ul><p>当前，UFI 认证的展览有 948 场，覆盖 84 个国家，官网上可以方便的按地域、国家、城市搜索展览，比如深圳会展中心的：</p><p><img loading=\"lazy\" src=\"/assets/images/ufi.events.shenzhen-c287a8b0ba5c3d3b15ba7d3d5feb768c.png\" width=\"2272\" height=\"810\" class=\"img_E7b_\"></p><p>要知道深圳会展中心今年 2017 年安排了 108 场展会，你可以到<a href=\"http://www.szcec.com/Schedule/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>查看着 108 场的排期，而 UFI 认证的只有 10 场。</p><p>UFI 囊括的太多太杂，跟自动化关系不大，就不多说了，只要看到下面的 UFI 的 LOGO，明白这是算得上有国际范儿的展商或展会就行了。</p><p><img loading=\"lazy\" src=\"data:image/jpeg;base64,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\" width=\"300\" height=\"74\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2017/04/08/exhibition-ufi",
            "title": "国际展览会联盟（UFI）",
            "summary": "国际性的展会联盟有： AUMA, FKM, GDG, UFI, and CEFA",
            "date_modified": "2017-04-08T11:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "UFI",
                "展会"
            ]
        },
        {
            "id": "/2017/04/08/exhibition-china-fair",
            "content_html": "<p><img loading=\"lazy\" src=\"http://image.cn.made-in-china.com/34f27j01ttQETkTziaVI/made-in-china.jpg\" class=\"img_E7b_\"></p><p>在中国，数得上的大型展会都是商务部指导、市政府牵头办起来的，尚没有像“汉诺威展览公司”、“法兰克福展览有限公司”、“慕尼黑国际博览集团”这样独立运作的公司来办展会，这是中国特色，所以本文标题叫做：中国特色展系。</p><p><a href=\"http://www.mofcom.gov.cn\" target=\"_blank\" rel=\"noopener noreferrer\">商务部</a>是干啥的，招商引资的，另外各类涉外商务交易会、展览展销会、投资贸易洽谈会……也都归她管。搜索关键字“商务部 展会”能看到她前些年都会发布引导支持的展会名单，但最近两年的找不到了，是不是风头有点变了？</p><p>不过官网上还是能找到 2016 年 9 月引发的《关于加强展览业标准化工作的指导意见》的通知，我竟然下载下来读完了，文中是和国家标准委员会打算联合推进中国展会的标准化，为走向国际做准备，推什么说明缺什么，我国的展会在标准化方面还有待进步。</p><p>登录以下展会的官网，你会发现背后都是商务部、工信部、发改委和市政府：</p><ul><li><a href=\"http://www.cantonfair.org.cn/cn/\" target=\"_blank\" rel=\"noopener noreferrer\">中国进出口商品交易会（广交会）</a>：商务部，1957 年创办于广州，61 岁</li><li><a href=\"http://www.chtf.com\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际高新技术成果交易会（深圳高交会）</a>：商务部，1999 年创办于深圳，19 岁</li><li><a href=\"http://www.ciif-expo.com\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际工业博览会（中国工博会）（CIIF）</a>：工信部，1999 年创办于上海，19 岁</li><li><a href=\"http://www.citexpo.org/\" target=\"_blank\" rel=\"noopener noreferrer\">中国电子信息博览会(CITE)</a>：工信部，2013 年创办于深圳，5 岁</li></ul><p>下面这些展会的主办方是行业或协会：</p><ul><li><a href=\"http://www.cioe.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际光电博览会（中国光博会）（CIOE）</a>: 中科协，1999 年创办于深圳，19 岁</li><li><a href=\"http://www.ciros.com.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际机器人展览会（CiROS）</a> + <a href=\"http://www.cmepo.com/index_auto.html\" target=\"_blank\" rel=\"noopener noreferrer\">上海国际工业自动化展览会(SIAS)</a>：机械工业联合会，</li><li><a href=\"http://www.icef.com.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国电子展</a>: 中国电子器材总公司，深圳、上海、成都 三地举办</li><li>中国国际工业自动化及机器人展览会(ARE) —— 主办方到底是谁好像有争议，网址一个是 .com 一个是 .cn<ul><li>深圳国际工业自动化及机器人展览会<ul><li><a href=\"http://www.are-expo.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.are-expo.com</a> 显示主办方是：中国工业 4.0 产业联盟/国际智能装备及机器人产业联盟/深圳自动化学会</li><li><a href=\"http://www.are-expo.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.are-expo.cn</a> 显示主办方是： 深圳自动化学会/亚洲自动化与机器人协会</li></ul></li><li>上海国际工业自动化及机器人展览会<ul><li><a href=\"http://www.are-expo.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.are-expo.cn</a> 显示主办方是： 上海机械工程学会/中国工业 4.0 产业联盟/亚洲自动化与机器人协会</li></ul></li></ul></li><li>SIA：这个展会最奇葩，网址能搜出半打，还好主办方没有分歧：中国设备管理协会、中国机械制造工业协会，但名字有分歧，英文缩写、展出排期和展馆一样，肯定是一个展会，但网站上留的电话和联系方式各异 —— 发生这种事情令人生厌，无法对其产生好印象。<ul><li>中国（上海）国际现代工业智能装备展览会<ul><li><a href=\"http://sia-asia.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://sia-asia.com/</a></li><li><a href=\"http://www.asia-sia.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.asia-sia.com/</a></li><li><a href=\"http://www.sia-show.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.sia-show.com/</a></li><li><a href=\"http://www.sia-fair.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.sia-fair.com/</a></li></ul></li><li>上海国际工业自动化及工业机器人展览会<ul><li><a href=\"http://www.siazdh.com/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.siazdh.com/</a></li></ul></li></ul></li><li><a href=\"http://cieeie.com/cieeie/\" target=\"_blank\" rel=\"noopener noreferrer\">中国智能/电子装备产业博览会(EeIE)</a>: 深圳市电子装备产业协会</li><li>NEPCON：<a href=\"http://www.nepconsouthchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际电子生产设备暨微电子工业展</a> + <a href=\"http://www.nepconchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">中国国际电子生产设备暨微电子工业展</a>：贸促会电子分会</li></ul><p>ARE 和 SIA 的名字太奇葩，“上海国际工业自动化及机器人展览会”--“上海国际工业自动化及工业机器人展览会”，只差两个字，撞脸都要撞成饼了，导致 2017 年 4 月 SIA 即将要开展之前中文名修改为 “中国（上海）国际现代工业智能装备展览会”，虽然和英文缩写已经严重对不上，但英文缩写没变。</p><p>也能找到一些展览公司举办的自动化、工业 4.0 相关的展会：</p><ul><li><a href=\"http://www.cetimes.com\" target=\"_blank\" rel=\"noopener noreferrer\">深圳创意时代</a><ul><li>深圳国际电子展</li><li>国际嵌入式系统展</li><li>深圳国际先进制造与智能工厂展</li></ul></li><li><a href=\"http://www.bjgjlc.com\" target=\"_blank\" rel=\"noopener noreferrer\">北京国机联创</a><ul><li><a href=\"http://www.roboimex.com\" target=\"_blank\" rel=\"noopener noreferrer\">中国（广州）国际机器人、智能装备及制造技术展览会</a></li></ul></li></ul><p>是不是看的眼花缭乱了？名字之间都太像，傻傻分不清呐，咋办？明明都是中国的，名字都带着“国际”两个字，再看人家德国人的展会明明是国际性的，名字却都没有“国际”两个字，这下知道要怎么分辨了吧。</p><p>中国还有个类似 UFI 的<a href=\"http://www.caec.org.cn\" target=\"_blank\" rel=\"noopener noreferrer\">中国展览馆协会</a>，但是首页上明显位置挂着个大标签：“缴纳会费的通知”，理事单位一年 5000，会员单位一年 2000，哈哈。</p><p>最后，分享一篇文章：<a href=\"http://news.xinhuanet.com/comments/2003-11/17/content_1181276.htm\" target=\"_blank\" rel=\"noopener noreferrer\">《上海工博会离汉诺威还有多远？》</a>。</p>",
            "url": "https://wkevin.github.io/blog/2017/04/08/exhibition-china-fair",
            "title": "中国特色展系",
            "summary": "在中国，数得上的大型展会都是商务部指导、市政府牵头办起来的，尚没有像“汉诺威展览公司”、“法兰克福展览有限公司”、“慕尼黑国际博览集团”这样独立运作的公司来办展会，这是中国特色，所以本文标题叫做：中国特色展系。",
            "date_modified": "2017-04-08T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "中国",
                "展会"
            ]
        },
        {
            "id": "/2017/04/08/exhibition-messe-muenchen",
            "content_html": "<p>Messe Muenchen 简称 MM，LOGO：</p><p><img loading=\"lazy\" src=\"/assets/images/Logo_Messe_Munchen-ca818499980467b7b49ebce3db3b8648.png\" width=\"440\" height=\"250\" class=\"img_E7b_\"></p><p>LOGO 是两个斜着写的 MM，但又表示两束光线，照亮前方的路，哈哈 —— 我瞎掰的，主要是为了让你记住这个 LOGO。</p><p>汉诺威从工业展览做起，法兰克福从商贸展览做起，慕尼黑则是从光学展览做起。1964 年的愚人节，慕尼黑商贸展览公司成立，股东是慕尼黑市政府，起初都是政府根据当期情况创建有特色的展览公司，后来逐渐发展壮大，起初是眼镜展、后来是光伏展、激光展、现在有光电展、近几年又要站在机器视觉这个风口上，举办了 N 多年的光博会里加入了很多机器视觉的公司……跟着时代在变迁。</p><p><a href=\"http://history.messe-muenchen.de/#!1964_Sieben_Veranstaltungen\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>能够看到慕尼黑展览公司的发展史，从 1960s 年代开始，一直到现在，每年一段，有兴趣的可以去拜访一下。</p><p>今天，半个世纪过去了，慕尼黑展虽然没有汉诺威和法兰克福展规模庞大，但也每年在自家的展馆里操办这 40 多场展会，也算元老级大哥吧。</p><ul><li>展览公司<ul><li><a href=\"http://www.messe-muenchen.de/en/\" target=\"_blank\" rel=\"noopener noreferrer\">慕尼黑国际博览集团（Messe Muenchen）</a>，运营者 3 个本地的展馆<ul><li>Neue Messe München exhibition center</li><li>ICM Internationales Congress Center München</li><li>MOC Veranstaltungs center München.</li></ul></li><li><a href=\"http://www.mm-sh.com/cn/\" target=\"_blank\" rel=\"noopener noreferrer\">慕尼黑展览（上海）有限公司</a>：这是我见到的几家德国展览公司的中国分工司里网站体验做的最好的，分类清晰、直达，主板的每场展会都制作了独立的网站，并标注明确，没有试图把人绕晕的杂乱信息……</li></ul></li><li>展会<ul><li>LASER World of PHOTONICS（慕尼黑光博会）：<a href=\"http://www.photonicschina.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">上海版</a>: <a href=\"http://www.world-of-photonics.com/\" target=\"_blank\" rel=\"noopener noreferrer\">德国版</a> <img loading=\"lazy\" src=\"/assets/images/mm-1-973a1e59d9346f09f6109e969a20a30e.jpg\" width=\"150\" height=\"75\" class=\"img_E7b_\"></li><li>慕尼黑电子展：<a href=\"http://www.electronicachina.com.cn/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">上海版</a>：<a href=\"http://electronica.de\" target=\"_blank\" rel=\"noopener noreferrer\">德国版</a> <img loading=\"lazy\" src=\"data:image/jpeg;base64,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\" width=\"150\" height=\"75\" class=\"img_E7b_\"></li><li>慕尼黑电子生产设备展：<a href=\"http://www.productronicachina.com.cn/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">上海版</a>：<a href=\"http://www.productronica.com/index-2.html\" target=\"_blank\" rel=\"noopener noreferrer\">德国版</a> <img loading=\"lazy\" src=\"data:image/jpeg;base64,/9j/7gAOQWRvYmUAZAAAAAAB/+EAGEV4aWYAAElJKgAIAAAAAAAAAAAAAAD/7AARRHVja3kAAQAEAAAAUAAA/+ED+Gh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXBSaWdodHM6TWFya2VkPSJGYWxzZSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3RkE2MTJGMDM3NkExMUUyOEEwREE1MkEzNDMxMkUwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3RkE2MTJFRjM3NkExMUUyOEEwREE1MkEzNDMxMkUwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1MzIE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOkI3MzY0RjI3MEUwOUUwMTFBNEJBRjRBRkNBNzMwMjg3IiBzdFJlZjpkb2N1bWVudElEPSJ1dWlkOkI2MzY0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\" width=\"150\" height=\"75\" class=\"img_E7b_\"></li></ul></li></ul><p>慕尼黑展览公司在中国很克制，每年只有十多场，并且展会类型大多和德国相同，尚没有像法兰克福和光亚一样，与国内某家公司合作开发展会，而是自己独自奋斗。</p><p>最后还是来看看这 3 场展会的规模吧：</p><table><thead><tr><th>展会</th><th>日期</th><th>展馆(面积 m2)</th><th>展览面积(m2)</th><th>参展商</th><th>观众</th></tr></thead><tbody><tr><td>光博会</td><td>2017.3.14-16</td><td>上海新国际博览中心(20w)</td><td>4.9w</td><td>929</td><td>5.3w</td></tr><tr><td>光博会</td><td>2016.3.15-17</td><td>上海新国际博览中心(20w)</td><td>4.2w</td><td>801</td><td>4.5w</td></tr><tr><td>慕尼黑电子展</td><td>2017.3.14-16</td><td>上海新国际博览中心(20w)</td><td>6.9w</td><td>1230</td><td>6.8w</td></tr><tr><td>慕尼黑电子展</td><td>2016.3.15-17</td><td>上海新国际博览中心(20w)</td><td>6.2w</td><td>1088</td><td>6.1w</td></tr></tbody></table><p>光博会、电子展是同期举办的，地点也是一起的，但买票就要买两张了。</p><p>光博会既然是德国人举办的，自然来了很多德国品牌，我看到了一张今年光博会的德国机器视觉展团的列表，每家都有哪些产品列的非常仔细，我最近已经重点参考了此列表：</p><p><img loading=\"lazy\" src=\"/assets/images/laser.vision-61ae1939cfa77a4b1bd665c8ec9c9064.jpg\" width=\"360\" height=\"640\" class=\"img_E7b_\"></p><p>光博会作为亚洲第一光电盛宴，今年提出了“智能光制造”时代的概念，猛一下估计会被吓住，“智能光制造”，是智能制造里的光学部分？还是智能地制造光？这年头各个都要提出自己的概念，活的都不容易。</p><p>据预测，2020 年全球激光市场将达到 6,150 亿欧元，中国肯定是工业激光器和激光系统最为重要的应用市场。大族激光、光大激光们的春天来了，我们通信业的春天已经过了，呵呵。前几天得知现在一个 100G 的光模块价格都 8000 人民币了，中兴产品也有用到，一年发货千把个光模块都赚翻了。</p><p>光博会还打着“智能机器人与先进激光加工技术的融合，构建智能工厂”的旗号，邀请了发那科、ABB、KUKA、史陶比尔、安川等大批机器人，集中展示了激光加工机器人的“智能”魅力！—— 这就完美了，无论是汉诺威的工博会、还是法兰克福的自动化会、还是慕尼黑的光博会，最终进场一看，都是机器人、视觉这波儿人，哈哈。</p><p>其实有个国内的组织：<a href=\"http://www.visionchinashow.net\" target=\"_blank\" rel=\"noopener noreferrer\">中国机器视觉产业联盟（Vision China）</a>，每年在北京、上海、深圳举办 3 次研讨会，但都是随着别人的展览，其官网上也放出展商名单、展馆布局……不知道的还以为是该联盟在组织展会，其实他只是组织了研讨会而已，而参加过这种大型展会的同学都知道，展会上的研讨会有多鸡肋，有多少人会驻足观赏……不说了，挺尴尬的。</p><p>Vision China 蹭人家的 3 场展会分别是：</p><ul><li>北京：没找到，Vision China 官网上写的北京中国国际展览中心 10 月 11 日，但国展中心的排期上没有这个档期的</li><li>上海的慕尼黑光博会</li><li>深圳的汉诺威华南自动化展</li></ul><p>不管怎么说慕尼黑不光只有拜仁慕尼黑队，还有这么强大的展览公司，还给我们带来了光博会。</p>",
            "url": "https://wkevin.github.io/blog/2017/04/08/exhibition-messe-muenchen",
            "title": "慕尼黑展系(Messe Muenchen)",
            "summary": "Messe Muenchen 简称 MM，LOGO：",
            "date_modified": "2017-04-08T01:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "慕尼黑",
                "展会"
            ]
        },
        {
            "id": "/2017/04/06/exhibition-messe-frankfurt",
            "content_html": "<p><img loading=\"lazy\" src=\"https://www.messefrankfurt.com/content/dam/messefrankfurt-redaktion/corporate/images/stages/corp-stage-company-2560x1440.jpg.transform/1280w/image.jpg\" class=\"img_E7b_\"></p><p>德国有两个法兰克福（Frankfurt），东西部各一个：</p><ul><li>奥得河畔法兰克福（德语:Frankfurt an der Oder）：是个东部的小城</li><li>美因河畔法兰克福（德语:Frankfurt am Main）： 德国第 5 大城市，位于黑森州，德国有 16 个州（包括 3 个城市州：柏林、汉堡、不莱梅，估计和我们的直辖市差不多），黑森州位于中西部，有莱茵河和美因河流过这里。</li></ul><p>网上有这样一副趣图，画的是德国各州的特色，黑森州画的是格林兄弟，就是写格林童话的那位。</p><p><img loading=\"lazy\" src=\"/assets/images/german-3665d4b1ef8ebf7e0b6539a53efb153f.jpg\" width=\"564\" height=\"835\" class=\"img_E7b_\"></p><p>汉诺威是传统的工业基地，好似咱沈阳，法兰克福是工商业、金融和交通中心，类似咱的北京？bing 地图上两者相距 371km，3 小时路程。两者距离出海口我在 bing 和 baidu 上量了一下，都是 200+公里；法兰克福虽然不临海，但位于美茵河畔，交通也算便利吧。</p><p>我没去过法兰克福，啥样只能在 google earth 上逛逛了。对它仅有的印象好像以前看过一个纪录片，说它绝大部分的建筑在二战中被 30+次大轰炸给炸光了，千年古城一片废墟，跟我家乡开封一样，一场洪水成为了地下城。还知道一点的就是咱杨晨当年转会法兰克福俱乐部，成为五大联赛中国第一人，当时法兰克福还在德甲，后来浮浮沉沉，总在保级、进级之间徘徊。</p><p>法兰克福展览也是历史悠久了，少说也有半个世纪吧，并且不是从工业开始的，而是贸易类的，比如书展、纺织品展、到后来的车展……我查了一下，法兰克福的展览主要由<strong>法兰克福展览有限公司（Messe Frankfurt Exhibition GmbH）</strong>组织进行的，这家公司成立于 1908 年，还是个国营机构，由法兰克福市政府和黑森州政府各自控股 60%和 40%，公司已经走向全球，不仅仅在自己城市玩了，每年在 30 多个城市举办超过 100 个展会。</p><p>先给关键的几个链接：</p><ul><li><strong>公司</strong>：<ul><li><a href=\"http://www.messefrankfurt.com/\" target=\"_blank\" rel=\"noopener noreferrer\">法兰克福展览有限公司（德：Messe Frankfurt GmbH，英：Frankfurt Trade Fair）</a></li><li><a href=\"http://www.hk.messefrankfurt.com/\" target=\"_blank\" rel=\"noopener noreferrer\">法兰克福展览（香港）有限公司</a>：1994 年成立</li><li><a href=\"http://www.cn.messefrankfurt.com/\" target=\"_blank\" rel=\"noopener noreferrer\">法兰克福展览（上海）有限公司</a>：2002 年成立</li><li><a href=\"http://www.gymf.com.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">广州光亚法兰克福展览有限公司</a>：2006 年成立，成立之初主要举办照明展，后来业务越来越广泛了</li></ul></li><li><strong>展馆</strong>：<ul><li>法兰克福展览中心（Frankfurt Trade Fair grounds）是世界第三大展场，由 10 个展览厅组成，占地面积 47 万平方米（室内 32）</li></ul></li><li><strong>展览</strong>：全球的展会都是母公司和子公司合作组织的，五花八门、各式各样，汽车展、消费品展……自动化只是其中一小部分，中国国内有两场：<ul><li><strong>SIAF - 广州国际工业自动化技术及装备展览会</strong>：<a href=\"http://www.spsinchina.com/guangzhou/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">Messe Frankfurt GmbH 入口</a>、<a href=\"http://www.gymf.com.cn/siaf/cn/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">广州光亚法兰克福入口</a></li><li><strong>SISS - 上海国际智能工业解决方案研讨会暨展览会</strong>：<a href=\"http://smart-industry-solution-shanghai.hk.messefrankfurt.com/shanghai/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">Messe Frankfurt GmbH 入口</a>、<a href=\"http://www.gymf.com.cn/spss/cn/\" target=\"_blank\" rel=\"noopener noreferrer\">广州光亚法兰克福入口</a></li></ul></li></ul><p>下载 SIAF 的 2017 展后报告，摘录数据如下，SISS 是 2016 年第一次举办，仅有研讨，没有展览，2017 年开始有展览，所以都没有数据，最终能到啥规模，我们拭目以待吧。</p><table><thead><tr><th>展会</th><th>日期</th><th>展馆(面积 m2)</th><th>展览面积(m2)</th><th>参展商</th><th>观众</th></tr></thead><tbody><tr><td>SISS</td><td>2017.6.27-29</td><td>上海世博展览馆(8w)</td><td></td><td></td><td></td></tr><tr><td>SIAF</td><td>2017.3.1-3</td><td>广交会展馆(34w)</td><td>4.5w</td><td>545</td><td>4.9w</td></tr><tr><td>SISS</td><td>2016.6.28-29</td><td>上海世博展览馆(8w)</td><td></td><td></td><td></td></tr><tr><td>SIAF</td><td>2016.3.8-10</td><td>广交会展馆(34w)</td><td>4.1w</td><td>521</td><td>4.3w</td></tr></tbody></table><p>有用的东西说完了，下面开始扯闲篇。</p><p>3 月初，SIAF 在<a href=\"http://www.ciefc.com/\" target=\"_blank\" rel=\"noopener noreferrer\">广交会展馆</a>举办，这个展馆是<a href=\"http://www.cftc.org.cn/cn/\" target=\"_blank\" rel=\"noopener noreferrer\">中国对外贸易中心</a>的，每年的<a href=\"http://www.cantonfair.org.cn/cn/index.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">广交会</a>都在这里举办。中国对外贸易中心是商务部的直属单位，专门为办广交会而成立，广交会从 1957 年开始，每年春秋两次，今年都办到第 121 期了。10 年前刚来深圳的时候，就听到媒体上讨论广交会和深圳的高交会还有没有举办的必要，人们可以在网络上更快的获取和交换信息了，这两个会是不是将成为难兄难弟。一晃十年过去了，他俩还依然健在，但前年去了一次高交会，确实人气不旺，主打高科技的高交会里面还有卖电热毯的。今年的春季广交会 4 月 15 号马上就开始了，小到鼠标键盘 USB 充电宝，大到监控器复印机自动取款机，要啥有啥，没有高科技的帽子在头上带着轻松多了，有空去溜达可以当逛商场了。高交会展馆还是确实比较大的，室内展厅总面积 33.8 万平方米（A 区：13,；B 区：12.8；C 区：8），全球第 5，亚洲第 2：</p><p><img loading=\"lazy\" src=\"/assets/images/guang.jiao.hui.hall-8edbcc32643efd2fc9f8bb98a20d963c.jpg\" width=\"621\" height=\"439\" class=\"img_E7b_\"></p><p>一共是 16 个展馆（Hall），大部分 Hall 都是 2 层，个别是 3、4 层，但 2、3、4 层的高度和承重都是有限的，做点小买卖还行，大型设备就歇菜了，所以靠谱好用的真实面积要比 34w 平米小很多，排在全球第 5 有点名不副实。一个广交会当然养不活这个展馆，展馆就自己张罗了一些外块，其中就包括：SIAF。</p><p>3 月 1 日，SIAF 主办方给我司准备了 2 个包车，一大早浩浩荡荡从深圳出发。将近 11 点，卓越旅行团才抵达，导游规定了下午 3 点集合返回，4h，4 个馆，一小时一个，mission impossible，生死时速，赶紧进去吧。今年的 SIAF 有 4 个展厅：</p><ul><li>2.1（2 馆 1 楼）：机器人、机器视觉</li><li>3.1 &amp; 4.1：控制、传动、工业 4.0</li><li>5.1：传感、测量、检测</li></ul><p>头一天我们团队事先把参展商的名单打印出来，每人都大概读了一遍，并且把各自关心的品牌用彩笔标识出，因为出发前拿不到展位图，所以只好在现场规划路线了。D 很快把名单中彩笔标识的在展位图上圈出，并画出了一条最短的全覆盖路线……</p><p>回想去年 7 月份第一次参加深圳自动化展会的情景，当时还是一个彻底的 IT 人，是个完完全全自动化的门外汉，工作的需要逼迫快速的转型，这次在 SIAF 中走在好多家展台都能遇到熟人了，颇有几分感慨。但来参展不是来叙旧的，是来认识新朋友的，4h 里认识了：SICK,CONEC,TURCK,Balluff,Weiss……但大部分时间还是花在了视觉馆，第一次见到了海康、汇萃、微视……的产品，还发现了一家代理 NationalInstruments 的相机，可以基于 LabView，瞬间拉回到我在学校是学习 LabView 的时光，一晃多少年过去了，NI 还在发展 Labview 呢，我都老了。</p><p><img loading=\"lazy\" src=\"/assets/images/NIVision-7b23e1dcfc3898f679cbb34310dc0f96.jpeg\" width=\"1280\" height=\"720\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2017/04/06/exhibition-messe-frankfurt",
            "title": "法兰克福展系(Messe Frankfurt)",
            "summary": "德国有两个法兰克福（Frankfurt），东西部各一个：",
            "date_modified": "2017-04-06T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "法兰克福",
                "展会"
            ]
        },
        {
            "id": "/2017/04/03/exhibition-hannover-messe",
            "content_html": "<p><img loading=\"lazy\" src=\"/assets/images/messe.de-61cd52e9e2ee4fcf48cce59f2dfe9efb.png\" width=\"1317\" height=\"432\" class=\"img_E7b_\"></p><p>工业和自动化的展会的故事，必须要从德国说起。</p><p>德国两个以展览被人熟知的城市是 汉诺威（Hannover） 和 法兰克福（Frankfurt），尤其是我关心的工业、电子、自动化相关的展览，两个都有涉及。</p><p>找你妹游戏开始啦……请从下图中找出 Hanover、Frankfurt、Berlin。</p><p><img loading=\"lazy\" src=\"/assets/images/german.map-9128d53b2df2868a58fd4e25f2e0d13e.jpg\" width=\"1024\" height=\"650\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"汉诺威\">汉诺威<a class=\"hash-link\" href=\"#汉诺威\" title=\"Direct link to heading\">​</a></h2><p>汉诺威在北德平原上，面积 200+平方公里，只有深圳的 1/10，人口 50+万，只有深圳的 1/40，北纬 52 度，和漠河相同，回头看一眼世界地图，整个德国都在 45 度之上，都比哈尔滨靠北，估计天冷才更有劲干工业。</p><p>汉诺威从二战后 1947 开始办工业博览会，到 1986 年分出消费电子和通信展（CeBIT）、航空展、建筑展等，每个展览都还算不错，尤其是 CeBIT，每年 3 月进行，和俺们中兴华为关系较大，公司内的报纸也会报导一下，比如 17 年的 CeBIT，ZTE 展出的 5G、云终端啥的……具体没记住。HW 在 CeBIT 上发布了 OpenLab 计划和什么存储即服务的概念……具体咱也不懂，不过我有印象的是 HW 在会上发布和霍尼韦尔战略合作，最近 HW 总是和自动化公司合作（去年底和 ABB 战略合作）要搞啥子嘛？</p><p>3 月的汉诺威其实有些冰寒料峭、乍暖还寒的（咦？我还能想起这俩词来，哈哈），试想如果中国 3 月里在哈尔滨举办展览，全球有多少人会参加？</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"工博会\">工博会<a class=\"hash-link\" href=\"#工博会\" title=\"Direct link to heading\">​</a></h2><p>说重点，汉诺威工业展，俗称<strong>工博会</strong>，Hannover Messe，这是它的 LOGO：</p><p><img loading=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACkCAYAAAAZtYVBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQjBDOTJEQTdGODUxMUUzOTkyOTg2OUFEQTE2MkVFNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQjBDOTJEQjdGODUxMUUzOTkyOTg2OUFEQTE2MkVFNCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJFNDUwQzYxN0Y4MjExRTM5OTI5ODY5QURBMTYyRUU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJFNDUwQzYyN0Y4MjExRTM5OTI5ODY5QURBMTYyRUU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uPvFawAACjlJREFUeNrsnf9Z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\" width=\"164\" height=\"164\" class=\"img_E7b_\"></p><p>Messe：翻开我十多年前上学时候买的朗文双解，是没有 messe 这个词的，它是个德语词汇，表示：弥撒或博览会。为啥他俩 Hannover Messe 和 messe frankfurt 要反着来，我也不知道，大概是故意的吧。在 wiki 上英语使用 Fair 这个单词的，比如 <a href=\"https://en.wikipedia.org/wiki/Hanover\" target=\"_blank\" rel=\"noopener noreferrer\">Hanover 的 wiki 主页上</a> 写到：</p><blockquote><p>With a population of 518,000, Hanover is a major centre of Northern Germany and the country's thirteenth largest city. Hanover also hosts annual commercial trade fairs such as the Hanover Fair and the CeBIT.</p></blockquote><p>展会可不是大家自愿、自发凑到一起摆个摊，那哪能搞成气候，展览公司、展会、展馆是三块儿不同的业务，一个公司可以组织多个展会，多家公司也会组织一个展会，一个展会可以在多个城市组织多场，多个展会也会凑到一起在一个展馆里同时进行。我们走进一个展馆，看到眼花缭乱的展台，最好先弄清楚这是哪家公司组织的，又邀请了哪些公司或组织或协会来共同协办。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"汉诺威展览公司\">汉诺威展览公司<a class=\"hash-link\" href=\"#汉诺威展览公司\" title=\"Direct link to heading\">​</a></h2><p>所以，必须首先 google 一下汉诺威展览公司，Deutsche Messe AG，名字看不懂，一搜吓一跳， Deutsche 就是德语德意志的意思，英语拼写为 Germen，德语拼写为 Deutsche，你一个汉诺威展览公司敢起这么大个名号，不怕风大闪了舌头嘛？</p><p>官网网址：<a href=\"http://www.messe.de\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.messe.de</a> 也是口气气吞山河，直译为德国展会，你把法兰克福展、慕尼黑展……往哪放？难道此公司已经把公司总部挪到柏林了？</p><p>网站上一趟列出了汉诺威展览公司组织的 6 个展会，工博会排列第 3 位。</p><p><img loading=\"lazy\" src=\"/assets/images/messe.de-61cd52e9e2ee4fcf48cce59f2dfe9efb.png\" width=\"1317\" height=\"432\" class=\"img_E7b_\"></p><p>展览公司成立于 1947 年，拥用世界最大的展馆：<a href=\"https://en.wikipedia.org/wiki/Hanover_Fairground\" target=\"_blank\" rel=\"noopener noreferrer\">汉诺威国际展览中心(Hanover Fariground Cender)</a>，占地 100 万平方米，共 27 个展馆，室内展览面积达到 49.8 万平方米,停车场可停放 50,000 部车辆，位列全球第一位。下图为 2015 全球展馆<strong>室内面积</strong>排行榜。</p><p><img loading=\"lazy\" src=\"/assets/images/hall.charts-b3f22817e8309610f3fe8c7af4aaabf4.png\" width=\"680\" height=\"900\" class=\"img_E7b_\"></p><p>再来一张 Google Earth 中汉诺威国际展览中心的显示：</p><p><img loading=\"lazy\" src=\"/assets/images/hanover.fairground-birdeye-331ab35381a08460d4b931dce61fbee4.jpeg\" width=\"1280\" height=\"720\" class=\"img_E7b_\"></p><p>实景模式只有门口路上的：</p><p><img loading=\"lazy\" src=\"/assets/images/hanover.fairground-real-aee0dda1a4c33c2ae688d2ac9abf3716.jpeg\" width=\"1280\" height=\"720\" class=\"img_E7b_\"></p><p>我的 OPPO 显示上面一栏是白色的，搞了半天没搞好，凑合看吧。</p><p>展馆里面没有 3D 数据，所以没办法钻进去看，少了一些乐趣。话说我女儿最喜欢的就是在尖沙咀的 3D 楼宇里钻来钻去，跟自己是崂山道士似得。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"展会官网\">展会官网<a class=\"hash-link\" href=\"#展会官网\" title=\"Direct link to heading\">​</a></h2><p>公司和展馆就这样吧，来说说展览:</p><ul><li>英文网站：<a href=\"http://www.hannovermesse.de/en\" target=\"_blank\" rel=\"noopener noreferrer\">HANNOVER MESSE</a></li><li>中文网站：<a href=\"http://www.hannovermesse.com.cn\" target=\"_blank\" rel=\"noopener noreferrer\">汉诺威工业博览会</a></li></ul><p>整个网站基本都充斥着即将于 2017.4.24-28 召开的工博会，还有 20 天，不知道现在办护照还来得及不 T_T</p><p>中文网站上有用的除了教你怎么飞机转火车地到地方，就剩一张图了（此图和前面卫星图是对应的，只不过画的笔直了一些）：</p><p><img loading=\"lazy\" src=\"/assets/images/map-cn-37ed85556412e748a958766c250f9137.png\" width=\"2252\" height=\"1730\" class=\"img_E7b_\"></p><p>从占地面积上看：动力传动展、工业自动化展、能源展 是最大的，然后是工业零配件展、数字化工厂展。前面实景模式的门口是最南边的门口的，即：SOUTH 1。</p><p>更多的内容都会蹦到英文网站上去了，摘几条有用的或好玩的：</p><ol><li>每个展馆里面的布局： <a href=\"http://www.hannovermesse.de/en/register-plan/for-visitors/maps/\" target=\"_blank\" rel=\"noopener noreferrer\">Map of exhibition grounds</a> -- 里面下载 pdf</li><li>展商列表：<a href=\"http://www.hannovermesse.de/en/exhibition/exhibitors-products/exhibitor-short-lists/exhibitor-index/\" target=\"_blank\" rel=\"noopener noreferrer\">Exhibitor index</a> -- 还能下载 excel 版本</li><li>新闻：有 RSS（<code>feed://www.hannovermesse.de/en/news/newshub-rss-feed-news.xml</code>），赶紧加入到我的 feedly 里面</li><li>榜单：<a href=\"http://www.hannovermesse.de/en/supporting-program/awards-competitions/\" target=\"_blank\" rel=\"noopener noreferrer\">Awards &amp; Competitions</a> -- 展会除了会举办 forum，还有一些评比 Award，颁给工博会上首次亮相的产品或技术，必须是首次亮相哦，还挺有趣：<ul><li>Hermes award：赫尔墨斯奖，颁给创新性产品，好像每年都是德国总理过来颁奖。话说 HERMES 也是爱马仕哦，不会 hermes 的创始人 Hermes 先生祖籍 Hermes 吧，嘎嘎嘎。还有，在 baidu 和 bing 上分别搜索一下 hermes award ，百度出来首页全是爱马仕，bing 首页没有出现一个爱马仕，所以工程师们，珍惜时间，远离百度。<ul><li>2015 年的获奖者是德国威腾斯坦集团的 Galaxie 减速机</li><li>2016 年获奖的是德国浩亭(Harting)的微型工业计算机：MICA</li><li>2017 年的提名已经公布：<ul><li>AGS-Verfahrenstechnik GmbH, Stade, Germany</li><li>Augumenta, Oulu, Finland</li><li>Linz Center of Mechatronics, Linz, Austria</li><li>Noonee AG, Zurich, Switzerland</li><li>SCHUNK GmbH &amp; Co. KG, Lauffen/Neckar, Germany</li></ul></li></ul></li><li>Robotics award：肯定是颁给机器人的了<ul><li>2016 年获奖的是：WHN Technologies GmbH 的 X-Arm robotic hand，亚军和季军分别是：pi4 robitics GmbH，FARO Europe GmbH -- GmbH 是啥？我也不知道，查了一下是德语有限公司的意思，就是英语里的 LLC，前文中有提到 Deutsche Messe AG，AG 是股份公司的意思</li><li>2017 年不知道哪家会拿出新款机器人，拭目以待啊</li></ul></li><li>杰出女工程师评比：关爱女性，德国先行啊</li></ul></li></ol><p>OK，网站遛一遍后来说几个我自己的关注点：</p><p><strong>了解业内顶尖</strong>：说白了就是寻找大公司，扩展咱自己的视野，咋找嘞，办法很多，我常和兆强说的是<strong>“看展位”</strong>，展开展位图，主干道两边，展厅最大的，一个不要漏过，统统搜索一遍，官网上转转看看，有兴趣的就可以打电话了。有了前面的 1、2 两点，就能完成此事了。</p><p>比如：自动化是 8、9、11、12、14-17 馆，先看 8 馆吧，下载 hall8.pdf，如图</p><p><img loading=\"lazy\" src=\"/assets/images/hall8-bbc2f4ab09d62d0bc77e892a2cbb5025.png\" width=\"2252\" height=\"1728\" class=\"img_E7b_\"></p><p>图中的 D19、D20、D24、D28 八九不离十就是业内顶尖了，再从展商列表的 excel 文件中做个筛选，筛出 Hall8 的 D20</p><p><img loading=\"lazy\" src=\"/assets/images/hall8-d20-b7474e8c66103e348eff966aa7b06d70.png\" width=\"744\" height=\"388\" class=\"img_E7b_\"></p><p>喔，都是大公司吧</p><ul><li>Bosch Rexroth：博士力士乐，博士下专门做自动化的，他家的柔性输送线无人能敌啊，我也有幸最近认识了力士乐的工程师和他们的产品：TS2+输送线，和 MTpro 设计软件，尤其是 MTpro ，快速画出输送线，甚至能够直接给德国下订单、出价格，nb 的不要不要的。</li><li>EPLAN：电气画图的，就是画那些电气柜、电源柜的走线，继电器到 PLC…… 比 Solidworks electrical 更专业些，不过更适合大项目，像我们做的小项目，用用 SW 就行了。咱谁也不得罪，哈哈。</li><li>Festo：费斯托，这个真要好好推荐一下，前几天我突然成了 Festo 的粉丝，youtube 上几乎把他家的视频看了一遍，他每年推出一款仿生机器人，有：蚂蚁机器人、蜻蜓机器人、章鱼机器人……他本来是做气动元器件的，这几年不知道咋突然打通了任督二脉，机器人做的风生水起</li><li>HARTING：浩亭，上面刚提到他获奖的 MICA，其实他家是做连接器的，类似康耐，我只和康耐联系过，见过康耐工程师带过来的一些样品，没有见过浩亭的，估计差不多吧，坚固耐用。</li><li>Hirschmann：</li><li>IBM：不多说了，其实他家的自动化产品还真不了解</li><li>ITAC：</li><li>Mettier-Toledo： 梅特勒-托利多，瑞士的，京东上有他家专卖店，除了汤锅就是炒锅，下次我家买过，考虑试试他家的。为啥归到工业自动化里，不知道</li><li>MiniTec：</li><li>Phoenix Contact</li><li>Pilz</li><li>proALPHA</li><li>TE</li><li>Weidmuller：魏德米勒，前几天刚发了朋友圈说的他家的远程 IO，获得德国国家设计奖，他家的产品线很长，虽然都是些零零碎碎的，但经过接触，确实独到，厂家上次还送我了几片超薄的继电器和直插式端子，能够节省不少电气柜空间。</li><li>WIBU</li></ul><p>空着的品牌是我不了解的，不能乱说，写了的我基本和其销售或工程师聊过，还能随口摆几句。</p><p>这还只是一个展馆里一个展区的几家，知道 Hall8 展馆了总共多少家么？我去 Excel 里筛选一下，总共：186 家。工业自动化总共（8、9、11、12-17 馆）总共：1746 家。整个汉诺威参展商 6589 家，在这么多厂家中咋找到业内顶尖呢？要不试试我的办法 -- 看展位？ 哈哈。 -- 不过这也是个力气活啊，考验人的耐心和定力啊。</p><p>我关注到的第 2 点：</p><p><strong>汉诺威对产业的分类</strong>：本来我是看不到这层的，因为只有注册用户才能进行一种像淘宝选货那种高级搜索，多个分类条件（公司性质、产品种类、地域、展厅、展区）分别选中后自动筛出结果，没注册的只能 1 个筛选条件有效，但是 bing 帮我绕了过去，我进入了高级搜索 <a href=\"http://www.hannovermesse.de/search\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.hannovermesse.de/search</a> ，看到了里面的一些有趣内容。</p><p>比如说，工业自动化大类下汉诺威细分了 23 个小类：</p><ol><li>Assembly and handling</li><li>Automatic control engineering, control technology</li><li>Building Automation</li><li>Electrical components, contactors, switches, command and signalling relays, housings</li><li>Electric motors, frequency converters and magnetic technology</li><li>Electronic components, equipment and optoelectronics for automation</li><li>Embedded systems</li><li>Factory equipment, maintenance accessories</li><li>Industrial identification, automatic data capturing (ADC), identification systems, tracking and tracing</li><li>Industrial image processing</li><li>Industrial PCs</li><li>Industry 4.0, industrial communication, fieldbus systems, wireless automation</li><li>Laser technology</li><li>Measuring technology and testing technology for automation</li><li>Microtechnology - smart systems</li><li>Mobile automation</li><li>Process automation</li><li>Production engineering for electrical engineering and electronics</li><li>Robotics</li><li>Safety and security in automation</li><li>Sensors and actuators</li><li>Services for Industrial Automation</li><li>Solutions and components for medical technology and pharmaceutical industry</li></ol><p>这些分类标准我觉得挺有看头，具体是啥看头，上班了和兄弟们聊。当我想去看看数字化工厂、工业零件的细分小类时，登录超时了，bing 再没能帮我绕进去，香菇、蓝瘦。</p><p>好了，这就是我今天了解的汉诺威，写出来也是因为清明小假不想出去，在家又闲的无聊，一壶茶、一下午，仅此，希望对读到者有些许帮助。</p><p>最后，放两个前文提到了两个获奖作品的小视频:</p><ul><li><a href=\"http://v.youku.com/v_show/id_XMjY4NTYyMDU1Ng\" target=\"_blank\" rel=\"noopener noreferrer\">2016 HERMES Award 的 MICA</a></li><li><a href=\"http://v.youku.com/v_show/id_XMjY4NTM4NzYyOA\" target=\"_blank\" rel=\"noopener noreferrer\">2016 Robics Award 的 X-Arm</a></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"汉诺威与中国\">汉诺威与中国<a class=\"hash-link\" href=\"#汉诺威与中国\" title=\"Direct link to heading\">​</a></h2><p>汉诺威和中国当然不会没有交集，2008 年 1 月，德国汉诺威展览公司和意大利米兰展览公司正式签署合作协议，成立合资公司: <a href=\"http://www.hmf-china.com/\" target=\"_blank\" rel=\"noopener noreferrer\">汉诺威米兰国际展览有限公司</a>，下属两个子公司：中国有限公司和上海有限公司，组织的展会有不少，和自动化有关的有：</p><ul><li><a href=\"http://www.industrial-automation-beijing.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">北京国际工业智能及自动化展览会</a>: 北京</li><li><a href=\"http://www.industrial-automation-shenzhen.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">华南国际工业自动化展</a>: 深圳</li><li><a href=\"http://www.industrial-automation-show.com/CN/\" target=\"_blank\" rel=\"noopener noreferrer\">工业自动化展</a>: 上海</li></ul><p>北京、深圳、上海的这三场盛会系出名门，华北、华东、华南雨露均沾，都是值得参观的、有价值的展会。</p><p>北京的简称：IAB(Industrial Automation BEIJIN)，上海的简称：IAS(IA Show)，深圳的没简称，不知道他们内部是咋协调的，</p><p>上海的工业自动化展在虹桥的<strong>国家会展中心</strong>举行，全球第二大哦，室内 40w 平米，露天 16w 平米，前面图中有示，虹桥机场旁边，地铁 2 号线走到尽头。</p><p>我下载了他们 3 个展会 2016 年的展后报告，可以比较一下他们的规模，顺便加上 2017 年的日程</p><table><thead><tr><th>展会</th><th>展馆(面积 m2)</th><th>展览面积(m2)</th><th>参展商（国内，国际）</th><th>观众</th><th>2017 展会时间</th></tr></thead><tbody><tr><td>北京国际工业智能及自动化展览会</td><td>北京展览馆(2.2w)</td><td>2.2w</td><td>210(74,136）</td><td>17,591</td><td>5.10-5.12 2017</td></tr><tr><td>华南国际工业自动化展</td><td>深圳会展中心(10.5w)</td><td>3w</td><td>450(337,113)</td><td>32,313</td><td>6.28-6.30 2017</td></tr><tr><td>工业自动化展</td><td>国家会展中心(上海)(40w)</td><td>5.6w</td><td>601(270,331)</td><td>155,527</td><td>11.7-11.11 2017</td></tr></tbody></table><blockquote><p>北京展览馆比较小，但名气可不小，人家可是底蕴丰厚的展览馆，有毛主席的亲笔。</p></blockquote><p>从规模上看，上海的展览面积和参展商和北京+深圳相当，观众是北京+深圳的总和的 3 倍，上海吸引了 300+家国际展商，又北京或深圳的 3 倍 —— 将来有机会，还是要去上海看看这场展览啊。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"其他\">其他<a class=\"hash-link\" href=\"#其他\" title=\"Direct link to heading\">​</a></h2><p><strong>CeBIT 2018 将于 6 月 11-15 日在德国汉诺威展览中心举行</strong></p><p>昨天（2017.4.3）写主文的时候还说 3 月天冷，参观 CeBIT 都得穿毛衣吧，今天看到消息：CeBIT 将为 Y 世代（80 和 90 后）进行全面革新，2018 将于 6 月 11-15 日在德国汉诺威展览中心举行。想想也是，CeBIT 和 工博会现在都是全球盛会了，相邻两个月举办两个大会，汉诺威展览公司肯定是忙的不行，前半年忙成狗，后半年闲的抖 -- 挪到 6 月，挺好的。</p>",
            "url": "https://wkevin.github.io/blog/2017/04/03/exhibition-hannover-messe",
            "title": "汉诺威展系(Hannover Messe)",
            "summary": "工业和自动化的展会的故事，必须要从德国说起。",
            "date_modified": "2017-04-03T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "汉诺威",
                "展会"
            ]
        },
        {
            "id": "/2016/01/08/How.Google.Works",
            "content_html": "<p>书不厚，三百页，去掉注释才二百多，专心看一天能读完。\n英文名《How Google Works》，中文名《重新定义公司-谷歌是如何运营的》，从名字上看，译者自己添加了“重新定义公司”几个字，别有用心还是特意为之就不好说了，也可能是应出版社的要求加进去——因为中信出版社在2015年12月翻译出版了另外一本Google的书（本书译制版是2015年9月出版）：Google首席人才官写的《重新定义团队：谷歌如何工作》，两本书出版社估计是统一筹划的。</p><p><img loading=\"lazy\" src=\"http://uisdc.qiniudn.com/wp-content/uploads/2014/11/how-google-works-1.jpg\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"说说作者\">说说作者<a class=\"hash-link\" href=\"#说说作者\" title=\"Direct link to heading\">​</a></h2><p>我本人读书一般都会先百度和维基百科一下作者和出书的背景，因为除了数理化类似的公式，其他内容通常是和作者所处的场景，和书中内容所处的历史时代、历史事件有关系的，同一套价值观或方法论在不同的历史场景中有不同的理解，先八卦一下很有必要。</p><p>乔纳森.罗森伯格（Jonathan Rosenberg ），2002年加入Google的，那年他40岁，一路开发做上去，2011年升职为产品高级副总裁（SVP:Senior Vice President of Products）。</p><p>埃里克.施密特（Eric Emerson Schmidt）2001年加入Google，那年他46岁，职涯比乔纳森要丰富的多，在Google之前，是伯克利分校的电子工程博士，在贝尔实验室、施乐研究院工作过，成为了Unix的创始人之一，lex的创始人；然后跳槽到SUN做到CTO，做大JAVA；97年又跳槽到Novell做CEO；2001年又跳槽到Google，以员工身分所获得股权而成亿万富翁，和两位创始人一起称之为Google的“三驾马车”，可以说是技术和管理的双绝人物。有趣的是2006年，Eric又受邀加入苹果公司的董事会，苹果正在搞iPhone和iOS，与Google正在谋划的Android形成竞争，2009年8月，乔帮主和Eric最后不得不分道扬镳，Eric卸任苹果董事专心驾驭Google。2011年，埃里克把坐了10年的Google CEO也转给了Google创始人佩奇，但继续担任Google的执行董事和特别顾问（executive chairman of the company ）。Eric是受创始人邀请担任的CEO，然后有卸任CEO给创始人，是不是听起来很奇怪？如果用武则天最后把皇位归还给了李家来打比方，是不是好理解多了，呵呵。</p><p>Google的两位创始人，谢尔盖.布林(Sergey Brin) 和 拉里.佩奇(Larry Page) 是两位技术天才，都是70后，比埃里克小18岁左右，可以推测，Google的精神领袖是Brin &amp; Page，但管理和运营还是靠的Eric。Eric的书理所当然写的是Google的管理，如果哪天创始人出了书，应该会一半是算法和代码吧。推荐网上搜看一篇文章《Larry Page 的伟大归来》，讲了一些有趣的事情：2001年3月Schmidt已经成为了Google的董事长，所有人都认为他会在结束Novell的CEO任期之后立刻出任Google的CEO，但是Page反对Eric出任CEO，希望工程师直接向自己汇报，Page为了达到此目的，突然解雇了所有的项目经理，没过多久，公司乱作一团，Google继续启用项目经理，Eric在8月也顺理成章地坐上了CEO，Eric很长时间都很不开心。</p><p>所以说，Page和Apple的Jobs有几分类似，都是创始人，Jobs被董事会解雇，Page也被董事会放逐，请来了Eric做CEO；Jobs后来重掌Apple，Page也在11年后又坐上Google的CEO。创始人被投资人放逐，在中国还是比较少见的吧。Page和Jobs的个性也几分相似，固执、偏执、急躁、完美主义……</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"说说销量和关注度\">说说销量和关注度<a class=\"hash-link\" href=\"#说说销量和关注度\" title=\"Direct link to heading\">​</a></h2><p>在amazoon上英文版评分4.4（满分5），还不错，但只有3百多个review，热度还是比较低的（《从0到1》是1236个review），销量和关注度都比较不理想。原因之一可能是（我猜的）：本书主要是第二作者乔纳森执笔的，Eric相当于只是冠名，大家可能比较厌恶这种冠名却要冠第一作者的书和文章吧。amazoon上的中文版是无评分，无评论，无销量，属于三无书籍。豆瓣上的中文版倒是给了很高的评价8.3分（满分10），主要应该是中文读者在amazoon上买中文书较少的缘故。</p><p>还有一点，本书有简体中文版和繁体中文版，其中简中版对Google退出中国的章节做了删减，但不多，想看的话可以参考英文原版或繁体版。</p><p><img loading=\"lazy\" src=\"http://uisdc.qiniudn.com/wp-content/uploads/2014/11/20141105133017_91616.jpg\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"正文要点\">正文要点<a class=\"hash-link\" href=\"#正文要点\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"前言\">前言<a class=\"hash-link\" href=\"#前言\" title=\"Direct link to heading\">​</a></h3><p>前言强调了Google的工程师文化，推出了“Smart Creatives”概念，书中翻译为创意精英，这个群体跳出了传统工程师的概念，是灵感和创意的源泉，并且不受部门和组织的约束。当然，书中也特别的指出：Brin和Page是创意精英中的精英。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"文化\">文化<a class=\"hash-link\" href=\"#文化\" title=\"Direct link to heading\">​</a></h3><p>企业文化是个庞大而虚幻的名词，书中并没有走高大上路线，而是举例说明，总结下来有这么几点：</p><ol><li>把问题做成招贤榜贴出来，吸引创意精英自动上钩，而不是批评问题制造者并令其改进。</li><li>将办公室布置的拥挤且喧闹以提高互相碰撞的几率，将休闲区布置的安静和惬意以提高思考的效率。—— 其实我们也是类似的，只不过我们在会议室碰撞，在办公区思考，结果就是我们碰撞为副，思考为主；Google是碰撞为主，思考为副。</li><li>创意精英要与“河马”（高职、高薪人员）和谐共处</li><li>团队的划分：7法则（桌上只有7份直接报告）和两个披萨（2个披萨就能让团队吃饱）</li><li>组织要以“有影响力”的人物为中心 —— 这一点在没有达到“失控进而冒出”的团队或组织中是很难实现的，人们会不由自主的向河马靠拢，因为他掌握着你的KPI。</li><li>如何处理加班</li><li>不作恶</li></ol><p>例子有很多，TGI Fridays聚餐会议、如何和新任奶爸奶妈沟通、建个吐槽网站让大家匿名吐槽……我们理解是没有什么困难的，但移植过来还是要慎重考量的。—— 这就是企业文化，企业文化不仅仅是工卡后面的几句话，那是口号，是供人相信的；企业文化还包括实践条款，是供人操作的。同一个口号在不同的团队、组织中可以有完全不同、甚至相反的解释。实践条款有时候并不能像法律条文那样一一列举，而是要靠言传身教、口耳相传、榜样力量……“寒夜送饺子”的故事传播开来要比让大家背诵口号要更有实际意义。\n企业文化是在长期的听其言、观其行的工作实践中形成的，我司将来某领导的回忆录或鸡汤书中也许也能举出一串串的例子来表达我们的企业文化。</p><p><img loading=\"lazy\" src=\"http://uisdc.qiniudn.com/wp-content/uploads/2014/11/20141105134244_50276.jpg\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"战略人才决策沟通\">战略、人才、决策、沟通<a class=\"hash-link\" href=\"#战略人才决策沟通\" title=\"Direct link to heading\">​</a></h3><p>书中这4章都属于管理学范畴的方法论，无论是高层管理公司，还是中层管理组织，甚至个人做自我管理，都可以不同程度的借鉴。</p><p>行文仍然是以故事展开，然后希望读者自己推导出小节的标题，我来列一些自己觉得有趣的，顺带发表一些个人的看法。—— 真不知道作者是如何记忆这么多故事的，猜测有长期日记/日志的习惯。</p><ul><li>Google初期很多年没有商业计划，直到2001年Eric到了Google，做出一份，但也不是严格意义上的MBA式的商业计划，而只是一些原则 —— 计划要反复调整，创意精英喜欢面对不确定性。</li><li>多次提到Eric在SUN/Novell遇到或参与的失败案例，提到Google自己的失败案例也有，但只有Wave</li><li>讲述Jobs和Eric之间的一些恩怨，引出封闭和开放的两种模式 —— 书中并没有贬损封闭，因为Google也有很多产品是封闭的，书中对两种模式的适用场景做了解释。潜台词是强者用封闭，追赶者选择开放。我司如果定位为追赶者的话，可以多考虑一些开放，建立生态圈的战略，弱者+封闭很难发展壮大，至少是很难快速壮大。</li><li>38岁的乔纳森接受27岁的Brin的面试，讲述求爱秘籍的故事；书中还提到一个惊人的事情，Google几万名员工的招聘工作Eric（或是Page，记不清了）都要参与，而不是全部交给HR部门 —— Google有句口号叫做<strong>招最好的人做最好的事</strong>，话不是乱讲的，人家Google是这样说到做到的。Google的工程师文化使得工程师在公司内自由度很高，如果招聘不把好关，会劣币驱逐良币，“驱逐恶棍”是后期的亡羊补牢，代价肯定是更高的。这和我们的思路有些不同，我们通常是这样的理解：进大公司的人都是一颗螺丝钉，做好本职工作最重要，又不想跳槽就更好了，所以招人通常招到的是些安分守己的人，不惹麻烦的人，全公司洋溢着和和睦睦、互不侵犯的气氛。人才章节最后描述了Google如何对待离职：爱他，就让他走 —— 这个话题太敏感，自己看书吧。</li><li>Google是如何进入/退出中国的：Brin是俄罗斯移民到美国的，有俄罗斯的切身体会，所以一开始就反对Google进入中国，是Eric极力促成了此事，后来的事情大家都知道，Eric向Brin和Page妥协了，最后退出中国。 —— 进入中国和退出中国对Google都是决策，故事虽然精彩，但我并没有觉得做决策的过程他们高明很多，所谓的马背原则、摇头娃娃都是普遍存在、普遍可见的。</li><li>2009年，乔纳森在上班时间，邀请了几百位团队成员看电影，将迈克尔.杰克逊的《就是这样》—— Google也做凝聚力，我们做凝聚力有个前提，我们的同事在下班后的交流是比较少的，国外经常有家庭聚会、Club、礼拜……Google的凝聚力活动想要的效果是给同事间制造话题、制造沟通的机会、制造打破沟通尴尬的手段。我们和外科室、外团队、外部门的同事见面，打招呼通常是“最近在忙啥？”，其实这是很难回答的，说细了你又不懂，通常得到的回答是：“打杂呢”。其实大部分情况下遇到“半生不熟”的同事就选择低头看手机、擦肩而过。制造沟通机会，希望我司的领导层也能多开一些脑洞，多想一些办法。花小钱办大事。</li></ul><p>“如果万事看似尽在掌握，说明你的速度不够快。” —— 马里奥.安德雷蒂。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"创新\">创新<a class=\"hash-link\" href=\"#创新\" title=\"Direct link to heading\">​</a></h3><ul><li>不要设立单独的创新官，这样会让领导和员工都觉得创新是他的事情，不是我的 —— Google认为，创新和做项目不一样，创新是种意识和精神，不需要专门找个牵头人、推动人……而是应该从上到下每个人自发的去做，如何达到自发，靠人（包括领导和独立的创新官）推动是不行的、低效的，只能靠领导的以身作则、榜样力量，靠创意精英的以身作则、榜样力量。和创新类似，质量也是一种意识和精神，我猜Google应该也没有什么质量官。再看我们的WXCOP，里面是不是也存在这种情况？如果是大家为了实现一个目标，做社区化运作，有个牵头人、推动人是理所应当的；如果是想推行一个理念，搞个推动人真的有必要么？真的能推到人心里么？比如金字塔……如果推动人是自发自愿的，那就顺理成章了。</li><li>Google很多产品都是起源于20%的时间，比如：搜索建议、GoogleMap、Gmail、街景地图……甚至让人觉得Google就没有制定过什么产品规划，都是员工们业余时间做个产品雏形show给领导看，然后争取资源，做大做强 —— 这种方式应该离我们公司还有距离，就不多妄言了。</li></ul><p>全书读完大概用时6h，笔记用了3h，也算是认真思考了，但愿算吧。\n企业管理理念和方法这几年出现了很多变化，尤其是在互联网领域和创业团队。相比较其他一些书，本书所讲的管理还都是比较温和、传统的，除了在描述Googe创始人（主要是Page了，Brin的性格也相对温和）的时候展现了一些geek特征外，Eric的管理理念都是在传统和Geek之间做润滑和磨合。\n每个公司的特征和文化都不同，精心培养和呵护属于自己的文化才是最重要的。</p><p><strong>最后</strong></p><p>本文中的 54 张插图施密特已在网上公开，PPT 精简版，比枯燥的文字多了几分生趣，插图的创意和洞察也入木三分，可学习之处很多，来看大牛经验吧。</p><p><img loading=\"lazy\" src=\"http://uisdc.qiniudn.com/wp-content/uploads/2014/11/20141105131816_99936.jpg\" class=\"img_E7b_\"></p>",
            "url": "https://wkevin.github.io/blog/2016/01/08/How.Google.Works",
            "title": "How Google Works 读书笔记",
            "summary": "书不厚，三百页，去掉注释才二百多，专心看一天能读完。",
            "date_modified": "2016-01-08T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Google"
            ]
        },
        {
            "id": "/2015/10/08/method",
            "content_html": "<p>如果在电梯里遇到领导，问你某某项目进展如何，你给来了一段相声，估计你就二了。\n如果看福尔摩斯，一开头就猜到了凶手，那就是柯南道尔失败了。\n如果读一篇荷塘月色，非要总结出个大革命下的白色恐怖，那就是要洗洗脑了。\n不同的文章，要用不同写作手法。</p><table><thead><tr><th align=\"center\">结果导向模型</th><th align=\"center\">问题发现模型</th><th align=\"center\">平铺直叙模型</th></tr></thead><tbody><tr><td align=\"center\"><img loading=\"lazy\" src=\"data:image/png;base64,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\" width=\"176\" height=\"152\" class=\"img_E7b_\"></td><td align=\"center\"><img loading=\"lazy\" src=\"data:image/png;base64,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\" width=\"176\" height=\"152\" class=\"img_E7b_\"></td><td align=\"center\"><img loading=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAACPCAYAAACccgfaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAgBJREFUeF7t2LFNQ1EQRNGPIKQd2qAOanIBNOAmyEgQgRMCBxYWkmNIHgIJiQpmgzmWfgPXd2Z339X+cl6nr8/NL0vg9vpm2x7eXtfdy5MvzOD+8LzAD0P/Ex38IfA/fwD44HfOG+Yzn/lWzXAK1E4Y+P97Cnzwdb7OD6dA7YSB6/xB4OCD3zlkmc985tt2BlMAPvidFcR85jPf2044BWonDNyRNQgcfPA7hyzzmc98285gCsAHv7OCmM985nvbCadA7YSBO7IGgYMPfueQZT7zmW/bGUwB+OB3VhDzmc98bzvhFKidMHBH1iBw8MHvHLLMZz7zbTuDKQAf/M4KYj7zme9tJ5wCtRMG7sgaBA4++J1DlvnMZ75tZzAF4IPfWUHMZz7zve2EU6B2wsAdWYPAwQe/c8gyn/nMt+0MpgB88DsriPnMZ763nXAK1E4YuCNrEDj44HcOWeYzn/m2ncEUgA9+ZwUxn/nM97YTToHaCQN3ZA0CBx/8ziHLfOYz37YzmALwwe+sIOYzn/nedsIpUDth4I6sQeDgg985ZJnPfObbdgZTAD74nRXEfOYz39tOOAVqJwzckTUIHHzwO4cs85nPfNvOYArAB7+zgpjPfOZ72wmnQO2EgTuyBoGDD37nkGU+85lv2xlMAfjgd1bQr/n7y3nt3o++MIPHj9P6BizAuhRkQbdrAAAAAElFTkSuQmCC\" width=\"95\" height=\"143\" class=\"img_E7b_\"></td></tr><tr><td align=\"center\"><strong>金字塔原理</strong></td><td align=\"center\"><strong>陀螺原理</strong></td><td align=\"center\"><strong>柱子原理</strong></td></tr><tr><td align=\"center\"><strong>工作文档</strong></td><td align=\"center\"><strong>文学作品</strong></td><td align=\"center\"><strong>记录、卷宗</strong></td></tr><tr><td align=\"center\">工作汇报<br>工作邮件<br>学习总结<br>述职报告<br>新闻报道<br>论文<br>……</td><td align=\"center\">小说散文<br>影视剧本<br>个人书信<br>评书相声<br>颁奖词<br>……</td><td align=\"center\">案件卷宗<br>字典<br>纪录片<br>回忆录<br>实验记录<br>……</td></tr></tbody></table><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"金字塔原理\">金字塔原理<a class=\"hash-link\" href=\"#金字塔原理\" title=\"Direct link to heading\">​</a></h2><p><img loading=\"lazy\" src=\"/assets/images/4-38976980d8dfa8716717b7180ed5d2ea.png\" width=\"1054\" height=\"559\" class=\"img_E7b_\"></p><ul><li>四项基本原则 —— 思维架构化<ol><li>结论先行</li><li>以上统下</li><li>归类分组</li><li>逻辑递进</li></ol></li><li>三个子结构<ol><li>序言 —— 读者和作者能站在同一水平线上，引入主题</li><li>纵向结构 —— 关注读者的疑问</li><li>横向结构 —— 逻辑关系</li></ol></li><li>几个注意点：<ul><li>中心思想要诀：TOPS 原则</li><li>不要存在“缺乏思想”的句子或句子内容空洞</li><li>同一组句子不要超过 7 条</li><li>MECE —— “无交叉，无空白”</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"陀螺原理\">陀螺原理<a class=\"hash-link\" href=\"#陀螺原理\" title=\"Direct link to heading\">​</a></h2><p><img loading=\"lazy\" src=\"/assets/images/5-c56c47614ef744ade805b03421deaf32.png\" width=\"1067\" height=\"508\" class=\"img_E7b_\"></p><ul><li>三项基本原则<ol><li><strong>审美优先</strong>：使用各种写作手法吸引读者读完全文，讲求引人入胜，读后绕梁三日、回味无穷</li><li><strong>勿妄结论</strong>：作者主要负责陈述事实，黑与白、对与错留给读者去判断，不可妄下结论，误导读者</li><li><strong>发散思维</strong>：归类分组、逻辑递进、跳跃描述、头脑风暴……不拘一格，但整体又都是为最终的核心思想服务。</li></ol></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"柱子原理\">柱子原理<a class=\"hash-link\" href=\"#柱子原理\" title=\"Direct link to heading\">​</a></h2><p><img loading=\"lazy\" src=\"/assets/images/6-244fd315844a9226c4ce4ec3e3f3e773.jpg\" width=\"157\" height=\"300\" class=\"img_E7b_\"></p><ul><li>三项基本原则<ol><li><strong>全面优先</strong>：讲求全面、事无巨细的记录为目的，作者不要有倾向性的学术或政治立场</li><li><strong>结论留白</strong>：在没有得到结果或结论前，不做任何倾向性假设</li><li><strong>平铺直叙</strong>：流水账在有些场景是非常重要和必要的</li></ol></li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"最后\">最后<a class=\"hash-link\" href=\"#最后\" title=\"Direct link to heading\">​</a></h3><ul><li>就使用场景来说，金字塔无疑是使用面最窄的，柱子其次，陀螺最广泛。</li><li>但不同的人使用频率不同，一个每天坐办公室的白领，金字塔的使用频率也许是最高的；一位艺术家，肯定每天都在思考怎么用陀螺钻的更深，甚至对金字塔嗤之以鼻。 —— 哪种角色决定了其使用频率，频率高的话还是要好好学习掌握相应的原则为好。</li><li>有人说，金字塔有啥神奇的，归纳、演绎……早就有之，芭芭拉不过总结一下而已，但是，就像学英语语法，一些很基本的语法学了很多年，很多人还是没掌握，因为虽然知道，但没有着意练习，就不会自然运用，所以还是需要不断有人敲打、提醒、纠正</li><li>无招胜有招，练成下面这样也许才是最高境界：</li></ul><table><thead><tr><th>吸星大法</th><th>葵花宝典</th></tr></thead><tbody><tr><td><img loading=\"lazy\" src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCADIAOcDAREAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBAwUHCAQC/8QAQRAAAQMCAgQLBgQFBAMBAAAAAQACAwQFBhESITFBBxUiMlFUYXGBk9ETFBZCgpEjNFNyQ1JiocEIM5LhJLHC8P/EAB0BAQABBAMBAAAAAAAAAAAAAAAGAwUHCAECBAn/xABHEQACAQEEBAgJCAoDAQEAAAAAAQIDBAURMQYhQVESExQyYXGBkQcVIlNykrHB0RcjNUKCodPhFjM0UlRic7LS8FWT4iTx/9oADAMBAAIRAxEAPwDsDhkw5WYTxS6ppqmpZbLkXSxBsrtGOT52bdW3Mdhy3LAelVgrXZbnVpzkqdXFrW9T2r3rrw2EQvClOhV4UW+DL27SCcY1nXanzneqhnH1/OS72Wzhz3scY1nXanzneqcfX85LvY4c97HGNZ12p853qnH1/OS72OHPexxjWddqfOd6px9fzku9jhz3scY1nXanzneqcfX85LvY4c97HGNZ12p853qnH1/OS72OHPexxjWddqfOd6px9fzku9jhz3scY1nXanzneqcfX85LvY4c97I/i7FNfRU7KWnuFSyokyeXNmdm1o8d5WwHgi0Wlflsq3veOMrPSxhGLbwnOSwfWoRfrNNZMj18W+pQgqNOTUnrzyX5mUtGI6q7W+OoFbUB55MjfbO5Lht3rF2l1x2zRO+a12TqScOdTeL8qDy7Vri+lMutjtjtdBVU9eT6z2cY1nXanzneqiHH1/OS72ezhz3scY1nXanzneqcfX85LvY4c97HGNZ12p853qnH1/OS72OHPexxjWddqfOd6px9fzku9jhz3scY1nXanzneqcfX85LvY4c97HGNZ12p853qnH1/OS72OHPexxjWddqfOd6px9fzku9jhz3ssV1+qbbRy1MtbU6MYzy9s7Wdw271e7ku236RXnQumyVJcKq8G8X5MVrlJ9CWL6cs2UK9q5NSlWm3gun7jA4Uxdcayealqq+pdK8mWMmZ3i3b/wDtaz14V9DI3NZbNe904xpU4xpVEm9mqFR9L5sntfB3ssF0XlVrTlRrSeLxa196+BJeMazrtT5zvVa1corecl3sk3DnvY4xrOu1PnO9U4+v5yXexw572OMazrtT5zvVOPr+cl3scOe9jjGs67U+c71Tj6/nJd7HDnvY4xrOu1PnO9U4+v5yXexw572OMazrtT5zvVOPr+cl3scOe9jjGs67U+c71Tj6/nJd7HDnvY4xrOu1PnO9U4+v5yXexw572bS4CsLVN9uVRe6+aeagpc4YI5JCWyykcokHaGg/c9iyNobd1W2VpW60SbhDUk28HJ59iX3voL1dlGVWTqzepZdZtrH2EYsa4Yqra/JsxHtKeU/w5RzT3bj2ErJt9XZC97FOzSzzi90lk/c+hsvtqoK00nTeezrOTpoJqSomp6iN0NRC8xyxu2tcDkQfFa0ThOlOVOosJReDW5rMgzTi3GWaPhdTgIAgCAIAgLdTUx0VNJPKco426R9FcLtu203zbqN22JY1aslFdG9voisW9yRTqVI0YSqzyRrirq5K+rlqZefIc8ugbh9l9K7juazaPXbQuuyLyKSwx2t5yk+mTxb69xjKvWlaKsqs83/uBkcM3Tiy46Ejsqeoya7oa7cf8LG3hT0TeklzO02aONps2Mo4Zyj9eHaliulJLNlzuq18mrcGb8mWp+5k7IyK0KjJSSkifNYFF3AQBAEAQBcNpLFghmLrp73WCjjdnDAc35fM/wD69Vul4HdFHdd3Sv21xwrWleTjnGlmvXfldSj0kJvm18bUVCD1Rz6/y+JhI5X08sc0R0ZY3BzT2rPNusNnvOy1bDa48KnUi4yXQ1h/+PY9ZYKc5UpqcHrRsa3V8dzooqmPUHjW3+V28L5raQ3FaNGb1r3TadbpvyX+9B64y7VnueK2GTLPXjaqMa0dv3Paj0KPHpCAIAgCAID2Wez1WIbtSWyibpVVVII29DRvcewDMnuXpstlq260QstBeVN4dW99SWtlSnTlVmqcc2dc4esVNhmyUdso26MFNGGAna473HtJzJ71s9YbHSu+zQstFeTFYfF9betk8pUo0YKnHJGRXuKpobh+wV7jXRYlpI8oKgiGsDRzX7Gv8RqPaB0rDGm108TVV50V5MtU+vY+3J9KW8jF6Wbgy4+OTzNRLGJYQgCAIAgC4BEcY3T207aCN3IjIdLlvduHgtvPAxopyazz0ltcfLq4xpY7IY+VLrk1gv5Vq1SIffVr4UlZoZLW+vd2EdWzpFyjm6QIO9E8HicE6wxdTcrfoSHOogyY/Pa4bnLQTwn6Kfozfbr2aOFmtOMo4ZRl9eHRreMVueCyZkG67XyqhwZPyo6n1bGZdYiLwEAQBAEBj79dBabc+VpHt38iIf1dPgsgaCaLS0uvunY5r5in5dV/yp83rm9W/DF7C3W+1cjoOa5z1Lr39hr8A7zmTrJO8r6LRjGEVGCwS1JLJLcY4xb1sLsDN4TunuNcaaR2UFQchn8r9332fZYC8L2ifjm6le9ljjXsybeGcqecl1x5y6OEs2SC57XxNXiZvyZfc9nfkTbYtIk1JYonBRdgEAQBACchmuAb24AcFe5UEuI6uPKoq2+zpQ4a2RZ63fUR9h2rMuhN0cVSd5Vl5U9UeiO19r+5dJJrrs3Bjx8s3l1fmbgWUS/hAeK9Wemv9pq7dWM9pTVMZjeN+R3joI2g9IXktdlpW2hOzVljGSwf+71mukp1KcasHCWTORb/AGKpwvfKy01eualfo6YGp7drXDsIyK1httjq3daZ2StnF962PtRA6tKVGo6cs0eBeMpBAEAQHju9ybabfJUHIvHJjb/M47FL9EdG6ull80brhqhzqj/dgs+16orpa2HjtlpVkouq88l1mvC5z3Oe9xc9xLnOO8lfSOjRpWalCz0I8GEEoxSySSwSXUjGkpOTcpPWyirHAQHrtVxdaa+OpGZZzZGj5mnaoTplo1S0suWrds8FPnU5P6s1zX1PmvobPdYrU7JWVVZbeo2I17ZGNewhzHDNpG8L5wVKVWz1J0K8XGcG4yTzTTwafUzJKaklKLxTKrochAEBX+y6yeC1BGv79dONri57TnTxciIdI3u8V9CfB1omtE7kjTrL/wCithOp0NrVDqgtXpcJrMx5eVr5XXbjzVqXx7THLKJaggKOGkMs8j0hNT1PIE/w9deNre1zz/5EXIlHbuPivnh4QdFXonfk6FGOFnrYzpbksfKh9h6vRcW8zIt3WvldBSfOWp/HtMksbFzCAIAgM/gTCUmN8UU1sGk2mH4tVI35YgdevpOoDvV6ua7JXvbYWVc3OT3RXveS6z1WWg7TVUNm3qOs6enjpYI4IWNihjaGMY0ZBrQMgB4LZiEI04qEFglqS3JE6SUVgsi4u5yEAQGp+HvBRutnZf6SPSrLe3KcNGt8Gev/AInX3FyxrppdHKbOrwory6efTH/zn1YljvSzcZDjo5xz6vyNAggjMbFhPMiwXICAqBmV1lJRTkwtZBMTXTjO4lkZzp6fNrehzt5W+ngt0TejdzK02qOFptOEpb4x+pDsTxf8za2IgN62vlNbgxfkx1Lp3sxKzMWUIAgG1ASvBt09pE+gkPLj5URO9u8eC078M2inI7VDSSyx8irhGqlsn9WX2ksH0pbZEyuW18ODs081rXVu7CSrWskwQBAYLFt19yohTRuynqAQSPlZvPjs+6zp4I9FPHl7u9bTHGhZWmt0qucV9jnPp4Oxlhve18RR4qPOn9y/PLvIYBkMgt5MyChAEAQHvsd04ouLZXE+wfyJR2dPgsb6f6KrS25J2Wmvn6fl0n/Mvq47pLU9mOD2Fyu+18jrqb5r1Pq/I2DqOsHMHWCN6+dy4SxUlg1qaeaazTMjdQXICAo94Y0uOwLq3gsWcHTPA5gg4Rww2apj0bnX5TT5jWxuXIj8AdfaStg9Fbo8V2JTqr52prl0LZHs29LZMrvs3EUsZc6Wt+5E+U0LoEAQBAfMkbZWOY9oexwIc1wzBHQV1lFSTjJYpnDWOpnKPCLg52B8U1FC0H3Gb8eked8ZPN72nV9jvWtd+3U7nt0qC5j1x6ns7Mvv2kHtdn5NVcNj1ojKsB4wgMRie6m22/2cZyqJ82sy2tG9yy94L9FP0mvtV7RHGzWbCUt0pfUh061jJblg8yz3pa+S0ODF+VLUurayDNAaABsC36bxeJj4IchAEAQFyCoko6iKoiOUkTtIdvZ4q1XrdlmvqwVrttkcadWLi/c10p4NPY0mVaVWVCpGrDNGxqKsjuFJFUxHkSDPLoO8eC+ad83RadH7yr3Va+fSeGP7yzjJdElgzJtGtG0Uo1YZMvK0FY+ZpmU8L5ZXaMcbS5xO4L02Sx2i8bTTsVkjwqtSSjFdL9yzb2LWdJzjTi5zeCWtmuK+ufc62Wqk1F55Lf5W7gvpRo1cFn0YumhdVn1qC1v96T1yk+t5blgthjO02iVqrSqy2/ctiLCk55ggCAIARmMkBMcIXT3qkdRyOzmgHJz+Zn/Wz7LSXwwaKeKLzV92WPzNpflYZRq5v11r9JS6Cb3Na+OpcRN+VHLq/L4GfWASQhAT3gawV8V4obV1EelbbaRLJmNUkvyM/tme7LepnopdPjK3KtUXzdLW+mWxe99WG0ul3Wfj6vClzY+3YdMrYImIQBAEAQBAQnhawT8aYWkbAzO5Uec9KRtccuUz6hq7w3oUS0mujxtYWqa+chrj712r78C3W6zcopaucta+HacvNdpDPLI7wdy12TxIUHPbGxz3kNY0FznHcAqlOlVtFSFChFyqTajFLNybwSXWw2opyk8EjXd1uLrtXyVJzDObG0/K0bPVfSDQ3Rqlonc1K7Ya586o/wB6b5z6lqiuhIxrbbU7XXdV5bOo8imp4ggCAIAgCAz+ELp7rVmikP4U5zjJ+V/R4rXLwyaKO8bBG/7JHGrZ1hPD61LHP7D1+i5PYiSXLa+LqOzzeqWXX+ZMlpnimsSaEUxldNJzLfG7UMnzEf2b/n7LavwL6Kc/Se1xzxhRx3ZTn281fa3oid92vKywfS/cvf3EZW1xEwgCAIAgCAvUdZJbquKpi58ZzI/mG8KP6QXHZtI7rr3Va+bUWGO2Ms4yXTF4PpyyPRZ68rNVjVhmv9wNj09RHVwRzxO0o5G6TSvmpb7BabqtlW77ZHg1aUnGS6tq6Gtae1PEyZTqRqwVSGTL0FPNWVENNTRmapneIoo27XOJyA+68kITqzjSprGUnglvbyKqTk1GObOssB4ShwVhmktkZD5WjTnlH8SU84924dgC2Yua7IXTYoWWOt5ye+TzfuXQkTqy0FZ6Sprt6yQq9nqCAIAgCAIAgObuG7BXw1iQXSmj0bdc3FxyGqOfa4fVzh9XQsCaX3T4vtnKqS+bq6+qW3vz79xEbys3E1OMjlL2mlcY3T2cTaCJ3LkGlKRubuHisteBnRTllqnpJa4+RSxjSx2z+tL7KeC6W9sSBX1a+BBWaD1vW+rYu0imxbiENCAIAgCAIAgBz1EEtcDmCNxXSUI1IuFRYxawaeTTzTCbTxROKbEcb7A6vky9tENB7OmTd99q0JvPwc2qjpjHRuzJqjVfDjP92jj5XbDm683wf3kT+leUJWJ2mXOWprp2d+ZCXyPmkfLI7SkkcXOPSSt7bHY6F32anY7LHg06aUYrcksEQOc5VJOc3i3rPlew6BAEAQBAEAQEkwddPZSPt8ruS/N8JO472/5Wrfho0V42lDSayR8qGEKuG2P1Z/Zb4Le5rZElVyWvBuyzeetde1HRXADgr32tlxLVx5wwEw0YcNRfse/wHJHaT0LDWhN08dUd51Vqjqh17X2ZLt3GTbrs3Ck68tmXxN8LMxJggCAIAgCAIAgMJjLC9PjHDtXa6jJvtW5xyZa45Bra4dx/tmN6tF7XdTvWx1LJU2rU9z2Pv+7FHntFGNopunI4wumBoYLtWxXA1UdfHK6OZvtBqcDlkNWzo7FCLD4U9JNH7NC6LPZ6EI0FwMOBPHVm385rbetva3jtMVV7moTqylWcuFjr1r4Hm+C7d+pVeYPRe75atKvNUPUn+IUfElk3y718B8F279Sq8weifLVpV5qh6k/xB4ksm+XevgPgu3fqVXmD0T5atKvNUPUn+IPElk3y718B8F279Sq8weifLVpV5qh6k/xB4ksm+XevgPgu3fqVXmD0T5atKvNUPUn+IPElk3y718AcF24D/cqvMHouV4adLJNRjSoNv+Sf4hw7lsaWLcu9fAt/Clo6zP5w9FfH4TPCGtXi6H/TV/zLfya5f4levH4D4TtHWZ/NHouPlN8If/HQ/wCmr/mc8lub+JXrx+A+FLTolvvM+iTmR7YZZ9OxdH4SfCA5qo7shwkmk+Iq4pPBtY8PJ4LFdC3Dk1zYYcpXrxHwnaOsz+aPRd/lN8If/HQ/6av+Y5Lc38SvXj8B8J2jrM/mj0T5TPCH/wAdD/pq/wCY5Ncv8SvXj8C4MGW1wBEtSQd4kHorPU8M2l1GcqVWjQjKLwadOomnua4w9sbmsVSKnCTaeTTWv7h8F279Sq8weip/LVpV5qh6k/xDv4ksm+XevgPgu3fqVXmD0T5atKvNUPUn+IPElk3y718B8F279Sq8weifLVpV5qh6k/xB4ksm+XevgPgu3fqVXmD0T5atKvNUPUn+IPElk3y718B8F279Sq8weifLVpV5qh6k/wAQeJLJvl3r4GRw3wYQ4kxDb7bQy1TKmaUZSB4/CaNbnnVuAJ/sq9HwraU37PxXOhZ5RrJxknCeHBawlj85lhiV6Fw2epVjGnKSeOeK1dOR2tZ7TTWK10tvo2ezpqaMRsbvyG89p2k9JUusllpWGzws1BYRisF/vtMsU4RpRUI5I9i9ZUCAIAgCAIAgCAIDR/8AqAwV7N8WJ6SPVyYK0NHgyT/5P0rEGm908Fq9KK3Kful7n2EbvWzZV49T9z9xplYpI8EAQBAEBR/Md3FemyftVH04/wByKNb9TU9F+wj7RyQt66spcN6zXSKXBRXJUuFLedsEMk4Ut4wQyThS3jBAjUu0ZS4S1nDSwM3SflYf2BaX6R/Tdu/qz9pny6vo+z+hH2F1R4ugQBAEAJAGZ1BcZA6A4BcFG0WZ99q49GsuLR7EOGuODaP+R19was26F3RyWzO31l5dTLojs9bPqwJTddm4uHHSzll1fmbWWSS+BAEAQBAEAQBAEAQHmuVup7tb6iiq4xLTVEZjkYd7SMiqFooU7VSlQqrGMk010M6ThGpFwlkzkfFWG6jB+Iay01JLjA7OKUj/AHYzzXfbb2gjctYryu+pddrnZKn1cnvTyfx6cUQSvRlZ6jpy2ewxStxQCAIAgKP5ju4r02T9qo+nH+5FGt+pqei/YR9vNC3pq89museaiqpHYIAgB2LtHnI4eRm6T8rD+wLTHSP6bt39WftM93V9H2f0I+wuqPF0CAIAgJPwcYNdjjFMFE8H3CDKercP5AdTe9x1d2Z3KQXDdTvi3Roy5kdcurd25d72Htsdn5TVUXktb/3pOrWMbExrGNDGNGQa0ZADoC2USUUklgkTdLDUj6XJyEAQBAEAQBAEAQBAEBrHh0wTx/h8Xelj0rhbWlxDRrkh2ub25c4fV0rHumN0ctsnLKS+cpa+uO1dma7d5Zrzs3G0+MjnH2HO7SHAEbCsFp4rEiQXJyEAQFH8x3cV6bJ+1UfTj/cijW/U1PRfsI+3mhb01eezXWPNRVUjsEAQA7F2jzkcPIzdJ+Vh/YFpjpH9N27+rP2me7q+j7P6EfYXVHi6BAEBRztFueRJ2ADaSuG8EcHUfBRgkYKwvGyZgFyq8p6p28OI1M7mjV359K2K0aujxTYVGa+cnrl17F2L78d5NbDZuT0sHznrf+9BNFLC4hAEAQBAEAQBAEAQBAEBQgEEEZg7kzByxwo4LOCcVSwws0bbWZz0h3NGfKj+kn7ELXDSO6fFFulCC+bnrj749nswITbbPyeq0ua9a+HYRFRk8AQBAUfzHdxXpsn7VR9OP9yKNb9TU9F+wj7eaFvTV57NdY81FVSOwQBADsXaPORw8jN0n5WH9gWmOkf03bv6s/aZ7ur6Ps/oR9hdUeLoEAQGx+BDBXxHiM3Wpj0rfbHBzQRqkn2tH0849uj0qd6IXTy+2crqr5ul98tndn14F3u2z8bV4yWUfb+R0es9EuCAIAgCAIAgCAIAgCAIAgCAiXCdgtuN8LT0sYaK+H8aked0gHNz6HDMeIO5RnSG6Ve9hlSjz464vpWzqeX37Dw22z8ppOKzWtHK2TmlzXtLHtJa5rhkWkbQVrfrWprBohHWFyAgKP5ju4r02T9qo+nH+5FGt+pqei/YR9vNC3pq89museaiqpHYIAgB2LtHnI4eRm6T8rD+wLTHSP6bt39WftM93V9H2f0I+wuqPF0CAvUVDUXSup6Gkj9rVVMgiiZ0uP8AhVaNGpaasaFFYyk8F1s7RjKclGObOtsHYYp8H4do7XT5OELfxJMsjJIdbnHvP9shuWzV1XfTuuxwstP6q1ve9r7X92ondnoxs9NU47DNK7HoCAIAgCAIAgCAIAgCAIAgCAIDnfh2wXxHfW3ylZlRXF2UwA1Mny2/UBn3h3SsGaZXTyO1K30l5FTPol/6z68SKXnZuLqcbHKWfX+ZrFY9LKEBR/Md3FemyftVH04/3Io1v1NT0X7CPt5oW9NXns11jzUVVI7BAEAOxdo85HDyM3SflYf2BaY6R/Tdu/qz9pnu6vo+z+hH2F1R4ugQG6P9P2CtIy4nq2bdKCiDhu2Pk/8AbR9SyxoRdOON6VVvUPfL3LtJFdVmztEupe9m7ll0kYQBAEAQBAEAQBAEAQBAEAQBAEBisT4epsV2GstdWPwahmjpAa2O2tcO0EA+Ct142GleVlnZa2Ul3PY+x6yhWpRr03Tlkzke52ypslzqrdWs0KulkMcg6cthHYRkR2FaxWiz1bHWnZqywlB4P49TzXQQScJUpuEs0eZUDoUfzHdxXpsn7VR9OP8AcijW/U1PRfsI+3mhb01eezXWPNRVUjsEAQA7F2jzkcPIzdJ+Vh/YFpjpH9N27+rP2me7q+j7P6EfYXVHi6GWwphqfGGIqO00+bfbOzllAz9lEOc77ah2kDerldl31L0tkLJT+tm90Vm/h04Ir0KLtFRU1t9h1xbrfBaqCno6WMRU1PG2KNg+VoGQWzlChTs1KNGksIxSSXQidwgoRUY5I9CrncIAgCAIAgCAIAgCAIAgCAIAgCAIDTP+oDBXtqaHEtJHnLABDWBo50efJf4E5HsI6FinTa6eHCN50Vrjqn1bH2PU+h9BHr1s2KVeOzM0ftWICNlHDNpHSFWoTjTrU6ksoyT7mmU6kXOnKKzaa70YoWucD5Putmp+Eq4JSbwq+ov8jEkdE7ySwxh6z+BXiyf+j7rp8pNwbqvqL/I5/RS8t8PWfwHFk/8AR90+Um4N1X1F/kP0UvLfD1n8BxZP/R90+Um4N1X1F/kP0UvLfD1n8CnFc/8AR912XhJuBNaqvqL/ACOHopeWGcPWfwMnAwxwRsO1rQDktdr3tVO3XlabXRx4FScpLHU8G8dZlKw0Z2eyUqNTnRik8OhH05wa0k7ArQ3gsT2HRfAbgk4ew8brVx6NxuQD8nDXHDtY3sz5x7x0LO2h90chsnK6q+cq6+qOxdub7NxLrts3FU+MlnL2GzFkAvAQBAEAQBAEAQBAEAQBAEAQBAEAQBAWaulhrqWamqI2ywTMMckbtjmkZEHwVOrThWhKnUWMZLBremdZRUk4vJnJWNcKTYKxLVWqXSdE0+0ppXfxIieSe8awe0FayXtds7ots7JLLOL3xeXwfSmQW00HZqrpvs6jCK0nmCAIAgCAIAgJfwV4LONcVRRzM0rZRZT1ROx2vkx/UR9gVKNG7p8b25Rmvm4a5dO6Pb7Ez32Gz8oq4PmrW/gdTAZDIagtjSbFUAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEBrvhpwOcVYb99pY9K524OljDRrkj+dn2GY7RlvUG0tujxlY+PpL5yni10raveulYbS03jZuPpcKPOj/rObGOD2hw2FYCTxWKIeVXJyEAQBAEAyc5zWxsMkjyGtY0ZlxOoAJg20orFvIdR1VwZ4LbgjC8FI8A10341W8a85CNmfQ0ZAd2e9bIaP3SrosMaMue9cn0vZ1LL79pN7HZ+TUlF5vMlikp7ggCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCA5g4XsFfB2KnSU8ehbLhpTQBo1Rv+dnZkTmOwjoWvGlF0+Krc5U1hTqYtdD2r3rofQQy32bk9XGPNll70QhREtoQBAEAQG0OAfBQvd7ffaqPSo7e7RgDhqfPlt+kEHvI6FkPQy6eV2l2+qvIp83plv+z7Wtxerss3GT46WUcuv8joZZyJWEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBARrhCwfHjbC9VbzotqR+LTSH5JRzfA6wewlWC/Lrje9inZ3zs4vdJZd+T6GeO12dWmk4bdnWcoSRS08skM8bop4nGOSNwyLXA5EHxWtUoyhJwmsJJ4NbmsyDNNPB5nyuAEAQHqtdqqr7c6S20TNOqqpBGwbh0uPYBmT2BeizWarbK8LNQWMpvBfHqWbO8ISqzUI5s64wzh+mwtYqO10g/Bp2aOkRre7a5x7Scz4rZ277DSu6ywstHKK73tfa9ZPKNKNCmqcckZRXArBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAaB4fMFcW3SPEdKzKmqyIqoNGpkuXJf8AUBke0dqwrprdPJ66vKkvJnql0S2PtX3rpIvelm4EuPjk8+s1OsaFiCAE5BcA3lwAYK93pZcS1ceUtQDFRtcObHnyn/URkOwdqzDoTdHFwledZa5ao9C2vterqXSSW67NwU68tuXUbkWVSQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEB4L9ZabEdmq7ZWN06apjMbsto6CO0HIjtC8VtslK32edlrLyZLB/HrT1rpKVWnGtB05ZM5FvdlqcN3mstVYMqilfoE5anja1w7CMj4rWK2WSrYLTOyVudB4da2PtWsgdWnKjN05Zo8S8hTM5gnCkuNsTUtrj0mwn8Wpkb/DiB5R7zqA7SFd7ou2d722FljlnJ7orPvyXSz02ag7TVVNZbeo61paWKipoaeCMRQQsEccbdjWgZADwWzVOnCjCNOmsIpYJbksidRiopRWSLqqHYIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCA1Hw+4K4xtceIqSPOqoW6FSGjW+HPb9JOfcT0LGOmt0cfQV40V5VPVLpjv8Asv7m9xYr0s3Dhx0c1n1fkaEc8NYXZ6ss1hZtJYkWOleBfBBwrhkVdVHo3O4gTShw1xs+RngDme05bln/AETujxbYuOqr5yprfQti976XhsJjd1m4ilwpc6X+pGwlOC6hAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAfE0LKiJ8UrGyRvaWuY4ZhwOoghdZRjOLhJYp5nDSawZoiwcDMtNwoz01RC5+H6Iisie8ZiUEn2cZ6ciDn2N/qCwzYtFJU78lTqRxoU/LT3482PY8+hdKIzSu9q1OMl5C1/BG+lmgk4QBAEAQBAEAQBAEAQBAEAQH//Z\" width=\"231\" height=\"200\" class=\"img_E7b_\"></td><td><img loading=\"lazy\" src=\"data:image/jpeg;base64,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\" width=\"175\" height=\"200\" class=\"img_E7b_\"></td></tr></tbody></table>",
            "url": "https://wkevin.github.io/blog/2015/10/08/method",
            "title": "说话和书写中的方法论",
            "summary": "如果在电梯里遇到领导，问你某某项目进展如何，你给来了一段相声，估计你就二了。",
            "date_modified": "2015-10-08T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "金字塔"
            ]
        },
        {
            "id": "/2015/09/01/write-doc-by-code-way",
            "content_html": "<p><img loading=\"lazy\" src=\"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1613194509,3683268681&amp;fm=26&amp;gp=0.jpg\" class=\"img_E7b_\"></p><p>摘要</p><blockquote><p>本文旨在说服工程师们，尤其是敏捷团队的成员，在撰写过程文档时，放弃传统方式，尝试使用：1、Markdown 撰写；2、SVN/Git 版本管理；3、HttpServer 排版；—— 3 合 1 的新方式。<br>\n<!-- -->本文也描述了相关的技术要素：如何不再打开 Office 或 WPS，只需普通的记事本，一样写出漂亮、易读的文章；如何搭建一套 Markdown-&gt;html 的生成、发布、和访问系统；如何使用浏览器快捷、永久的访问文档……</p></blockquote><p>关键词</p><blockquote><p>文档代码化\nmarkdown\ntoc\nheaderanchor</p></blockquote><p>特别说明</p><blockquote><p>本文即是使用本文所描述的方式撰写，所以截图和文字中会看到本文自己的映射，如果让你感到了些许盗梦空间般的费解，还望谅解。</p></blockquote><p>更新时间：2015-09-23 11:45</p><ul><li><a href=\"#%E7%90%86%E8%AE%BA%E7%AF%87\">理论篇</a><ul><li><a href=\"#%E6%96%87%E6%A1%A3%E7%9A%84%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F\">文档的传统方式</a></li><li><a href=\"#%E6%96%87%E6%A1%A3%E7%9A%84%E6%96%B0%E6%96%B9%E5%BC%8F\">文档的新方式</a></li><li><a href=\"#%E6%96%87%E6%A1%A3%E7%9A%84%E4%BB%A3%E7%A0%81%E5%8C%96\">文档的代码化</a></li></ul></li><li><a href=\"#%E5%AE%9E%E7%8E%B0%E7%AF%87\">实现篇</a><ul><li><a href=\"#markdown-%E5%9F%BA%E7%A1%80\">Markdown 基础</a><ul><li><a href=\"#%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80%E4%B8%8E-markdown\">标记语言与 Markdown</a></li><li><a href=\"#markdwon-%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6\">Markdwon 工具软件</a></li></ul></li><li><a href=\"#%E5%B7%A5%E4%BD%9C%E6%B5%81\">工作流</a><ul><li><a href=\"#%E4%B8%AA%E4%BA%BA%E5%B7%A5%E4%BD%9C%E6%B5%81\">个人工作流</a></li><li><a href=\"#%E5%9B%A2%E9%98%9F%E5%B7%A5%E4%BD%9C%E6%B5%81\">团队工作流</a></li></ul></li><li><a href=\"#%E4%B8%80%E4%BA%9B%E6%8A%80%E6%9C%AF%E7%BB%86%E8%8A%82\">一些技术细节</a><ul><li><a href=\"#%E4%B9%A6%E5%86%99-markdown\">书写 markdown</a></li><li><a href=\"#httpserver-%E5%8A%A8%E6%80%81%E7%BC%96%E8%AF%91-markdown-%E7%9A%84%E5%AE%9E%E7%8E%B0\">HttpServer 动态编译 Markdown 的实现</a></li><li><a href=\"#%E4%B8%BA-markdown-%E5%A2%9E%E5%8A%A0%E7%9B%AE%E5%BD%95toc\">为 Markdown 增加目录(TOC)</a></li></ul></li></ul></li><li><a href=\"#%E8%AF%BB%E8%80%85%E4%BA%A4%E6%B5%81\">读者交流</a></li><li><a href=\"#%E9%99%84%E5%BD%95\">附录</a><ul><li><a href=\"#sublimetext-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">SublimeText 的基本使用</a></li></ul></li></ul><h1>理论篇</h1><p>项目中的文档有很多种：需求/用户故事、方案设计、详细设计、接口说明、测试报告……<br>\n<!-- -->以前的软件工程理论将这些文档分摊到不同的角色身上；现代的敏捷理论强调<strong>工作的软件高于详尽的文档</strong>，讲求文档的简单有效和角色的互相渗透合并。<br>\n<!-- -->本文不论两者的优劣，只想探讨一下<strong>如何让写文档变的更方便、更愉悦</strong>这个话题，窃以为应该是对两派同学都是有益处吧。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"文档的传统方式\">文档的传统方式<a class=\"hash-link\" href=\"#文档的传统方式\" title=\"Direct link to heading\">​</a></h2><p>回顾一下我们文档撰写、分发、阅读、更新的传统方式：</p><ul><li><strong>找到文档模板</strong>：例如是 word/Excel/PowerPoint 模版。大公司里不要小瞧了找模板的困难，尤其是写跨部门、跨团队的文档，要找别人的模版时。找不对的话提交系统时被打回还要重新找。万一遇到了模版更换 Logo 一类的事情，用提心吊胆来形容有时候都不过分。</li><li><strong>把讨论和笔记写入文档</strong>：虽然有模版，但还是会常常见到字体五花八门、行间距大小不一、色调五彩缤纷……对待这些问题，读者只能呵呵了（本文如果哪天写入了某个 Word 模版，肯定也是个鬼样）。</li><li><strong>合写文档的痛苦</strong>：通常的模式是：牵头人把章节定一下，在章节后面把具体撰写人的名字写上，约定个时间，牵头人手工合并。问题显而易见啦：<ul><li>手工合并易出错</li><li>具体撰写人需要修改时会去麻烦牵头人，要么牵头人不断合并，要么撰写人采取保守策略不再积极提交变更</li><li>合并文档的版本管理困难：经常会看到把日期加到文档后，一连串的日期把自己累的不行</li><li><strong>“指定章节到撰写人”</strong>打击了撰写人写其他章节的积极性：因为会给合并人带来更多的工作和混淆，撰写人宁可保持低调；同时撰写人并不知道另一章节的人是否已经撰写了自己想到的内容。</li></ul></li><li><strong>提交评审</strong>：挺好。但其中有一点需要改进：作者根据评审意见修改后，通常有两种方式评判是否 OK：主持人直接评判，主持人开会召集评委们再次评判。—— 在一个温和的团队中，这两种方式都会“和谐”的完成。可以增加第 3 种意见表达的方式：<strong>评委直接修改文档</strong>，然而在 word 模版+没有版本管理的方式下，这是令人望而却步的。</li><li><strong>更新文档</strong>：最痛苦的部分到了<ul><li>需求、方案类文档：开发实现后回头更新需求、方案的比例有多高？这个现实问题很多同学宁可提都不提， Let it go，随她吧。</li><li>详设、开发类文档：软硬件工程师们拿各种理由来搪塞的场景相信都遇到过吧，什么“来不及”了、“太多了”、“更新太快了”……甚至还有“代码即文档”这种左倾冒险主义的托辞不一而足。面对领导燃烧的怒火，工程师们用微笑和耸肩来抵挡。</li><li>测试、报告类文档：这个还好，因为是一次性活动的文档产物，基本不需要更新。《测试方案》归属到第一类中。</li><li>其他：技术积累、会议纪要等过程文档，细想想更恐怖，几个月前讨论的会议纪要你还会打开么？到哪里找估计都忘了吧，那次会议中的决议还记得么？上次调试遇到的挫折写入技术积累了么？…… 呀呀呀，不要再说了。呵呵。</li></ul></li><li><strong>更新后文档的推送</strong>：有几种方式<ul><li>第一次你是通过邮件、聊天软件把文档发给读者的，更新后的文档则需要重发一次，如果你一个月更新一次还好，如果一周更新一次呢？一天呢？</li><li>文档在某某系统中归档的：这就要依赖与该系统是否好用、方便了。如果想读一个文档要进入系统中能够快速找到，Good；如果需要多次跳转、或者要掌握什么奇技淫巧才行，就又要呵呵了，就是这次进去找到了，下次可能又找不到了。—— 在某某系统中迷过路的小伙伴请举下手。</li></ul></li></ul><p>上面这些如果有哪条戳中了你的痛点，请继续往下读。如果你觉得没关系啦，这些都是小事，鸡毛蒜皮的，我们团队可以克服，那还请点击右上角（Fedora/Ubuntu/Mac 请点击左上角）的叉，谢谢。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"文档的新方式\">文档的新方式<a class=\"hash-link\" href=\"#文档的新方式\" title=\"Direct link to heading\">​</a></h2><p>现在，我们来试想一下某种新的方式：</p><hr><ol><li><strong>写作和排版是分离的</strong>：作者只关心内容和简单的排版（如标题、分段、列表），不关心最终的排版布局、字体色调等表现形式（如颜色、字体、行间距……），类似书籍出版业：作者只需要把内容写在稿纸上或 txt 文本，编辑去完成排版和书籍的美工。这样带来的优点很多：<ul><li><strong>作者</strong>专注于写内容、表达思想</li><li><strong>编辑</strong>可以使得表现形式很容易统一<ul><li>一个公司、一个部门、或一个团队可以方便的制定自己的渲染方式，写作的人可以不必关心。</li><li>更换 Logo 这种事情只需要编辑一个人搞就是了</li></ul></li><li><strong>编辑</strong>不是人，是软件、电脑：</li></ul></li><li><strong>多人合写、协作是非常方便的</strong>：每个人的观点和想法可以方便的在团队中流动，关键是可以被记录在文档中，而不是散落在邮件里。<ul><li>每个人可以即时、及时的对文档中的内容表达意见。</li><li>团队中每个人都可以即时的收到文档被更新的通知，而且不需要撰写人发邮件通知，尤其在撰写人是多人的时候更加有效。</li></ul></li><li><strong>写作是简文本形式的</strong>：随时、随处、随编辑器可打开、编辑，再也不会出现在一个没有安装 Office 的电脑上打不开一个 word 文档、打开文档后一个 visio 图是个红色叉叉……的囧境。</li><li><strong>文档更新历史信手拈来，毫厘不差</strong>：不必人工更新文档中的某个叫做“更新历史”的章节，而是能够方便的看到该文档的所有参与人、参与时间、和修订内容。——这可不是 word 的修订模式能够完成的。</li><li><strong>通过浏览器访问文档</strong>：打开 IE/Chrom/FF，访问网址既能看到最新的文档，收藏到收藏夹中时不时看看，甚至可以进行 RSS 订阅 —— 这种阅读体现还不能打动你么？</li></ol><hr><p>OK，几大梦想如何来实现呢？非常方便，我们现在所处的互联网时代早就搞定这些事情了，并且是非常简单、高效，需要的只是你勇敢的去尝试、然后喜欢。</p><ul><li><strong>使用 Markdown 等标记类语言来写简文本文档</strong>：编辑器很多，可以参考下文“工具软件”章节，此处我推荐 SublimeText，Win/Mac/Linux 全系统通用，适当的加上各种插件，写什么都特有感。</li><li><strong>使用 SCM(svn、git 等)管理简文本文档</strong>：并不是什么都能用 SCM 管理，至少软件版本、压缩包、视频、甚至图片……这些二进制的东西都是不能交给 SVN、git 来管理的，倒不是 scm 不能管理，而是你在做不对的事情，就像非要一个软件工程师去画一块电路板，不是他做不出来，而是你用人不当。简文本是 svn/git 最能接受的，并且好处多多：<ul><li>多人合写文档：在 svn/git 提交就是了，update 一下，然后 commit，什么牵头人、合并人都不再需要了</li><li>修改别人的章节：update 后，修改就是了，提交后能方便地看到修改了啥，还能回退</li><li>促进文档更新：能看到 log 和每次更改的记录，就像一个成绩肯定，会建立作者的成就感，越是不断更新文档的人，看着自己的更新 log，越是更充满再更新一下、再完美一点的冲动。</li><li>对开发工程师没抵触：当前的开发工程师 99%都已经熟练的掌握了 svn 或 git 的使用，剩下 1%可能还在使用 cvs 或 clearcase。所以问题是如何让系统工程师、测试工程师等其他人员也掌握 svn 或 git 这种可以 1h 入门速成的好工具（git 的精通还是需要更多的时间和实践，svn 则基本没有精通的必要了）。</li><li>简文本对 SVN/git 服务器的负荷是很小的 —— 这点对服务器管理员是深有感触的，看着 SVN 库日渐庞大，总有种忧心忡忡的感觉。这是因为前文说的哪些不适合 svn 管理的文件被提交所致，它们不能被有效压缩，不能做增量存储……看 Linux 的 Kernel 源码 git 库：10 多年的所有历史数据（每一次提交、每一个分支……）在服务器上才 1.7G，因为它坚持一个原则：不提交二进制文件，不提交富文本文件，一切都是简文本。</li></ul></li><li><strong>配置 HttpServer 完成编辑角色</strong>：Markdown 撰写的文档当然也可以在本地静态编译成 html，自己查看，或分发给朋友，但这样做的缺点是把编辑工作自己承担了，后果就是模版不统一，这种团队中不可取。由 HttpServer 中加 Markdown 渲染插件：把编辑工作交给服务器是更好的选择。</li><li><strong>加入权限控制</strong>：svn、httpserer 都可以进行权限控制，控制某些人不能提交或阅读。</li></ul><p>总结一下：回头一看，你会发现，这不就是写代码么？做软件的都懂这个。—— 就是，就是，就像写代码一样来写文档，对软件工程师简直是零门槛，呵呵。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"文档的代码化\">文档的代码化<a class=\"hash-link\" href=\"#文档的代码化\" title=\"Direct link to heading\">​</a></h2><p>这里需要首先分辨出两个概念：</p><ol><li><strong>代码的文档化</strong>：是对工程师的期望，期望软硬件工程师写出的代码是尽量不需要外部文档的，或能够自动生成文档的。<ul><li>尽量不需要外部文档：<ul><li>加强有价值的注释：这个对大部分工程师都是不抵触的</li><li>书写更易读的源码：有意义的变量/函数命名、更合理的函数原子分解、避免奇技淫巧的语法使用……</li></ul></li><li>自动生成文档：按照某种语法书写注释，编译时使用 Doxygen 等工具自动生成注释。对内部接口可能作用不大，但对模块间接口和对外服务接口，自动生成文档非常重要和必要，甚至可以说，不是自动生成的文档都是不能用的文档。</li></ul></li><li><strong>文档的代码化</strong>：是对所有写文档人的期望，期望所有写文档的人能够掌握 svn/git 等工具，采用简文本格式书写文档，适当加入<strong>标记类语言</strong>，克服传统文档书写、合并、发布、更新过程中的痛点，写出喜闻乐见、快速迭代、有效传播的文档。</li></ol><p>代码文档化是另外一个课题，本文不表。</p><p>文档代码化是本人提出的新名词，百度上暂时还搜不到，提出这样的名词主要还是为了促进更多的人改进原有的文档编写方式。</p><p>那么文档代码化除了<strong>个人胸怀&amp;态度</strong>和<strong>接受新事物的能力</strong>两点阻力之外，还有没有其他的困难呢？当然有：</p><ul><li>并不是所有文档都适合代码化：正式严肃、需要加密、红头文件之类的应该更适合使用传统方式，对文档更新不要求、甚至限制其更新的文档更适合使用传统方式。</li><li>markdown 标准在不断演化中，并且已经开始有分支能够强力到影响创始人的决策</li><li>markdown 的<strong>编辑工具</strong>虽然好找，但<strong>编译工具</strong>并不是很统一<ul><li>对扩展语法的编译不一致，尤其是对页内跳转、TOC 等标准的实现</li><li>本地编译和 HttpServer 访问时编译的实现难度不一样<ul><li>对个人：本地编译，直接传给读者 html 文件即可</li><li>对团队：建议是只向 svn/git 上传 markdown 文件，不编译，而是在读者访问 httpserver 时即时编译。</li></ul></li></ul></li></ul><p>下面开始解决上面的几个小困难 —— 说实话这些对软件工程师不算困难，有 N 多的开源项目可以拿来主义，但对其他团队有可能是个不大不小的困难，还是描述一下吧。</p><h1>实现篇</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"markdown-基础\">Markdown 基础<a class=\"hash-link\" href=\"#markdown-基础\" title=\"Direct link to heading\">​</a></h2><p><strong>熟悉、已经会使用 markdown 的同学请跳过本章节。</strong></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"标记语言与-markdown\">标记语言与 Markdown<a class=\"hash-link\" href=\"#标记语言与-markdown\" title=\"Direct link to heading\">​</a></h3><p>计算机的可读文本记录有两种：简文本方式、富文本方式</p><table><thead><tr><th>特性</th><th>简文本方式</th><th>富文本方式</th></tr></thead><tbody><tr><td>编写工具</td><td>普通文本编辑软件<br>如：记事本、vi/vim、sublime 等</td><td>各自特定的编辑软件<br>如：office、WPS 等</td></tr><tr><td>存储空间</td><td>小</td><td>大</td></tr><tr><td>版本管理<br>SVN、git</td><td>Server 上可压缩，支持增量存储<br>存储空间极小<br>Client 支持方便的对比等功能</td><td>Server 上不支持增量存储，占空间<br>Client 大部分不支持对比</td></tr><tr><td>举例</td><td>.txt/.c/.sh/.xml/.html/……</td><td>.doc/.ppt/.xls/.rtf/……</td></tr></tbody></table><p>两者各有优缺点，长期以来互补而不能互相替代。</p><p>但是到了网络时代，移动阅读日渐成风，追求简洁阅读，随之也带动桌面阅读一起，都在向“扁平化、去拟物、沉浸式”发展，富文本的丰富似乎变得可有可无（其实本来 word 的丰富表现力又有几人会用？80%的人群只用了富文本编辑工具的 20%功能，其实是另外 80%的功能变得可有可无）。</p><p>有没有结合两者优点：简文本书写、（小）富文本表现的产物呢？—— 有：<a href=\"http://baike.baidu.com/link?url=3GzfuHb4Jk3cToXhuPcoDa_wBRX93w6IrzG1yCFa4ArJaxa9FlJxcIMLzi8zQhIxMX5AeLwxZGn1vJmySpsQGK\" target=\"_blank\" rel=\"noopener noreferrer\">标记语言（markup language）</a>，在文本中插入格式描述。</p><p>其实并不是近几年才开始有人关注两种文本的融合，标记语言也已经发展了很多年，也不止一种：</p><ul><li>TeX</li><li>XML</li><li>Markdown</li><li>DocBook</li></ul><p>都是在文本中插入格式描述，孰优孰劣暂且不表，这里只说一个：随着 github 的风靡而在广大程序直男中迅速普及的：<strong>markdown</strong>。</p><p>markdown 的细节本文不表，可参考：</p><ul><li>了解：<ul><li><a href=\"http://baike.baidu.com/link?url=mwIgJSX7ytyZ_vC2Ja8E5TczqtcquCgMK6HWIGLkfdPC3QFyBaSEEnYfuhTeSAdkkzN8kwfQfnceVnflUV53iK\" target=\"_blank\" rel=\"noopener noreferrer\">百度百科</a></li><li><a href=\"https://en.wikipedia.org/wiki/Markdown\" target=\"_blank\" rel=\"noopener noreferrer\">维基百科</a></li></ul></li><li>创始人：John Gruber<ul><li><a href=\"https://en.wikipedia.org/wiki/John_Gruber\" target=\"_blank\" rel=\"noopener noreferrer\">维基百科</a></li><li><a href=\"http://daringfireball.net/\" target=\"_blank\" rel=\"noopener noreferrer\">个人网站：DARING FIREBALL</a></li></ul></li><li>语法：<ul><li><a href=\"http://daringfireball.net/projects/markdown/\" target=\"_blank\" rel=\"noopener noreferrer\">John Gruber 基础语法</a></li><li><a href=\"https://help.github.com/articles/github-flavored-markdown/\" target=\"_blank\" rel=\"noopener noreferrer\">GFM（GitHub Flavored Markdown）</a> —— github 扩展，已广泛流行</li></ul></li></ul><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"markdwon-工具软件\">Markdwon 工具软件<a class=\"hash-link\" href=\"#markdwon-工具软件\" title=\"Direct link to heading\">​</a></h3><p>我本人对比试用过的几款如下表。列出来只是想给大家多一些选择，如果有选择恐惧症的同学，跳过本节，参考<a href=\"#sublimetext\">附录 1:SublimeText 的基本使用</a>，使用 SublimeText + MarkdownEditor + MarkdownPreview 即可。</p><table><thead><tr><th>Name</th><th>OS</th><th>LivePreview</th><th>TOC</th><th>VI</th><th>OpenSource</th></tr></thead><tbody><tr><td><a href=\"http://pad.haroopress.com/user.html#download\" target=\"_blank\" rel=\"noopener noreferrer\">Haroopad</a></td><td>Mac Win Linux</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td><a href=\"http://mouapp.com\" target=\"_blank\" rel=\"noopener noreferrer\">Mou</a></td><td>Mac</td><td>Yes</td><td>No</td><td>No</td><td>No</td></tr><tr><td><a href=\"http://markdownpad.com/\" target=\"_blank\" rel=\"noopener noreferrer\">MarkdwonPad</a></td><td>Win</td><td>Yes</td><td>No</td><td>No</td><td>No</td></tr><tr><td><a href=\"https://github.com/cloose/CuteMarkEd\" target=\"_blank\" rel=\"noopener noreferrer\">CuteMarkEd</a></td><td>Win Linux</td><td>Yes</td><td>No</td><td>No</td><td><a href=\"https://github.com/cloose/CuteMarkEd\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a></td></tr><tr><td><a href=\"http://www.sublimetext.com\" target=\"_blank\" rel=\"noopener noreferrer\">SublimeText+plugin</a></td><td>Mac Win Linux</td><td>No</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td><a href=\"https://www.zybuluo.com/mdeditor\" target=\"_blank\" rel=\"noopener noreferrer\">Cmd</a></td><td>Web</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td><a href=\"https://stackedit.io\" target=\"_blank\" rel=\"noopener noreferrer\">stackedit</a></td><td>Web</td><td>Yes</td><td>Yes</td><td>No</td><td><a href=\"https://github.com/benweet/stackedit\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a></td></tr><tr><td><a href=\"http://mahua.jser.me\" target=\"_blank\" rel=\"noopener noreferrer\">MaHua</a></td><td>Web</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td></tr></tbody></table><p>点评</p><ul><li>Haroopad：偶然发现的通吃、美观、功能强悍的全能型选手</li><li>Mou：好久没升级了，又听说作者正在考虑出售，看来已经日落西山了。</li><li>MarkdownPad：基于.NET Framework4.0，启动稍显慢，其他都挺好。</li><li>Sublime Text + Plugin：强烈推荐，取代了我 Windows 上的 Notepad++，Fedora 上的 gedit，和 Mac 上的 TextEdit，以 1 抵 3。其实 VI 也能做到以 1 抵 3 的，VI 也有 Markdown 插件，但 Sublime 有 VI 模式，但 VI 没有 Sublime 的很多特性，只能说：VI 加油！</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"工作流\">工作流<a class=\"hash-link\" href=\"#工作流\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"个人工作流\">个人工作流<a class=\"hash-link\" href=\"#个人工作流\" title=\"Direct link to heading\">​</a></h3><p><img loading=\"lazy\" src=\"data:image/png;base64,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\" width=\"257\" height=\"257\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"团队工作流\">团队工作流<a class=\"hash-link\" href=\"#团队工作流\" title=\"Direct link to heading\">​</a></h3><p><strong>工作流 1：</strong></p><ol><li>书写 markdown 文档</li><li>本地编译为 HTML</li><li>markdown 文档和 HTML 同时上传到 svn/git 服务器</li><li>读者通过权限受控的 http 访问 svn 服务器上的 html 文件到</li><li>撰写人更新文档，需重新本地编译，上传 markdown 和 html 文档</li></ol><p><img loading=\"lazy\" alt=\"团队工作流1\" src=\"/assets/images/team-1-09456972fdbfd5bcd7da8f4e0a4503cb.png\" width=\"696\" height=\"479\" class=\"img_E7b_\"></p><p><strong>工作流 2：</strong></p><ol><li>HttpServer 管理员配置好服务器可以动态编译 Markdown</li><li>本地书写 markdown 文档</li><li>仅上传 markdown 文件到 svn/git 服务器</li><li>读者通过权限受控的 http 访问 svn 服务器上的 markdown 文件，动态转换为 html</li><li>撰写人更新文档，仅上传 markdown 即可</li></ol><p><img loading=\"lazy\" alt=\"团队工作流2\" src=\"/assets/images/team-2-ffbe29ece95160c6a25a5241de7292df.png\" width=\"696\" height=\"479\" class=\"img_E7b_\"></p><p>对比两种工作流：</p><ul><li>SVN 服务器的配置两者都是需要的，但 SVN 服务器有两种协议： http:// 和 svn:// 如果你的团队使用的 http:// ，那么恭喜你，省区了很多工作；如果是 svn:// ，那么如果想网页访问服务器上的文件，还需要配置 apache。</li><li>工作流 1 的服务器上不需要 markdown for apache 插件，工作流 2 需要。—— 工作量上：虽然看似 2 比 1 在服务器上多了一些工作量，但其实与 1 比 2 在个人电脑上多的工作量，简直是云泥之别。模版统一性方面：由于每个人本机转换 markdown 的方式可能有所不同，工作流 1 的 HTML 最终是不统一的，不能解决我们前文中模板困惑中的问题，2 集中在服务器上做转换则轻松解决。</li><li>工作流 2 由于本地不编译，所以对撰写人所用的电脑要求低（不必下载安装 Markdown 的编译工具或插件） —— 看似是件小事，但它<strong>使得在别人的电脑上改自己的文档成为可能。</strong></li></ul><p>综上，我建议采用工作流 2。</p><p>下面，我们来描述一下重点的几个技术细节，让大家顺利的操作工作流。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"一些技术细节\">一些技术细节<a class=\"hash-link\" href=\"#一些技术细节\" title=\"Direct link to heading\">​</a></h2><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"书写-markdown\">书写 markdown<a class=\"hash-link\" href=\"#书写-markdown\" title=\"Direct link to heading\">​</a></h3><p>这是萝卜白菜的问题，无论你用 windows 记事本、vi、还是锤子便签，我都是支持的，上一张图看看把：</p><p><strong>sublime 中畅快的书写和预览 markdown</strong>\n<img loading=\"lazy\" src=\"/assets/images/markdown.in.sublime-4cde8a8a185122aa78289391e08f05cf.png\" width=\"1451\" height=\"911\" class=\"img_E7b_\"></p><p><strong>通过 SVN 来合并、更新文档，并查看修改记录，快捷追溯</strong>\n<img loading=\"lazy\" src=\"/assets/images/scm.file.by.svn-85a096400f30b6c2adb905e695824380.png\" width=\"643\" height=\"472\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"httpserver-动态编译-markdown-的实现\">HttpServer 动态编译 Markdown 的实现<a class=\"hash-link\" href=\"#httpserver-动态编译-markdown-的实现\" title=\"Direct link to heading\">​</a></h3><p>HttpServer 的 Markdown 转换插件还是不难找的，无论是 IIS 还是 Apache，比如 Apache 上有：</p><ul><li><a href=\"https://github.com/sminnee/markdown-handler.git\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/sminnee/markdown-handler.git</a></li><li><a href=\"https://github.com/erusev/parsedown\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/erusev/parsedown</a></li></ul><p><strong>配置 Apache 识别.md 文件</strong>\n<img loading=\"lazy\" src=\"data:image/png;base64,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\" width=\"541\" height=\"227\" class=\"img_E7b_\"></p><p>配置完后就可以这样访问 md 文件了：<code>http://xxx.xxx.xxx.xxx/ReadMe.md</code>。</p><p>比如本文：<a href=\"http://10.9.111.222/articles/experiences/%E7%94%A8%E5%86%99%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E5%BC%8F%E5%86%99%E6%96%87%E6%A1%A3/%E7%94%A8%E5%86%99%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E5%BC%8F%E5%86%99%E6%96%87%E6%A1%A3.md\" target=\"_blank\" rel=\"noopener noreferrer\">http://10.9.111.222/articles/experiences/用写代码的方式写文档/用写代码的方式写文档.md</a> —— 如果你阅读的是 word 版，不妨阅读一下网页版，与 word 相比，会经常更新的哦。</p><p><strong>通过浏览器访问.md 后缀的 Markdown 文件</strong>(截图中为本文的<a href=\"http://10.9.111.222/articles/experiences/%E7%94%A8%E5%86%99%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E5%BC%8F%E5%86%99%E6%96%87%E6%A1%A3/%E7%94%A8%E5%86%99%E4%BB%A3%E7%A0%81%E7%9A%84%E6%96%B9%E5%BC%8F%E5%86%99%E6%96%87%E6%A1%A3.md\" target=\"_blank\" rel=\"noopener noreferrer\">网络地址</a>)\n<img loading=\"lazy\" src=\"/assets/images/access.markdown.by.apache-fc9fa046a5a0c133fa36d2ce07253f89.png\" width=\"968\" height=\"450\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"为-markdown-增加目录toc\">为 Markdown 增加目录(TOC)<a class=\"hash-link\" href=\"#为-markdown-增加目录toc\" title=\"Direct link to heading\">​</a></h3><p>为文档生成一份目录，并且能够页内跳转，富文本文档都是能轻松实现的，也是非常有必要的。Markdown 最初没有，后来加上了。</p><p>TOC 语法标准：<a href=\"https://pythonhosted.org/Markdown/extensions/toc.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://pythonhosted.org/Markdown/extensions/toc.html</a></p><p>其中涉及两个概念：</p><ol><li>在 Markdown 文本中增加目录，即<strong>TOC 的生成</strong>：可以使用 submlime 的 MarkdownTOC 插件</li><li>生成 HTML 时，为每一级标题（Header）生成出页内跳转点（或称为：锚点），即<strong>HeaderAnchor 的生成</strong>：<ul><li>使用 MarkdownPreview 生成的本地 HTML 具有标准的 HeaderAnchor</li><li>使用 parsedown 生成的动态 HTML，暂时没有。自己动手修改了一下吧，PHP 写的，然后还可以贡献给原作者。如果对 PHP 不太熟悉，百度一下学学也就半天时间。如果没学过软件，就直接到<a href=\"https://github.com/wkevin/parsedown\" target=\"_blank\" rel=\"noopener noreferrer\">我的 github</a>上取一下也行</li></ul></li></ol><p>如果觉得“为 markdown 生成 TOC 和 Headeranchor”是个烧脑和虐心的事情，完全可以不理这茬儿，因为也可以在 apache 上配置直接生成 TOC+Headeranchor 的插件（也许过不久，parsedown 就有这功能了），CSDN 的博客系统已经实现了，可以去参观学习。</p><h1>读者交流</h1><p>随着本文被越来越多的读者讨论，一些有趣的问题我也很想收录一下。</p><blockquote><p>【问】让大家放弃原有的方式是对惯性思维和惯性操作做斗争，你有什么好办法？<br>\n<!-- -->【答】布道者的手法、口才和热心很重要，布道者要懂得用最有力的工具（比如微信公众号）来推广自己认为有价值的东西，布道者需要写出更能打动人的文章和言辞。但最重要的是，需要打破惯性的人自己，他的内心如果是禁闭的，他的眼睛如果不肯张开，谁也没有办法，即使像 markdown 这样简单到不如乘法口诀表难度的东西。</p></blockquote><ul><li></li></ul><blockquote><p>【问】Markdown 的学习门槛如何让大家突破？<br>\n<!-- -->【答】Markdown 可以用 10 分钟速成，几乎没有学习门槛，工作流才有门槛。如果 Markdown 只是个人使用（即个人工作流，没有服务器配置的工作），下载一款软件，写文档的时候用上几个符号（<code>#、*、**、[]()、![]()</code>）就足够了。<br>\n<!-- -->Markdown 是把匕首，Office 是挺机枪，用什么取决于你要执行的任务，别搞的只会用枪不会用匕首，不要说“枪都会用了还学什么用匕首”的鬼话，更要防止某些连枪都用不好却也不学用匕首……</p></blockquote><ul><li></li></ul><blockquote><p>【问】如何保证大家都切换到 markdown，而不是一些人用，一些人不用，会更糟。<br>\n<!-- -->【答】WOO！这个问题我不好回答了，Github 上的一刀切可以参考，但人家是 MinZhu 社会，一切行为靠市场去调节，我们这里如果一刀切的话，倡导切的人肯定要被“调节”，场景不同。另外，这种问题布道者难以回答的另一个原因是：牧师有教会支持，党员有党团支持，技术布道者只有热情去支持，热情--只能感染身边小众，除非你是 stallman 之流。</p></blockquote><h1>附录</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"sublimetext-的基本使用\">SublimeText 的基本使用<a class=\"hash-link\" href=\"#sublimetext-的基本使用\" title=\"Direct link to heading\">​</a></h2><p>一定要分清标记类语言的：编辑器和编译器。Sublime 只是编辑器，MarkdownEditor 和 MarkdownTOC 是编辑器辅助插件，MarkdownPreview 是编译插件。</p><p><strong>安装</strong></p><ul><li><strong>安装软件</strong>：<a href=\"http://www.sublimetext.com\" target=\"_blank\" rel=\"noopener noreferrer\">官网</a> 发布安装包和绿色免安装包，区别是：用户数据（包括：自己安装的插件、缓存、配置等）<ul><li>安装版在：C:\\Users\\Administrator\\AppData\\Roaming\\Sublime Text 3\\</li><li>免安装版：运行目录\\Data\\</li><li>所以免安装版打个包就能传给另一台电脑使用了，所有用户数据都在，非常方便</li></ul></li><li><strong>安装插件</strong>：<ol><li>首先安装<a href=\"https://sublime.wbond.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Package Control</a>，</li><li>然后<code>Ctrl+Shift+P</code></li><li>输入<code>install package</code></li><li>分别输入插件的名字,如本文后面推荐的：<code>MarkdownEditor</code> 、 <code>MarkdownPreview</code>、<code>MarkdownOC</code></li></ol></li></ul><p><strong>基本操作</strong></p><ul><li>Goto<ul><li>（搜索后）跳转<ul><li>跳转到文件：<strong>Ctrl + P</strong>：</li><li>跳转到 symbol：<strong>Ctrl + P，<code>@</code></strong>，或 <strong>Ctrl + R</strong></li><li>跳转到 word：<strong>Ctrl + P，<code>#</code></strong>，或 <strong>Ctrl + ;</strong></li><li>跳转到 line：<strong>Ctrl + P，<code>:</code></strong>，或 <strong>Ctrl + g</strong></li><li>跳转到 定义：<strong>F12</strong> —— ST3 中新增，需要文件首先加入到 project 中</li></ul></li><li>向回和向前跳转：<strong>Alt + <code>-</code></strong> 和 <strong>Alt + Shift + <code>-</code></strong></li><li>文件切换<ul><li>Tab 直接定位：<strong>Alt + 1/2/3/...</strong></li><li>Tab 间切换：<strong>Ctrl + PageDown/Up</strong></li><li>头文件和源文件之间切换：<strong>Alt + O</strong></li></ul></li></ul></li><li>Select<ul><li>Multiple Selections（多重选择）<ul><li><strong>Ctrl + 鼠标左键</strong>：同时在多个地方放置光标，然后可进行同时的修改、删除等</li><li><strong>Ctrl + D</strong>：选中相同的 word<ul><li>依次 <strong>Ctrl + D</strong>，选中每一个想要的，然后可进行同时的修改、删除等</li><li>遇到某个不想要的，用 <strong>Ctrl + K</strong> &amp; <strong>Ctrl + D</strong> 跳过</li><li>取消选定：<strong>Ctrl + U</strong></li></ul></li><li>上述两种操作也可以组合使用：先 Ctrl+D，在 Ctrl+左键选……</li></ul></li><li>Column Selection<ul><li>Windows： <strong>Ctrl + Alt + Up/Down</strong>，或者<strong>Shift + 右键拖动</strong></li><li>Linux： <strong>Alt + ⇧ + Up/Down</strong></li><li>OS X： <strong>⌃ + ⇧ + Up/Down</strong></li></ul></li></ul></li><li>Tools<ul><li>Command Pallete（命令操作）：<strong>Ctrl + Shift + P</strong>，<a href=\"http://docs.sublimetext.info/en/latest/reference/commands.html\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a></li></ul></li></ul><p><strong>配置</strong></p><ul><li>Preferences --&gt; Settings<ul><li>切换到 vi 模式<ul><li>Setting-Default：拷贝 <code>\"ignored_packages\": [\"Vintage\"]</code> —— Default 是修改不了的</li><li>Setting-User：粘贴为 <code>\"ignored_packages\": [ ]</code> —— User 的设置会覆盖 Default</li><li>基本的字符、搜索、行、列……操作都是使用 vi 的快捷键实现，就不去再记忆一份 ST 的快捷键了</li></ul></li></ul></li><li>command、Keybinding、macro ——三者是关联的。<ul><li>command<ul><li>wiki: <a href=\"http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/reference/commands.html\" target=\"_blank\" rel=\"noopener noreferrer\">http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/reference/commands.html</a></li><li>官方（不全）： <a href=\"https://www.sublimetext.com/docs/commands\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.sublimetext.com/docs/commands</a></li></ul></li><li>key bindings<ul><li>书写格式： <a href=\"http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/reference/key_bindings.html?highlight=keys\" target=\"_blank\" rel=\"noopener noreferrer\">http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/reference/key_bindings.html?highlight=keys</a></li></ul></li><li>macro<ul><li>书写格式： <a href=\"http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/extensibility/macros.html?highlight=macro\" target=\"_blank\" rel=\"noopener noreferrer\">http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/extensibility/macros.html?highlight=macro</a></li><li>macro 的一个缺点：宏只能识别 Text Commands，不能识别很多 command，比如 <code>show_overlay</code></li></ul></li></ul></li></ul><p><strong>Plugin</strong>:<br>\n<!-- -->Sublime 的插件非常多，下面除<code>Package Control</code>之外，介绍 5 个最必须的。</p><ul><li>Package Control: <a href=\"https://sublime.wbond.net/\" target=\"_blank\" rel=\"noopener noreferrer\">https://sublime.wbond.net/</a> 下面各种插件的基础、管家</li><li>Markdown 类<ul><li><strong>Markdown Preview</strong>：<a href=\"https://sublime.wbond.net/packages/Markdown%20Preview\" target=\"_blank\" rel=\"noopener noreferrer\">https://sublime.wbond.net/packages/Markdown%20Preview</a><ul><li>Preview：两种方式<ol><li><code>cmd+shift+P</code>：<ul><li>Markdown Preview: Preview in Browser</li><li>Markdown Preview: Export HTML in Sublime Text</li><li>Markdown Preview: Copy to Clipboard</li><li>Markdown Preview: Open Markdown Cheat sheet</li></ul></li><li><code>Ctrl+B</code>(Windows/Linux) or <code>cmd+B</code>(Mac)： build current file 到当前目录，并且名字相同，后缀改为 .html</li></ol></li><li>Config<ul><li>\"css\": \"E:/kevin/kknowledge/src/CSS/markdown.css\",</li><li>\"image_path_conversion\": \"none\", —— 不要把图片的相对地址转换为绝对地址，否则本地路径就进去了，非常不好</li><li>\"file_path_conversions\": \"none\", —— 同上</li><li>\"path_tempfile\": \"./\", —— <code>cmd+shift+P</code>生成的临时 html 文件地址，该临时文件名为随机</li><li>\"enable_autoreload\": false, —— save 的时候是否 build，true 的话 save 会很慢</li></ul></li></ul></li><li><strong>Markdown Edit</strong><ol><li>Provides a decent Markdown color scheme</li><li>加快文件的操作<ul><li>Pair 操作<ul><li>输入一对的首，自动加入尾；</li><li>输入首后前删首，自动删除尾；</li><li>输入首后空格，自动删除尾；</li></ul></li><li>列表的支持<ul><li>列表的编辑中，回车自动加入列表项</li><li><code>Tab</code> 和 <code>Shift Tab</code> 列表级别增加一级、减少一级</li></ul></li><li><code>~</code> wraps selected text with ~~ (strikethrough)</li></ul></li></ol></li><li><strong>MarkdownTOC</strong>：安装后操作： <code>菜单Tools -- MarkdownTOC -- insert</code></li></ul></li><li>字符编码类：SublimeText 新建、保存默认都是 UTF-8，所以只存在这样两种动作：其他编码格式的文件打开时没有被正确识别 —— 需要 repon 或 reload；无论当前打开的文件是什么编码，我想保存为一种我指定的格式 —— save with 或 set file encoding to。<ul><li><strong>EncodingHelper</strong>：官方出品，菜单中会增加 <strong>reopen/save with encoding</strong>，但缺少 ANSI（GBK、GB2312……）的支持</li><li><strong>ConverToUTF8</strong>：中国的同学补充，菜单中会增加 <strong>Set File encoding to/Reload with encoding</strong>，不过名字容易让人困扰，改为 <strong>EncodingHelperWithANSI</strong> 更合适些</li></ul></li></ul>",
            "url": "https://wkevin.github.io/blog/2015/09/01/write-doc-by-code-way",
            "title": "用写代码的方式写文档",
            "summary": "摘要",
            "date_modified": "2015-09-01T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "markdown",
                "workflow"
            ]
        },
        {
            "id": "/2015/02/14/Instrument-Protocol",
            "content_html": "<p><img loading=\"lazy\" src=\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=91784127,1318939839&amp;fm=26&amp;gp=0.jpg\" class=\"img_E7b_\"></p><p>1960`，个人电脑还只在科幻书籍中的年代，当年的惠普主营业务还是电气领域。</p><p>1965 年，惠普在成立 26 年的时候，收购了宾西的 F&amp;M 科技公司，跻身于分析仪器领域，同年推出了 HP-IB(HP Interface Bus)接口规范，应用在自己的医疗和测量仪表中，这是个像串口、I2C、PIC 一样的物理接口协议。但在随后的几年里，HP 也对仪表领域的雄心壮志一发不可收拾，HP-IB 也逐渐被 HP 推广成了 IEEE 的标准，直到后来的安捷伦成立。</p><p>HP-IB 成为业内既成规范之后，改了个更高大上的名字 GPIB(General-Purpose Interface Bus)，但仍是个物理层+链路层的协议，规定了总线电平、双向异步、并行比特、支持级联…… 当年仪表里面还没有操作系统，还叫做下位机，操作仪表的设备叫做上位机，上位机里的软件还是用 BASIC 语言编写的…… 就像现在的功放（PA），控制功放的 TR 板只用一根 I2C 总线就把 PA 搞定了。另外，I2C 和 GPIB 有个共同点：都能够级联，URAT 就不行了。</p><p>学过《计算机组成原理》的同学可能还记得 Motorola 的一款经典 CPU：68k，那是 1979 年的作品，32 位的总线和寄存器、big-ending，应用在 PDP-11、VAX 等这种庞然大物的工作站中，放在研究所、高校里面给教授们搞科研。68k 众多创新中有一条：<a href=\"http://en.wikipedia.org/wiki/VMEbus\" target=\"_blank\" rel=\"noopener noreferrer\">VMEbus</a>，这种 CPU 对外扩展接口的 16bit 总线，搭着 68k 的顺风车迅速成长为主板和扩展卡之间、主板与主板之间的通用通信接口，后来也发展出了 32bit、64bit。</p><p>80 年代，个人计算机（PC）时代来了，世界的各个角落都能放一台 PC，插一个卡来控制仪表了，也能用 C 语言开发驱动了。1987 年 6 月，Colorado Data System,Hewlett Packard,Racal Dana, Tektronix 和 Wavetek 等 5 家公司成立<a href=\"http://www.vxibus.org/\" target=\"_blank\" rel=\"noopener noreferrer\">VXIbus 联盟</a>，在 VMEBus、IEEE488 等标准基础上制定“具有开发体系结构的仪器总线标准”,VXI(VME eXtensions for Instrumentation) 名字中就能看出 VME 的身影。1987 年 7 月，VXIbus 联盟发布了第一个版本：VXI-1，几乎就是 VME 的克隆，但你注意了没有，Motorola 并没有在这个 VXI 联盟中，所以 VXI-1 和 VME 只能做孪生兄弟，不能合并归一。这种事情并不少见，ANSI C &amp; ISO C 也是缠的难舍难分。</p><p>时间过的很快，转眼 90 年代了，但其实对仪表接口来说，发展的还是相当缓慢，毕竟还是在摩尔定律的前期。一个大得的进展就是 1990 年的 SCPI(Standard Commands for Programmable Instruments) 了，这是 IEEE 搞的一套树状分层结构的命令集，其实就是定义了若干个操作的 ASCII 字符串，比如，通用的命令，如配置仪器参数的命令 CONFigure，测量命令 MEASure 等。SCPI 在 ISO 7 层结构中属于应用层，没物理层和链路层啥事，所以这些做物理层的仪表厂家们都乐得其所，让 IEEE 来干吧。IEEE 也喜欢干些有一定现实基础的，风险不是很高的规范性工作，比如 92 年 9 月，IEEE 又将 VXI 升华为自己的 IEEE-1552 标准。</p><p>把 SCPI 字符串发给仪表的 PC 驱动（windows dll 库等）还都是由各自厂家开发的，IEEE 控制不了也不想控制，但确实用起来受限制，如果能安装一个库就能向所有仪表发送 SCPI 命令就好了，其实这并不难，几个厂家从驱动团队中各抽一人，很快就能搞定。1993 年 NI、Tektronics、Racal 等著名仪器公司成立了 VPP(VXI plug &amp; play)联盟，并制定了 VPP 规范，目标只有一个：为 VXIbus 开发通用的驱动，即插即用 —— 就像 C 语言标准库接口（19 个头文件，定义了百来个宏定义和函数），用这个 VPP 编程接口发送 SCPI 命令字符串就能控制仪表了——全世界这么多厂家能够做到这一步，好像真的不容易啊。</p><p>VPP 包括以下几部分：</p><ul><li>VPP-1 ： Charter Document</li><li>VPP-2 ： System Frameworks Specification</li><li>VPP-3.x ： Instrument Driver Specifications，仪器驱动程序设计</li><li>VPP-4.x ： VISA Virtual Instrument Software Architecture Specifications</li><li>VPP-6 ： Installation and Packaging Specification</li><li>VPP-7 ： Soft Front Panel Specification，软面板</li><li>VPP-8 ： VXI Module/Mainframe to Receiver Interconnection</li><li>VPP-9 ： Instrument Vendor Abbreviations</li></ul><p>VPP 就像 POSIX 接口一样，是个系统级的工程，其中的 VPP-4 规范出的 VISA(The Virtual Instrument Software Architecture) 就主要描述了 I/O API，如果要编程的话，仔细看 VISA 的文档，就跟写 C 语言要仔细看 Standrd C，写 C++要仔细看 MFC 一样。</p><p>编程接口很快就写好了，谁来实现是个问题，就像几个科室联合写了个方案，具体落实谁来出人开发是另外一回事了，项目经理可以点名：那个谁谁谁，听说你 linux 熟，这个模块就交给你来了。但 VPP 的实现可没有项目经理，还好，大厂勇敢的挑起了重担，NI 实现了一把（<a href=\"http://www.ni.com/visa/\" target=\"_blank\" rel=\"noopener noreferrer\">NI-VISA</a>），安捷伦实现了一把（<a href=\"http://www.chem.agilent.com/search/?Ntt=io%20library\" target=\"_blank\" rel=\"noopener noreferrer\">Agilent IO</a>），我猜罗德、泰克和安利应该也有，只不过用的少，你想这又何必呢，用 Agilent IO 已经能够和几乎所有仪表通信了，谁还再多安装一个呢。</p><p>一切看来都在向好的方向发展，物理层和链路层统一了：VXI 联盟的 VXIbus；高层控制命令统一了：IEEE 的 SCPI；PC 上的函数接口统一了：VPP 联盟的 VPP 规范。但还没完…… 因为 90 年代是计算机界的大航海时代！</p><p>1998 年 8 月，由九个公司成立的 <a href=\"http://www.ivifoundation.org/\" target=\"_blank\" rel=\"noopener noreferrer\">IVI（Interchangeable Virtual Instruments）基金会</a>，致力于推动仪表的统一编程和开发，为的是响应快速增长的 PC 上开发仪表控制的需求。要知道，基金会（foundation）和联盟（alliance）的玩法是不一样的，联盟有立场，比如二战的盟军（allied forces），为的是联手干翻对手；基金会则是庄家出钱但不参与基金会运营，基金会大多从事公益、慈善活动。从另一角度来说，名称和玩法的改变也是时代进步的选择，再弄些联盟的冷战字眼会显得很扎眼。</p><p>IVI 基金会制定的 <a href=\"http://www.ivifoundation.org/specifications/default.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">IVI 规范</a> 很快取得了一片喝彩和认同，不论是迫于无奈，还是心甘情愿，SCPI 和 VPP 都在 2002 年并入和 IVI 基金会，成为 IVI 规范中的一部分。</p><p>IVI 成了包含驱动、指令集（SCPI）、函数编程接口（VISA）等各个门派的武功大全，唯独物理层的少林派（南少林 VXIbus/北少林 VMEbus）还没有被他收至麾下。</p><p>少林派在释长老的带领下与时俱进，自我蜕变:</p><ul><li>VXI 发展出 VXI-11，从 SCPI 终于过度到 TCP/IP</li><li>2004 年 Agilent 和 VXI Technology 两公司建立的 LXI 联盟，<a href=\"http://www.lxistandard.org/\" target=\"_blank\" rel=\"noopener noreferrer\">LXI（LAN eXtension for instrumentation）</a> 意思是 VXI 扩展到 LAN 局域网上，所以可以用 LXI 的驱动与 LXI 的仪表通信，也可以使用 VXI-11 的驱动与 LXI 的仪表通信。</li></ul><p>好了，故事讲完了，再来整理一下关键词：</p><ul><li>物理层/链路层：VMEbus(by Moto) --&gt; VXIbus(by VXI 联盟) --&gt; LXIbus(by LXI 联盟)</li><li>控制命令：SCPI(by IEEE) --------<!-- -->_</li><li>驱动和编程接口：VPP(by VPP 联盟) --&gt; IVI(by IVI 基金会)</li></ul><blockquote><p>以上故事大多猜测、杜撰，如有错误，不吝指正。</p></blockquote><h1>参考资料</h1><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"vmebus-versa-module-europa-bus\">VMEbus (Versa Module Europa bus)<a class=\"hash-link\" href=\"#vmebus-versa-module-europa-bus\" title=\"Direct link to heading\">​</a></h2><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"vxivme-extension-for-instrumentation\">VXI(VME eXtension for Instrumentation)<a class=\"hash-link\" href=\"#vxivme-extension-for-instrumentation\" title=\"Direct link to heading\">​</a></h2><p>The VXIbus specification combines VMEbus with GPIB features</p><ul><li>1987 年 6 月，Colorado Data System,Hewlett Packard,Racal Dana, Tektronix 和 Wavetek 等 5 家公司成立委员会（<a href=\"http://www.vxibus.org/\" target=\"_blank\" rel=\"noopener noreferrer\">VXIbus 联盟</a>），在 VMEBus、IEEE488 等标准基础上制定“具有开发体系结构的仪器总线标准”。</li><li>1987 年 7 月，VXIbus 联盟发布了第一个版本。</li><li>1992 年 9 月，IEEE 批准为 IEEE-1552 标准。</li></ul><p>VXI 规范目前包括 3 个文档：</p><ol><li>VXI-1 : VXIbus System Specification</li><li>VXI-10: Fast Data Channel Specification</li><li>VXI-11: TCP/IP Instrument Protocol Specification</li></ol><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"vppvxi-plug--play\">VPP(VXI plug &amp; play)<a class=\"hash-link\" href=\"#vppvxi-plug--play\" title=\"Direct link to heading\">​</a></h2><p>1993 年 NI、Tektronics、Racal 等著名仪器公司成立了 VXIplug&amp;play 联盟并制定了 VXIplug&amp;play 规范，简称 VPP 规范。目标是为 VXIbus 开发通用的驱动。</p><p>VPP 包括以下几部分：</p><ul><li><p>VPP-1 Charter Document</p></li><li><p>VPP-2 System Frameworks Specification</p></li><li><p>VPP-3.x Instrument Driver Specifications，仪器驱动程序设计</p></li><li><p>VPP-4.x VISA Virtual Instrument Software Architecture Specifications</p></li><li><p>VPP-6 Installation and Packaging Specification</p></li><li><p>VPP-7 Soft Front Panel Specification，软面板</p></li><li><p>VPP-8 VXI Module/Mainframe to Receiver Interconnection</p></li><li><p>VPP-9 Instrument Vendor Abbreviations</p></li><li><p>VISA(Virtual Instrument Software Architecture)</p><ul><li><a href=\"http://en.wikipedia.org/wiki/Virtual_Instrument_Software_Architecture\" target=\"_blank\" rel=\"noopener noreferrer\">Wiki</a></li><li>The Virtual Instrument Software Architecture (VISA) is a standard for configuring, programming, and troubleshooting instrumentation systems comprising GPIB, VXI, PXI, Serial, Ethernet, and/or USB interfaces. VISA provides the programming interface between the hardware and development environments such as LabVIEW, LabWindows/CVI, and Measurement Studio for Microsoft Visual Studio.</li><li>发起人：<ul><li>Agilent Technologies</li><li>Anritsu</li><li>Bustec</li><li>Keysight Technologies</li><li>Kikusui</li><li>National Instruments</li><li>Rohde &amp; Schwarz</li><li>Tektronix</li></ul></li><li>实现：<ul><li><a href=\"http://www.ni.com/visa/\" target=\"_blank\" rel=\"noopener noreferrer\">NI-VISA</a>:<ul><li>software libraries, interactive utilities such as NI I/O Trace and the VISA Interactive Control, and configuration programs through Measurement &amp; Automation Explorer for all your development needs.</li></ul></li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"scpi\">SCPI<a class=\"hash-link\" href=\"#scpi\" title=\"Direct link to heading\">​</a></h2><p>2002 年，SCPI 并入 IVI 基金会</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"ivi\">IVI<a class=\"hash-link\" href=\"#ivi\" title=\"Direct link to heading\">​</a></h2><p>1998 年 8 月，由九个公司成立的 IVI（Interchangeable Virtual Instruments）基金会。\n2002 年合入 VPP 后，在 VPP 的基础上为仪器驱动程序制定了新的编程接口标准，使应用程序可以实现完全独立于硬件，独立于接口，并增加了仪器仿真、状态缓存等机制，大大提高了仪器驱动程序的执行效率。\nIVI 基金会制订的仪器驱动程序规范将仪器分成基本功能和扩展功能两部分，并将所有的仪器进行分类。更换同类仪器的时候，只要修改或更换那些特殊功能的代码，也就是具体的驱动程序，而不必改动类驱动程序。\n已经公布了九类仪器的规范：示波器、开关、任意波形发生器/函数发生器、数字电压表、电源、射频信号发生器、频谱分析仪、功率计和数字 I/O 仪器。</p><p>IVI 协议包括几部分：</p><ul><li>Architecture （IVI-3.x）：IVI/IVI-C/IVI-COM/IVI-NET 等驱动</li><li>Instrument Classes （IVI-4.x）：针对示波器、信号源……等仪表分别描述 Class</li><li>HiSLIP Network Protocol Specifications（IVI-6.x）：告诉网络协议说明</li><li>SCPI：继承并增强 SCPI</li><li>VISA（VPP-4.x）：继承并增强 VPP</li><li>Instrument Driver（VPP-3.x）：继承并增强 VPP</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"lxi-lan-extensions-for-instrumentation\">LXI (LAN eXtensions for Instrumentation)<a class=\"hash-link\" href=\"#lxi-lan-extensions-for-instrumentation\" title=\"Direct link to heading\">​</a></h2><p><a href=\"http://www.lxistandard.org/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.lxistandard.org/</a></p><p>可以使用 VXI-11 的接口与 LXI 的仪表通信</p><p>Many LXI instruments communicate via the LAN through one of two protocols, VXI-11 and HiSLIP</p>",
            "url": "https://wkevin.github.io/blog/2015/02/14/Instrument-Protocol",
            "title": "仪器通讯接口简史",
            "summary": "1960`，个人电脑还只在科幻书籍中的年代，当年的惠普主营业务还是电气领域。",
            "date_modified": "2015-02-14T10:16:00.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "VISA",
                "SCPI",
                "VPP"
            ]
        },
        {
            "id": "/2015/01/20/kanban-vs-agile",
            "content_html": "<p><a href=\"http://lkse.leankanban.com/speakers/david-anderson/\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" src=\"http://ecx.images-amazon.com/images/I/51av+WzK-eL._UX250_.jpg\" class=\"img_E7b_\"></a></p><p>David Aderson（戴维 安德森），这哥们1956年生，在Moto、Microsoft等几家公司工作过，尤其在微软期间，学习了在当年来说刚刚起步的“敏捷”，心向往之，写了一本《软件工程的敏捷管理》。不过不久后的一天，他学习了丰田的精益，又仔细观察了公园发入园卡来控制流量（类似停车场发停车卡来控制流量），然后改弦易张，闭门自创武功，搞出个：Kanban Methon（看板方法）。<br>\n<!-- -->苦心经营、孤军奋战了十多年，现在终于被称之为：看板之父了。<br>\n<!-- -->我向来对某某之父心怀敬仰，尤其是技术类的，必定有坚实的技术和理论基础，丰富的实战经验，百折不挠的传教士精神。<br>\n<!-- -->安德森现在当然已经功成名就了，算是吧，呵呵，自己搞了个看板研究院（Lean-Kanban University），又是精益软件和系统协会（Lean Software &amp; Systems Consortium）的创始人 —— 自创武功、自成一派，在武学上可是非大师不可为啊。</p><p><strong>引入看板就是为了对那些拒绝敏捷的团队进行改进 —— David Aderson </strong></p><p>老安的意思是：那些不想搞敏捷、搞着搞着走形了的、觉得搞敏捷越搞越痛苦的，用看板方法来拯救你吧，看这口气，多霸气。</p><p><strong>看板确实正在成为软件过程市场中的下一个明星，…… 如果从历史角度来看，从CMMI，然后到RUP，到XP，再到Scrum，那么看板就是下一个。 —— David Aderson</strong></p><p>老安对自己充满了信息，大家一起来祝福他吧。</p><p><strong>最近一个比较可靠的市场调查显示，Scrum的市场占有率大约在15%，RUP最高市场占有率是11%，Kanban目标是Scrum其余的85%市场 —— David Aderson</strong></p><p>老安决定像Scrum发起猛烈的进攻，就像Android誓要占领苹果的市场份额。</p><p>那么问题来了，看板方法是个啥东东？看板方法和看板又是不是一回事呢？敏捷vs精益，Scrum vs 看板方法，孰优孰劣呢？</p><p>这些问题都要从历史讲起 ^_^</p><p>上世纪80年代，丰田精益（TPS）就已经出来了，牛逼的零库存、高质量风靡生产制造业界，靠的几大原则里面有一条：可视化的看板。TPS中的看板通常只是指生产线上随产品一起流动的纸质卡片（貌似kanban的日语含义就是卡片的意思），后来又有了生产线上的进度看板（线上生产了多少）、效率看板、管理看板……一切能够写在墙上的东西都被丰田写出来贴在墙上，这就是看板，让质量提高的秘诀。零库存的秘诀是另外一个原则：拉系统。客户下单，开始第一次拉动，订单分解到主车间和供应商车间，第二次拉动，每条生产线自动核算出最后一个工位要做什么，朝着产线的前一个工位一次拉动。整体上看，就像从后往前逐级拉动。拉系统强调每个工位把当前工作专心做好，然后从上个工位在拉一个任务过来。</p><p>90年代，敏捷出现了，敏捷中有一点不同于拉系统，敏捷采用自组织团队自选、自承诺、自认领方式，这种方式被安德森称之为推系统，其实我个人觉得和推还不是一个概念，但在实际操作中一旦SM不够专业，PO不够敏捷，确实很容易编程<strong>推系统</strong>：PO把一堆的Story硬塞给Team，认领不认领，早晚都是你的。所以敏捷中有一种观点：Team要像打了鸡血一样，每天爆发一次小宇宙才行。这种<strong>推系统</strong>或<strong>塞系统</strong>被精益和安德森所耻笑，哈哈。这个话题先说到这。</p><p>敏捷诞生之处，敏捷的四驾马车可能没有想到，十多年后的有人会拿敏捷和精益相比，因为一个是软件开发领域，一个是生产制造领域，看起来毫无重合，简直可以用“你走你的独木桥，我走我的阳关道”，两者一软一硬，一开发一生产。敏捷里面也有看板，或者说是故事强、燃尽图、燃起图、信息辐射墙……各种展板的总称吧。<br>\n<!-- -->看板——让人么把敏捷和精益硬生生拉在一起对比对比。其中最突出的，就是安德森了。<br>\n<!-- -->安德森糅合二者之精华，搞出一个怪胎：看板方法，取了敏捷的优秀实践（包括看板）+精益的拉系统。—— 这是一个方法论，类似于Scrum，或XP。<br>\n<!-- -->精益下两大方法论：TPS、看板方法。<br>\n<!-- -->敏捷下两大方法论：Scrum、XP。  </p><p>看板方法这个名字如果能改为：“软件精益加敏捷看板的二合一系统”可能更合适些，什么？太长了？那“礼天隆运定统建极英睿钦文显武大德宏功至仁纯孝章皇帝”长不长，你念的不也挺爽。</p><p><strong>看板方法并不是因为有块板而得名，它叫看板是因为它采用了一种虚拟的看板系统 —— Alan Shallaway</strong></p><p>那么看板方法和Scrum对比，有啥异同呢？简单对比一下吧：</p><table><thead><tr><th>Scrum</th><th>看板方法</th></tr></thead><tbody><tr><td>故事墙每个Sprint都清空</td><td>看板一直存在</td></tr><tr><td>跨功能团队是必须的</td><td>可选，允许专职团队</td></tr><tr><td>用户故事必须在一个sprint内完成</td><td>对任务没有特殊要求</td></tr><tr><td>强调燃尽图</td><td>没要求</td></tr><tr><td>迭代周期决定并发任务</td><td>迭代周期不固定，并发任务数量也不限制</td></tr><tr><td>每个迭代周期固定，强调承诺</td><td>不固定，随时可增减，利用推迟承诺为用户带来选择和灵活性</td></tr><tr><td>PO、SM、Team</td><td>随意</td></tr><tr><td>用户故事要有优先级</td><td>任务优先级可选</td></tr><tr><td>故事墙上只有用户故事</td><td>任务墙上有任务，也可以有故障</td></tr></tbody></table><p>详细信息可以参考书籍： <a href=\"http://book.douban.com/subject/6946753/\" target=\"_blank\" rel=\"noopener noreferrer\">《Kanban and Scrum - making the most of both》</a></p><p>看完对比之后，你会不会和我一样，有个奇怪的想法：看板方法怎么这么反敏捷，简直就是传统方法加了块板而已嘛。<br>\n<!-- -->嗯，这么想就对了，人家老安说了：引入看板就是为了对那些拒绝敏捷的团队进行改进。  </p><p>最后，安德森2010年写了一本书：《Kanban: Successful Evolutionary Change for Your Technology Business》，2014年1月由阿里的项目经理 章显洲 老师翻译，Agilean联合创始人 路宁 老师联手出版。</p><p><img loading=\"lazy\" src=\"https://img3.doubanio.com/view/subject/l/public/s27174102.jpg\" class=\"img_E7b_\"></p><ul><li><a href=\"http://www.amazon.cn/gp/aw/d/B00HNKMDN2\" target=\"_blank\" rel=\"noopener noreferrer\">amazon</a></li><li><a href=\"http://book.douban.com/subject/25788807/\" target=\"_blank\" rel=\"noopener noreferrer\">豆瓣</a></li></ul><p>好了，大概就是这样了。</p><p>最后，战略上再藐视一下敌人：看板，就是个展板，出过黑板报的，就别说自己不懂。</p>",
            "url": "https://wkevin.github.io/blog/2015/01/20/kanban-vs-agile",
            "title": "敏捷 vs 精益；Scrum vs 看板方法",
            "summary": "David Aderson（戴维 安德森），这哥们1956年生，在Moto、Microsoft等几家公司工作过，尤其在微软期间，学习了在当年来说刚刚起步的“敏捷”，心向往之，写了一本《软件工程的敏捷管理》。不过不久后的一天，他学习了丰田的精益，又仔细观察了公园发入园卡来控制流量（类似停车场发停车卡来控制流量），然后改弦易张，闭门自创武功，搞出个：Kanban Methon（看板方法）。",
            "date_modified": "2015-01-20T22:53:39.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "Agile",
                "TPS",
                "Kanban",
                "Scrum"
            ]
        },
        {
            "id": "/2014/06/24/shuang-yue-wan",
            "content_html": "<h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"目的地\">目的地<a class=\"hash-link\" href=\"#目的地\" title=\"Direct link to heading\">​</a></h2><p>双月湾位于：惠州市--惠东县--港口镇</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"惠州市\">惠州市<a class=\"hash-link\" href=\"#惠州市\" title=\"Direct link to heading\">​</a></h3><p>惠州，面积 11200km2，是深圳（2000km2）的 5.6 倍，东莞（2500km2）的 4.5 倍。</p><p>惠州，我觉得像一只前踢跃起的兔子：</p><ul><li>头顶：韶关</li><li>眼观：清远</li><li>嘴亲：广州</li><li>手抓：东莞</li><li>猥琐：深圳</li><li>身背：河源</li><li>臀下：汕尾</li></ul><p><img loading=\"lazy\" alt=\"惠州行政区划图\" src=\"/assets/images/HuiZhou-XingZhengTu-52ed5da3b92860f467de71b5661039dd.jpg\" title=\"惠州行政区划图\" width=\"687\" height=\"600\" class=\"img_E7b_\"></p><p>惠州有 2 个区，3 个县，把惠州横切了 4 刀：</p><ul><li>兔头-龙门县：南昆山、铁泉</li><li>前腿-博罗县：罗浮山、观音阁</li><li>粗腰-惠城区：西湖</li><li>腹部-惠阳区：楼盘</li><li>臀尾-惠东县：巽寮湾、双月湾</li></ul><p>景点去过的不多，能列就这么几个。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"惠东县\">惠东县<a class=\"hash-link\" href=\"#惠东县\" title=\"Direct link to heading\">​</a></h3><p>惠东县大部分是内陆，但最南边伸出的一个半岛，被<strong>范和港</strong>和<strong>考洲洋</strong>夹出细细的脖子，好像一个离岛似的，为：<strong>稔平半岛</strong>（稔山和平海）。</p><p>稔平半岛和深圳的大鹏半岛隔海相望，离得并不远，如果去桔钓沙玩，会有一个坐船 20 分钟就到大甲岛、小甲岛露营的节目，大/小甲岛全称是大/小辣甲岛，已经属于惠州，位于深圳和惠州海域的中间，可以推算，坐快艇的话，从大鹏半岛到稔平半岛也就 40 分钟了。</p><p><img loading=\"lazy\" alt=\"稔平半岛\" src=\"/assets/images/RenPingBanDao-1-56cf5b26ecb507f0bc01c0064f23b0e1.png\" title=\"稔平半岛--位于惠州的最南边\" width=\"739\" height=\"528\" class=\"img_E7b_\"></p><p>岛上有 3 个镇：</p><ol><li>铁涌镇：巽寮湾在其西边海岸</li><li>平海镇：平海古城也是惠州知名景点之一</li><li>港口镇：惠东县的官网上只有铁涌和平海，但当地人和百度地图都表示：这里是“港口镇”</li></ol><p><img loading=\"lazy\" alt=\"岛上3镇\" src=\"/assets/images/RenPingBanDao-3-de8ff7e0f59cf689e414b23865acf1b0.png\" title=\"岛上3镇--A标注处为港口镇\" width=\"438\" height=\"500\" class=\"img_E7b_\"></p><p>稔平半岛内目前没有高速，甚至连省道（S324）也是在门口掠过而已。下了省道，都是没有黄、白线的田间公路，镇上还是九十年代影片中的吵杂和纷乱景象，甚至红绿灯都不亮的，走在这样的街道上，看到美丽的山峦、蒸腾的雾霭、或喜欢的水果，随便停下……这才是生活嘛。</p><p><strong>惠东双湾</strong>：</p><ol><li>巽寮湾：位于上图“港口列岛”海域，开发的较早，比较成熟，意味着人多、景色和魅力已非原生态。</li><li>双月湾：位于上图“平海湾”海域，目前刚开始开发，预计 3 年后原始、美丽的双月湾将不复存在，要去趁早。</li></ol><p>遥想 9 年前刚到深圳时干净的大小梅沙，再看这几年的垃圾如山和人多如麻的大小梅沙，桔钓沙、杨梅坑通通不能幸免，深圳人 10 年毁掉一个半岛的速度正在向惠阳和惠东渗透。</p><p>透过开发商们制作的图，能看到他们的野心，和不给子孙留一处干净之处的决心：</p><p><img loading=\"lazy\" alt=\"稔平半岛楼盘\" src=\"/assets/images/RenPingBanDao-2-9230c106e202b12f260c1c3682166fb9.jpg\" title=\"惠东半岛--开发商们的最爱\" width=\"960\" height=\"517\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"港口镇\">港口镇<a class=\"hash-link\" href=\"#港口镇\" title=\"Direct link to heading\">​</a></h3><p>港口镇居民讲福佬话，镇上一半都是华侨和港澳台胞。</p><p>从外形上看，港口镇像个伸出大拇指的拳头，有人说港口镇是因双月湾而闻名，也有人说港口镇哪里只有双月湾，确实，她的景点还真不少。</p><ol><li>双月湾：在手腕处，内海隔开了尺骨和桡骨</li><li>大星山：手心，双月湾全景观景台</li><li>炮台山：大拇指</li><li>海龟基地：食指</li><li>最美私人沙滩：虎口处</li></ol><p><img loading=\"lazy\" alt=\"港口镇\" src=\"/assets/images/GangKouZhen-1-d0c304efbbda433e55f9d9a96bec9462.png\" title=\"港口镇\" width=\"572\" height=\"606\" class=\"img_E7b_\"></p><p>漫步在镇上，遇到比较多的地名还有：</p><ol><li>港口大桥：内海上的一座桥，其实是个只能并排走两辆车的小桥</li><li>沙尾咀：西湾最下面</li><li>蔡家村：有个公园</li><li>港口中学：比较好导航的一个地方</li></ol><p><img loading=\"lazy\" alt=\"港口镇的拳头\" src=\"/assets/images/GangKouZhen-2-edc8cbd63163327325ce04d016c72d6c.png\" title=\"港口镇的拳头\" width=\"967\" height=\"808\" class=\"img_E7b_\"></p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"双月湾\">双月湾<a class=\"hash-link\" href=\"#双月湾\" title=\"Direct link to heading\">​</a></h3><p><img loading=\"lazy\" alt=\"双月湾\" src=\"/assets/images/ShuangYueWan-QuanJing-1-b84a8e2b1913f72a6f8586fc799a3f32.jpg\" width=\"1980\" height=\"688\" class=\"img_E7b_\"></p><p>双月湾的地形是<strong>双湾夹内海</strong>：</p><ol><li><strong>东湾</strong>：当地人称为<strong>右湾</strong>，波涛汹涌，无法游泳、没有娱乐设施。</li><li><strong>西湾</strong>：当地人称为<strong>左湾</strong>，风平浪静，已经开发，当地人又称为“景区”。</li><li><strong>内海</strong>：内海中停放着众多的渔船，西岸边是宾馆林立，东岸边是海鲜市场，一派渔村景象。</li></ol><p>双月湾的夜景也非常美丽，从灯光中你可以看到哪里是村落，哪里是道路。</p><p><img loading=\"lazy\" alt=\"双月湾-夜景\" src=\"/assets/images/ShuangYueWan-QuanJing-2-ef02c421c0f78ef19479338ce23f0c9d.jpg\" title=\"双月湾夜景\" width=\"960\" height=\"434\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"路线\">路线<a class=\"hash-link\" href=\"#路线\" title=\"Direct link to heading\">​</a></h2><p>深圳过去有两条路：</p><p><img loading=\"lazy\" alt=\"G15与S30\" src=\"/assets/images/G15-S30-d35b1a17010f5dbe2ef31de9c1f46fd3.png\" title=\"深圳过去有两条路:G15 和 S30\" width=\"413\" height=\"181\" class=\"img_E7b_\"></p><ol><li>南坪快速--水官高速（布龙--荷坳，12 元）--G25/G15（荷坳--稔山，42 元）<ul><li>路比较直，没什么景色，其中 S25 有一段还是单向两车道的老高速。</li><li>全程限速 100</li></ul></li><li>北环--罗沙--东部沿海/深盐二通道--<a href=\"https://baike.baidu.com/item/%E6%83%A0%E6%B7%B1%E6%B2%BF%E6%B5%B7%E9%AB%98%E9%80%9F%E5%85%AC%E8%B7%AF/964023?fr=aladdin\" target=\"_blank\" rel=\"noopener noreferrer\">S30<!-- -->_<!-- -->惠深沿海高速</a>（从头走到尾，43 元）<ul><li>东部沿海高速/深盐二通道：免费，罗湖到盐田<ul><li>只有 11km 左右，直接与 S30 的盐坝对接</li><li>盐田界内在原来的深盐路上做高架，所以叫“深盐二通道”</li></ul></li><li>S30 惠深沿海高速：盐田站--稔山，43 元<ul><li>深圳段：原盐坝高速，限速 80，看新闻这个月正在讨论盐坝和龙大的取消收费，但愿早日取消吧，这样去双月湾至少省 15，哈哈</li><li>惠州段：听说 2003 年原本计划建设的也是免费的一级公路，后来改成了收费的高速公路，但可恶的是，还是限速 100（网页上说限速 80，但路上现在是 100）</li><li>路面非常宽广，沿海而建，景色优美，只不过限速 80、100，实在蛋疼的要命。</li><li>S30 走到头刚好到稔山，简直就是为稔平半岛量身定制的，类似于上次去从化，<a href=\"http://zh.wikipedia.org/wiki/%E4%BB%8E%E8%8E%9E%E6%B7%B1%E9%AB%98%E9%80%9F%E5%85%AC%E8%B7%AF\" target=\"_blank\" rel=\"noopener noreferrer\">S29（从莞深高速）</a>简直就是为从化量身定制一样，走到头刚好到从化温泉镇。交通发达了，从深圳出发，不下高速能去的地方更多了。</li></ul></li></ul></li></ol><p>两条线路的比较：</p><ul><li>高速上耗时都差不多，1.5h。</li><li>深圳市内路段有差别：走南坪快速、和走北环-布心-罗沙还是差别挺大的。</li><li>惠东县内是一样的：下高速后走省道 S324 和县道要 1h，但景色美丽，沿途还有水果。</li></ul><p>从双月湾回深圳时，会依次路过“惠深沿海高速入口”和“G15 入口”，但在路过第一个入口的时候，路牌显示的是：</p><ul><li>直行：惠州 —— 应该优化为：G15（深圳）、惠州</li><li>右行：深圳 —— 应该优化为：S30（深圳）</li></ul><p>否则，大部分人都按着路牌走 S30 去了。走 S30 也不是不好，只不过周日回程路过大梅沙路段，可能会堵。</p><p><img loading=\"lazy\" alt=\"稔山收费站\" src=\"/assets/images/GaoSu-RenShanChuKou-9dbc238467200460934c4890937625ab.png\" title=\"G15和S30的稔山出入口\" width=\"1082\" height=\"742\" class=\"img_E7b_\"></p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"游记2014621-622\">游记（2014.6.21-6.22）<a class=\"hash-link\" href=\"#游记2014621-622\" title=\"Direct link to heading\">​</a></h2><p>几周前，从老大那里才听到的“双月湾”这个名字，本不怎么在意，自己在广东也呆了快 10 年了，清远、韶关、大小景点也算游历了不少，并且每次都是功课做足（就跟上文似得），怎么没听过这个双月湾呢？还在巽寮湾旁边？心想定是个偏远、不起眼的小地方。微博上搜了一下，也寥寥数个，不过是万科的一个楼盘、民宿也只能搜到两个，随后便放下了。</p><p>几天前，解放了的 S 要潇洒一把，同桌的 Z 是爱玩之人，即刻响应，3 家、5 人了，去哪里呢？就又想起双月湾，说走就走。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"上天帮助有冒险精神的人\">上天帮助有冒险精神的人<a class=\"hash-link\" href=\"#上天帮助有冒险精神的人\" title=\"Direct link to heading\">​</a></h3><p>找人，是第一步，问了几个，婉拒的理由无非是：</p><ul><li>“周末有大雨嘞” —— 潜台词是这个风险我不冒。有雨是真的，整个广东都正笼罩在阴雨中。</li><li>“太热了”、“太晒了” —— 这是根本没兴趣，随便找理由拒绝的人，因为天气都没问。</li><li>“两天啊？” —— 周末活动、充电、孩子学习……一堆事啊，周末比上班还忙的人。</li><li>“都有谁去啊？” —— 笃信“旅行不在于风景有多美，而在于跟谁一起看”的人。</li></ul><p>最后，S 连朋友圈上都发广告了，也没招募到。去球，我们 3 家够了。大雨算啥，我们的信条是：<strong>旅行，就要有冒险家精神</strong>。</p><p>周五晚，看着天天向上，听着外面哗哗的大雨，心中的焦虑不能说没有，要不怎么一直看到爸爸去哪儿都演完了才去睡。</p><p>周六早 8 点，两辆车在雨中出发了。</p><p>雨中开高速的经历不多，还是小心为上，一路速度都没上 100，雨刷夸夸的刮来刮去，车里连音乐都没放。</p><p>2h 的高速路一直在雨中，终于到了稔山收费站，一出收费站，雨停了，南边稔平半岛的天空也是蓝色的，这种心情就像赢了一场赌注。</p><p>下了高速就是省道 S324，沿途经过<strong>范和村</strong>，号称广东最美村庄，旁边就是范和港。车子在农田中穿梭，远处是雨后烟雾缭绕的群山。</p><p>没过多久，就到了一个叉路口，路牌上大字写着：往右（西边）是巽寮湾，往左（东边）没写啥，其实就是双月湾了。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"夏季是广东的水果季\">夏季是广东的水果季<a class=\"hash-link\" href=\"#夏季是广东的水果季\" title=\"Direct link to heading\">​</a></h3><p>乡间小路上大概走了 1h，沿途不时见到荔枝、火龙果的卖摊儿，6 月，正是吃荔枝和火龙果的季节，桂味快下市了，糯米糍刚上市，这里的桂味有两种，普通桂味核比较大，还有一种小核桂味，甚至比糯米糍的核还小。但糯米糍的魅力不光在于核小肉多，还在于剥着方便，皮不扎手，沿着果实顶部的一条线，双指一捏，线就破开了。捏的力气大了，喷出来的汁还会溅到脸上。</p><p>龙眼真的是刚刚上市，广东的学生朋友们都有“放了暑假吃龙眼”的常识，因为刚上市，还有点小贵，10 元/斤，和糯米糍一个价。桂味是 6 块/斤。</p><p>“老板，糯米糍便宜点吧，我称 10 斤……”，10 斤应该够 6 个人吃两天了吧。</p><p>车里立刻洋溢着吃货的笑声，“给爸爸喂一个”妈妈下了命令，小家伙塞我嘴里一个，好甜啊。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"住在海边但又听不到海浪\">住在海边但又听不到海浪<a class=\"hash-link\" href=\"#住在海边但又听不到海浪\" title=\"Direct link to heading\">​</a></h3><p>平海大桥，GPS 导航的终点站，终于到了，是个只能并排走两辆小车的桥，估计这名字是 20 年前起的吧。过桥之后就没啥岔路了，一条路走到港口镇的城镇上。</p><p>“海晴度假屋”是微博上能搜到不多的民宿之一，除此之外还有木木，其实开车沿途类似的民宿很多，只不过微博和百度上搜不到，和携程、柠檬合作的也多是宾馆，而不是民宿。</p><p>和海晴的主人周五晚通电话，海晴已经有人定了，你们定的太晚了，可帮忙介绍另一家，不临海但很近的民宿，不在景区，但就在海边，绝对不另你失望。—— 安排房子是组织者的头等大事，睡好了才能玩好，为了这个民宿到底能否让大家满意？有没有壮阔的海景？有没有安静的夜晚？这些矛盾的需求和电话里不能确定的答复，从昨晚一直折腾我到现在。</p><p>碰头之后，跟着他进了大澳村，来到一栋民宿前，屋前的龙眼挂满树枝，站在 3 楼，从前面楼的缝隙中可以看到大海，前行 30 米，是以前的码头--没有游人的海岸。这里是第 3 排房子，听不到海浪。太好了，晚上能睡个安静的觉了。</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"最晚的日落\">最晚的日落<a class=\"hash-link\" href=\"#最晚的日落\" title=\"Direct link to heading\">​</a></h3><p>今天是 6.21，夏至，太阳直射北回归线，惠州北纬 23 度，位于北回归线上，今天中午我们在太阳下如果笔直的站着，是没有影子的。太阳在每个人的正头顶，就像是保护我们的神祗的光环。</p><p>内海上有个浮船搭起来的海鲜大排档，濑尿虾有膏的 65，没膏的 25，鱿鱼 45，吃完了转身不过 100 米就上了西湾沙滩。</p><p>西湾沙滩号称 10 公里，确实很长，但有没有 10km 我看悬。沙子是黑沙，比黄沙细腻。由于天气预报的帮忙，沙滩上人不多，南半边的三三两两，北半边远处的沙滩基本没人。</p><p>我们原定的行程是先去爬山看全景，但既然走到这了，就先这吧，才下午两点多，比较晒，租了个帐篷撑起来，嗯，好多了。</p><p>玩吧：游泳、挖泥巴、埋人……无聊的玩法有着无尽的乐趣，或者说，越是无聊的玩法大家越喜欢，矜持的代价就是索然无味。</p><p><img loading=\"lazy\" src=\"/assets/images/ZuoWan-RiLuo-8a2e90fc4854ad87bd55645cfefbe789.JPG\" width=\"300\" height=\"200\" class=\"img_E7b_\"></p><p>4h 真是快，转眼太阳西斜。<strong>东湾看日出，西湾看日落</strong>。日落前是最佳的拍照时间，仅仅有半个小时的。相机纷纷出马：夕阳、余晖、剪影、逆光……手机都能拍出单反的效果，难道我的单反白买了？</p><p>夏至，也是北半球白天最长的一天，就是说：我们站在双月湾沙滩上等待的是<strong>最晚的日落</strong>，享受着比其他时间来西湾看日落的人多出的几分钟、或者几秒钟：滴答、滴答、滴答……</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"寂静夜晚的麻将声\">寂静夜晚的麻将声<a class=\"hash-link\" href=\"#寂静夜晚的麻将声\" title=\"Direct link to heading\">​</a></h3><p>路过一家 22 年老店，解决了晚餐，比午餐便宜了一半，呵呵。</p><p>回到住处，主人都快要睡觉了，听到我们回来，过来招呼。见我们拿出了麻将，立刻搬来了麻将桌。</p><p>主人家是个 3 层的小楼，第 1 层自己住，第 2 层给儿子和儿媳住，第 3 层外租。主人姓崔，52 了，看起来刚过 40，我称呼大姐，后来才发现她儿子都 30 多了，孙子今年 3 月份出生，我该叫阿姨才对啊。还是大姐吧，人家确实显得年轻。</p><p>崔姐平常肯定是早早休息的，穿着睡衣招呼了我们一会儿就睡觉去了，儿子儿媳好像也去娘家去了，难道是为了躲我们？真不好意思啊。</p><p>我们这群深圳的夜猫子洗漱、切瓜、开啤酒、把麻将桌搬到阳台，呼呼啦啦就开搓了。海边很凉爽，阳台上微风习习，四周都已经熄灯了，想必大澳村是个对外出租民宿很少的村子。</p><p>上半场手气不好，光当陪练了，下半场桌子搬屋里，忽然转运了，自摸好几把。咱不像某些人，屁胡也胡，咱非自摸不胡 :D</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"门不用关走就是了\">门不用关，走就是了<a class=\"hash-link\" href=\"#门不用关走就是了\" title=\"Direct link to heading\">​</a></h3><p>周日的早上 7 点，我就醒了，掀开窗帘，下着小雨，微微有些惆怅。没关系，上天帮助有冒险精神的人，出去溜达溜达。</p><p>出门前行 30 米，到海边，清晨的海浪拍打着岸边，有一个穿着朴素的老乡在补渔网。海边第一排的屋子每家都有一串水泥阶梯伸向海边，我们对面按理说应该就是大鹏半岛，相隔 30 公里，肉眼是看不到了。</p><p>站了一会，不是文人骚客，也不是文艺青年，对着这海面、海浪、和海风也发不出啥感慨。录了一段海浪拍打岸边的视频后，就转身回了。</p><p>回到崔姐家，大姐正在做早饭，站在旁边聊聊天。</p><blockquote><p>村子里有五百户左右，以前靠打渔为生，现在多是些老年人，年轻人一半都已经定居了香港，逢年过节才回来，平时没什么年轻人，游客也很少走到这里的，比较安静。村里有个妈祖庙，路径偏僻，灵验，还有无敌海景，如果想去可以带我们去。那边还有个私人沙滩。如果想去海龟湾还能熟人带我们半价进去…………</p></blockquote><p><img loading=\"lazy\" src=\"/assets/images/MaZuMiao-6c3ac14e6d4f77c8d303fb49ade00d60.jpg\" width=\"169\" height=\"300\" class=\"img_E7b_\"></p><p>我爸文化不高，但有个本事就是能和各种人、各地人聊天，一起出去旅游，我用手机找的景点之外，我爸都能找到更好玩、更隐蔽的。和当地人多聊天，不要指望网络、百度、手机、大众点评能发现一切！ —— 我在向我爸学习。</p><p>吃完崔姐给我们做的早饭：肉丝鱼饼粉，我们去了妈祖庙，真是无敌海景啊，广阔而高远。崔姐站在妈祖庙前也不由得说，常常到这里看看，心情都好很多，每次有烦心的事，拜拜妈祖，看看海景，就都过去了。</p><p>崔姐要去喝早茶，儿子儿媳又都不在，崔姐撂下一句话就走了：我去找阿姐喝早茶，你们想几点钟走都行，门不用关，走就是了。—— 房子就交给我们 6 大 1 小陌生人了，是我们几个天生长的一副好人脸么？</p><h3 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"东湾归来不看滩\">东湾归来不看滩<a class=\"hash-link\" href=\"#东湾归来不看滩\" title=\"Direct link to heading\">​</a></h3><p><img loading=\"lazy\" src=\"/assets/images/GuanJingDian-434b92d8ea96a8997e71957db47a3fef.jpg\" width=\"150\" height=\"200\" class=\"img_E7b_\"></p><p>看来昨天玩累了，海龟基地和爬山看全景的计划无人响应，算了，谁叫我们是“爱咋咋地散游团”呢，反正爬上去看到的和人家拍的照片也差不到哪里去，定是不会有什么大的新奇，罢了也就罢了。</p><p>私人沙滩不远，开车 3 分钟，过去瞄一眼吧。</p><p>哟！这里是黄沙，不是黑沙，黄沙粗，磨脚，没一会大家没了兴致。只剩下 6 岁的女儿孜孜不倦的捡贝壳，舍不得走。</p><p>12 点，结束旅程，启程回家。—— 本以为所有的惊喜都已经游历，哪知最大的彩蛋还在后面。</p><p>我来领路，思考着来时是沿着右湾走的，两边灌木丛生，没啥风景，回时不妨沿着左湾走，再瞅一眼左湾的沙滩和欢乐的人群。但没开导航，错过了拐上港口大桥的路口，竟又沿着右湾路走了上去。</p><p>右湾啥样子？从哪里拐进去？边走边想，灌木丛很长，沿着路边一直蔓延，但有多宽不知道。</p><p>唉？有个路口。停车！过去瞅瞅。一条小路穿过灌木丛，大概十几米宽，然后眼前跃出最最令人陶醉的一幕。</p><p><img loading=\"lazy\" src=\"/assets/images/YouWan-c3597fc5bff85896c034f1967ad84280.JPG\" width=\"800\" height=\"357\" class=\"img_E7b_\">\n广阔的海面，悠长的沙滩，只有 3、5 个渔民站在百米外的浅滩中劳作。\n细腻的黑沙坡度很小，一拨接一拨的海浪得以前后宽泛的冲刷，水涨、清澈的浪头不携带沙子，水落、浸润的沙面如镜面一般。\n海浪从很远处而来，一层层前仆后继，渔民在浪中时隐时现。\n小螃蟹不时钻出钻入，捡到的贝壳也总有活的……</p><p>言语已无法表达，照片亦无法记载。</p><p>阴天、无雨、不晒，感谢上天、和我们的冒险家精神，我们可以在这个沙滩上肆意奔跑、忘却时间。</p>",
            "url": "https://wkevin.github.io/blog/2014/06/24/shuang-yue-wan",
            "title": "双月湾-功课与游记",
            "summary": "目的地",
            "date_modified": "2014-06-24T22:38:39.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "旅游",
                "沙滩"
            ]
        },
        {
            "id": "/2014/05/20/git-mv-submodule",
            "content_html": "<p><code>git help submodule</code> 文档中找不到如何 mv 一个已有的 submodule，stackoverflow上可以搜到很多这个问题的解决办法，大多和本文的内容一样，晦涩而繁杂，没办法，好像没有完美而简洁的办法。\n本文只是分析 stackoverflow 上的解决办法，进行一些梳理和总结。</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"要素\">要素<a class=\"hash-link\" href=\"#要素\" title=\"Direct link to heading\">​</a></h2><p>重命名一个submodule，要涉及以下几个方面：</p><ol><li>.gitmodules\n1.1.\t.submodules\n1.2.\tpath</li><li>.git/config  //基本不需要修改 </li><li>.git/modules/\n3.1.\toldPath/xxx/config -- worktree\n3.2.\toldPath/submodule --&gt;  newPath/submodule</li><li>submodule/\n4.1.\t创建 newPath/submodule\n4.2.\tmv oldPaht/submodule/<em>.</em> --&gt; newPath/submodule/\n4.3.\tnewPath/submodule/.git -- gitdir\n4.4.\t删除 oldPath/submodule</li></ol><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"mv-操作\">mv 操作<a class=\"hash-link\" href=\"#mv-操作\" title=\"Direct link to heading\">​</a></h2><p>如何做“重命名”（mv）操作呢？两种方法：   </p><ol><li>一步步手工，把上面的1、2、3、4全部做完，就OK了</li><li>或者用 <code>git mv ...</code>实现部分，然后剩下的手工</li></ol><p><strong>详细说一下第2个方法</strong>\n<code>git mv oldpath/submodule  newpath/  </code> —— 其中存在一个陷进，参见本文最后一段\n<strong>上面命令执行后会发生什么？</strong></p><ul><li>如果：submodule 没做过 <code>git submodule update</code><ul><li>2、3、4.2、4.3都还没哟偶 </li><li>1.2、4.1 会做</li></ul></li><li>如果：submodule 已做过 <code>git submodule update</code><ul><li>1.1和2只是名字，没修改，不修改也没关系</li><li>1.2会修改</li><li>3.1 和 4.2 是一对，（3.1指向4.2），都会修改</li><li>3.2 和 4.3 是一对，（4.3指向3.2），都没修改 —— <strong>这部分还需要手工修改</strong>，但不改也是可以的</li><li>4.1 必然会做修改，没啥说的</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"merge-操作\">merge 操作<a class=\"hash-link\" href=\"#merge-操作\" title=\"Direct link to heading\">​</a></h2><p>维护 submodule 的人做完了重命名，自己爽快了，使用 submodule 的同学的痛苦就来了。</p><p><code>git pull</code> 或 <code>git merge ...</code>\n<strong>上面的命令执行后又发生了什么改变呢？</strong>  </p><ul><li>如果：submodule 没做过 <code>git submodule update</code><ul><li>修改：1.2、4.1、4.4</li></ul></li><li>如果：submodule 已做过 <code>git submodule update</code><ul><li>修改：1.2、4.1</li><li>没改：3.1、3.2、4.2、4.3</li><li>没改：4.4 —— oldpath/submdulle 没有删，但已经不受 git 管理，只能手工删除了</li><li><code>git submdule update newpath/submodule</code>：<ul><li>3.1-OK</li><li>4.2-OK，其实应该是从 .git/modules/submodule/ 里面恢复的</li><li>4.3-OK</li></ul></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"总结\">总结<a class=\"hash-link\" href=\"#总结\" title=\"Direct link to heading\">​</a></h2><table><thead><tr><th>No.</th><th>Contents</th><th><code>git mv old/subm new/</code></th><th><code>git merge newbranch</code></th><th><code>git submodule update</code></th></tr></thead><tbody><tr><td>1.1</td><td>.gitmodules -- submodules</td><td></td><td></td><td></td></tr><tr><td>1.2</td><td>.gitmodules -- path</td><td>Done</td><td>Done</td><td></td></tr><tr><td>2.</td><td>.git/config //受 <code>git submodule init/deinit</code> 影响</td><td></td><td></td><td></td></tr><tr><td>3.1</td><td>.git/modules/oldPath/submodule/config -- worktree</td><td>Done</td><td></td><td>Done</td></tr><tr><td>3.2</td><td>.git/modules/oldPath/submodule —&gt; .git/modules/newPath/submodule</td><td></td><td></td><td></td></tr><tr><td>4.1</td><td>创建 newPath/submodule</td><td>Done</td><td>Done</td><td></td></tr><tr><td>4.2</td><td>拷贝 oldPaht/submodule/. —&gt; newPath/submodule/</td><td>Done</td><td></td><td>Done</td></tr><tr><td>4.3</td><td>newPath/submodule/.git -- gitdir</td><td></td><td></td><td>Done</td></tr><tr><td>4.4</td><td>删除 oldPath/submodule</td><td>Try</td><td>Try</td><td></td></tr><tr><td></td><td>说明</td><td>4.3指向3.2，两个是一对，同时不修改</td><td>和git clone类似，新的submodule路径下没有东西</td><td></td></tr></tbody></table><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"其他\">其他<a class=\"hash-link\" href=\"#其他\" title=\"Direct link to heading\">​</a></h2><p><strong>git mv 的陷阱</strong></p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git mv ui/ext.UIActionSheet/AHKActionSheet/ freshman/ui/ext.UIActionSheet</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ ls freshman/ui/ext.UIActionSheet/     </span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">//什么都没有，错误</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ mkdir freshman/ui/ext.UIButton</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git mv ui/ext.UIButton/FlatButtons/ freshman/ui/ext.UIButton/</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ ls freshman/ui/ext.UIButton/</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">FlatButtons</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>对比上面两例，再查看 git mv 的help</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">to &lt;destination&gt;. In the second form, the last argument has to be an existing directory; the given sources will be moved into this directory.</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>结论：目标文件夹必须存在，否则就成了目标</p>",
            "url": "https://wkevin.github.io/blog/2014/05/20/git-mv-submodule",
            "title": "git submodule 的重命名",
            "summary": "git help submodule 文档中找不到如何 mv 一个已有的 submodule，stackoverflow上可以搜到很多这个问题的解决办法，大多和本文的内容一样，晦涩而繁杂，没办法，好像没有完美而简洁的办法。",
            "date_modified": "2014-05-20T00:45:23.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "git",
                "submodule"
            ]
        },
        {
            "id": "/2014/05/12/sublimetext",
            "content_html": "<p>ST3 比 ST2 加强了 project 的功能，如“F12 - 跳转到定义”，使得ST更像个IDE了。</p><p>下面按最常用、最喜欢的菜单排序</p><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"切换到-vi-模式\">切换到 vi 模式<a class=\"hash-link\" href=\"#切换到-vi-模式\" title=\"Direct link to heading\">​</a></h2><ul><li>Setting-Default：拷贝 <code>\"ignored_packages\": [\"Vintage\"]</code> —— Default是修改不了的</li><li>Setting-User：粘贴为 <code>\"ignored_packages\": [ ]</code> —— User的设置会覆盖Default</li><li>基本的字符、搜索、行、列……操作都是使用vi的快捷键实现，就不去再记忆一份ST的快捷键了</li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"goto\">Goto<a class=\"hash-link\" href=\"#goto\" title=\"Direct link to heading\">​</a></h2><ul><li>（搜索后）跳转<ul><li>跳转到文件：<strong>Ctrl + P</strong>：</li><li>跳转到 symbol：<strong>Ctrl + P，<code>@</code></strong>，或 <strong>Ctrl + R</strong></li><li>跳转到 word：<strong>Ctrl + P，<code>#</code></strong>，或 <strong>Ctrl + ;</strong></li><li>跳转到 line：<strong>Ctrl + P，<code>:</code></strong>，或 <strong>Ctrl + g</strong></li><li>跳转到 定义：<strong>F12</strong> —— ST3中新增，需要文件首先加入到project中</li></ul></li><li>向回和向前跳转：<strong>Alt + <code>-</code></strong> 和 <strong>Alt + Shift + <code>-</code></strong></li><li>文件切换<ul><li>Tab直接定位：<strong>Alt + 1/2/3/...</strong></li><li>Tab间切换：<strong>Ctrl + PageDown/Up</strong></li><li>头文件和源文件之间切换：<strong>Alt + O</strong></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"select\">Select<a class=\"hash-link\" href=\"#select\" title=\"Direct link to heading\">​</a></h2><ul><li>Multiple Selections（多重选择）<ul><li><strong>Ctrl + 鼠标左键</strong>：同时在多个地方放置光标，然后可进行同时的修改、删除等</li><li><strong>Ctrl + D</strong>：选中相同的word<ul><li>依次 <strong>Ctrl + D</strong>，选中每一个想要的，然后可进行同时的修改、删除等</li><li>遇到某个不想要的，用 <strong>Ctrl + K</strong> &amp; <strong>Ctrl + D</strong> 跳过</li><li>取消选定：<strong>Ctrl + U</strong></li></ul></li><li>上述两种操作也可以组合使用：先 Ctrl+D，在Ctrl+左键选……</li></ul></li><li>Column Selection<ul><li>Windows： \t<strong>Ctrl + Alt + Up/Down</strong>，或者<strong>Shift + 右键拖动</strong></li><li>Linux： <strong>Alt + ⇧ + Up/Down</strong></li><li>OS X： <strong>⌃ + ⇧ + Up/Down</strong></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"view\">View<a class=\"hash-link\" href=\"#view\" title=\"Direct link to heading\">​</a></h2><ul><li>Groups：<ul><li>新建 Group：<strong>Ctrl + K</strong> &amp; <strong>Ctrl + Shift + Up</strong></li><li>新建 Group，并将当前文件挪过去：<strong>Ctrl + K</strong> &amp; <strong>Ctrl + Up</strong></li><li>关闭 Group：<strong>Ctrl + K</strong> &amp; <strong>Ctrl + Down</strong></li><li>光标在Group之间切换：<strong>Ctrl + 1/2/3/...</strong></li><li>文件在Group之间挪动：<strong>Ctrl + Shift + 1/2/3/...</strong> -- 当前光标所在文件被挪到指定group</li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"tools\">Tools<a class=\"hash-link\" href=\"#tools\" title=\"Direct link to heading\">​</a></h2><ul><li>Command Pallete（命令操作）：<strong>Ctrl + Shift + P</strong>，<a href=\"http://docs.sublimetext.info/en/latest/reference/commands.html\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a></li></ul><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"plugin\">Plugin<a class=\"hash-link\" href=\"#plugin\" title=\"Direct link to heading\">​</a></h2><p>请百度</p>",
            "url": "https://wkevin.github.io/blog/2014/05/12/sublimetext",
            "title": "Sublime Text",
            "summary": "ST3 比 ST2 加强了 project 的功能，如“F12 - 跳转到定义”，使得ST更像个IDE了。",
            "date_modified": "2014-05-12T16:55:40.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "sublime"
            ]
        },
        {
            "id": "/2014/05/05/git-submodule",
            "content_html": "<h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"常规操作\">常规操作<a class=\"hash-link\" href=\"#常规操作\" title=\"Direct link to heading\">​</a></h2><p>发布者：维护父项目与submodule之间的依赖关系</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule add https://......</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git commit</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>使用者：使用父项目，透明处理或更新submodule，但不修改依赖关系</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git clone https://github.com/wkevin/iOS.grocery.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ cd iOS.grocery</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule init</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule update</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"存在的问题\">存在的问题<a class=\"hash-link\" href=\"#存在的问题\" title=\"Direct link to heading\">​</a></h2><ol><li>使用者 update 后， submodule 的本地目录中代码不是最新的</li><li>使用者 update 后， submodule 的HEAD处于 detached（游离）状态</li></ol><p>git submodule 要实现“父项目依赖于子项目”，可以有两种<strong>依赖</strong>方式：\n（1）依赖于某个指定commit，不一定是最新\n（2）依赖于某个子项目的branch</p><p>无论（1）还是（2），.git 库中都记录着 submodule 的一个 commit id，用来记录依赖关系，和跟踪本地工作拷贝的修改。</p><p>常规操作中（即默认）是第（1），所以 <code>git submodule update</code> 会按照指定的 commit id 来checkout，而不是 master 的最新。\n使用者可以使用下面的命令递归更新所有 submodule  </p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule foreach --recursive git fetch origin</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>然后记得进去 git merge</p><p>方式（2）是这样操作的：\n发布者：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule add -b branch-xxx https://......</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>使用者：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule update --remote</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>这样clone出来的 submodule 将会是 branch-xxx 分支的最新 commit</p><p>无论是方式（1）or（2），都会存在“submodule 处于 detached 状态”问题</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ cd submodule-xxx</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git branch -avv</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">*(detached from 53d8811) 53d8811 Create README.md</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  master                  0163586 [origin/master] Update README.md</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  remotes/origin/HEAD     -&gt; origin/master</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  remotes/origin/master   0163586 Update README.md</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p><strong>只好进去把本地目录切到想要的分支上：</strong></p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ cd submodule-xxx</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git checkout branch-xxx</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><h2 class=\"anchor anchorWithStickyNavbar_mojV\" id=\"推荐操作\">推荐操作<a class=\"hash-link\" href=\"#推荐操作\" title=\"Direct link to heading\">​</a></h2><p>发布者：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule add -b master https://......</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git commit</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>使用者：</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git clone https://github.com/wkevin/iOS.grocery.git</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ cd iOS.grocery</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule init</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule update --remote</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule foreach --recursive git fetch origin</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>不要试图把最后一句换成</p><div class=\"codeBlockContainer_I0IT theme-code-block\"><div class=\"codeBlockContent_wNvx\" style=\"color:#393A34;background-color:#f6f8fa\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_jd64 thin-scrollbar\"><code class=\"codeBlockLines_mRuA\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">$ git submodule foreach --recursive git pull origin master</span><br></span></code></pre><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"copyButton_eDfN clean-btn\"><span class=\"copyButtonIcons_W9eQ\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_XEyF\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_i9w9\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div><p>git 的branch很活跃，到底哪个才是你想要的，最好确认好了再merge。</p>",
            "url": "https://wkevin.github.io/blog/2014/05/05/git-submodule",
            "title": "git submodule 操作",
            "summary": "常规操作",
            "date_modified": "2014-05-05T13:59:46.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "git",
                "submodule"
            ]
        },
        {
            "id": "/2014/05/04/free-software-licenses",
            "content_html": "<p>转载：</p><p><a href=\"http://paulmillr.com/posts/simple-description-of-popular-software-licenses/\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Simple description of popular software licenses\"><img loading=\"lazy\" src=\"http://paulmillr.com/media/posts/simple-description-of-popular-software-licenses/open-source-licenses-en.png\" class=\"img_E7b_\"></a></p><p><a href=\"http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"如何选择开源许可证？\"><img loading=\"lazy\" src=\"http://image.beekka.com/blog/201105/free_software_licenses.png\" class=\"img_E7b_\"></a></p>",
            "url": "https://wkevin.github.io/blog/2014/05/04/free-software-licenses",
            "title": "Free software licenses",
            "summary": "转载：",
            "date_modified": "2014-05-04T20:55:09.000Z",
            "author": {
                "name": "wKevin",
                "url": "http://wkevin.github.io/"
            },
            "tags": [
                "license"
            ]
        }
    ]
}